!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("rxjs"),require("rxjs/operators")):"function"==typeof define&&define.amd?define(["rxjs","rxjs/operators"],t):"object"==typeof exports?exports.IoTizeDeviceClient=t(require("rxjs"),require("rxjs/operators")):e.IoTizeDeviceClient=t(e.rxjs,e.rxjs.operators)}(window,function(e,t){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=84)}([function(e,t,r){e.exports=function(){var e=e||function(e,t){var r=Object.create||function(){function e(){}return function(t){var r;return e.prototype=t,r=new e,e.prototype=null,r}}(),n={},o=n.lib={},i=o.Base={extend:function(e){var t=r(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},a=o.WordArray=i.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=void 0!=t?t:4*e.length},toString:function(e){return(e||c).stringify(this)},concat:function(e){var t=this.words,r=e.words,n=this.sigBytes,o=e.sigBytes;if(this.clamp(),n%4)for(var i=0;i<o;i++){var a=r[i>>>2]>>>24-i%4*8&255;t[n+i>>>2]|=a<<24-(n+i)%4*8}else for(var i=0;i<o;i+=4)t[n+i>>>2]=r[i>>>2];return this.sigBytes+=o,this},clamp:function(){var t=this.words,r=this.sigBytes;t[r>>>2]&=4294967295<<32-r%4*8,t.length=e.ceil(r/4)},clone:function(){var e=i.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var r,n=[],o=function(t){var t=t,r=987654321,n=4294967295;return function(){var o=((r=36969*(65535&r)+(r>>16)&n)<<16)+(t=18e3*(65535&t)+(t>>16)&n)&n;return o/=4294967296,(o+=.5)*(e.random()>.5?1:-1)}},i=0;i<t;i+=4){var s=o(4294967296*(r||e.random()));r=987654071*s(),n.push(4294967296*s()|0)}return new a.init(n,t)}}),s=n.enc={},c=s.Hex={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],o=0;o<r;o++){var i=t[o>>>2]>>>24-o%4*8&255;n.push((i>>>4).toString(16)),n.push((15&i).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r[n>>>3]|=parseInt(e.substr(n,2),16)<<24-n%8*4;return new a.init(r,t/2)}},u=s.Latin1={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],o=0;o<r;o++){var i=t[o>>>2]>>>24-o%4*8&255;n.push(String.fromCharCode(i))}return n.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n++)r[n>>>2]|=(255&e.charCodeAt(n))<<24-n%4*8;return new a.init(r,t)}},p=s.Utf8={stringify:function(e){try{return decodeURIComponent(escape(u.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return u.parse(unescape(encodeURIComponent(e)))}},f=o.BufferedBlockAlgorithm=i.extend({reset:function(){this._data=new a.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=p.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var r=this._data,n=r.words,o=r.sigBytes,i=this.blockSize,s=4*i,c=o/s,u=(c=t?e.ceil(c):e.max((0|c)-this._minBufferSize,0))*i,p=e.min(4*u,o);if(u){for(var f=0;f<u;f+=i)this._doProcessBlock(n,f);var l=n.splice(0,u);r.sigBytes-=p}return new a.init(l,p)},clone:function(){var e=i.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),l=(o.Hasher=f.extend({cfg:i.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){f.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){e&&this._append(e);var t=this._doFinalize();return t},blockSize:16,_createHelper:function(e){return function(t,r){return new e.init(r).finalize(t)}},_createHmacHelper:function(e){return function(t,r){return new l.HMAC.init(e,r).finalize(t)}}}),n.algo={});return n}(Math);return e}()},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(76)),n(r(28)),n(r(8))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(8);t.Converter=n;var o=r(7);t.FormatHelper=o.FormatHelper,function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(28))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(91);t.APDU=n;var o=r(15);t.FormatHelper=o.FormatHelper;var i=r(96);t.Crypto=i},function(e,t,r){e.exports=function(e){e.lib.Cipher||function(t){var r=e,n=r.lib,o=n.Base,i=n.WordArray,a=n.BufferedBlockAlgorithm,s=r.enc,c=(s.Utf8,s.Base64),u=r.algo,p=u.EvpKDF,f=n.Cipher=a.extend({cfg:o.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,r){this.cfg=this.cfg.extend(r),this._xformMode=e,this._key=t,this.reset()},reset:function(){a.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){e&&this._append(e);var t=this._doFinalize();return t},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return"string"==typeof e?w:b}return function(t){return{encrypt:function(r,n,o){return e(n).encrypt(t,r,n,o)},decrypt:function(r,n,o){return e(n).decrypt(t,r,n,o)}}}}()}),l=(n.StreamCipher=f.extend({_doFinalize:function(){var e=this._process(!0);return e},blockSize:1}),r.mode={}),h=n.BlockCipherMode=o.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),d=l.CBC=function(){var e=h.extend();function r(e,r,n){var o=this._iv;if(o){var i=o;this._iv=t}else var i=this._prevBlock;for(var a=0;a<n;a++)e[r+a]^=i[a]}return e.Encryptor=e.extend({processBlock:function(e,t){var n=this._cipher,o=n.blockSize;r.call(this,e,t,o),n.encryptBlock(e,t),this._prevBlock=e.slice(t,t+o)}}),e.Decryptor=e.extend({processBlock:function(e,t){var n=this._cipher,o=n.blockSize,i=e.slice(t,t+o);n.decryptBlock(e,t),r.call(this,e,t,o),this._prevBlock=i}}),e}(),y=r.pad={},_=y.Pkcs7={pad:function(e,t){for(var r=4*t,n=r-e.sigBytes%r,o=n<<24|n<<16|n<<8|n,a=[],s=0;s<n;s+=4)a.push(o);var c=i.create(a,n);e.concat(c)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},g=(n.BlockCipher=f.extend({cfg:f.cfg.extend({mode:d,padding:_}),reset:function(){f.reset.call(this);var e=this.cfg,t=e.iv,r=e.mode;if(this._xformMode==this._ENC_XFORM_MODE)var n=r.createEncryptor;else{var n=r.createDecryptor;this._minBufferSize=1}this._mode&&this._mode.__creator==n?this._mode.init(this,t&&t.words):(this._mode=n.call(r,this,t&&t.words),this._mode.__creator=n)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){e.pad(this._data,this.blockSize);var t=this._process(!0)}else{var t=this._process(!0);e.unpad(t)}return t},blockSize:4}),n.CipherParams=o.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}})),v=r.format={},m=v.OpenSSL={stringify:function(e){var t=e.ciphertext,r=e.salt;if(r)var n=i.create([1398893684,1701076831]).concat(r).concat(t);else var n=t;return n.toString(c)},parse:function(e){var t=c.parse(e),r=t.words;if(1398893684==r[0]&&1701076831==r[1]){var n=i.create(r.slice(2,4));r.splice(0,4),t.sigBytes-=16}return g.create({ciphertext:t,salt:n})}},b=n.SerializableCipher=o.extend({cfg:o.extend({format:m}),encrypt:function(e,t,r,n){n=this.cfg.extend(n);var o=e.createEncryptor(r,n),i=o.finalize(t),a=o.cfg;return g.create({ciphertext:i,key:r,iv:a.iv,algorithm:e,mode:a.mode,padding:a.padding,blockSize:e.blockSize,formatter:n.format})},decrypt:function(e,t,r,n){n=this.cfg.extend(n),t=this._parse(t,n.format);var o=e.createDecryptor(r,n).finalize(t.ciphertext);return o},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),E=r.kdf={},C=E.OpenSSL={execute:function(e,t,r,n){n||(n=i.random(8));var o=p.create({keySize:t+r}).compute(e,n),a=i.create(o.words.slice(t),4*r);return o.sigBytes=4*t,g.create({key:o,iv:a,salt:n})}},w=n.PasswordBasedCipher=b.extend({cfg:b.cfg.extend({kdf:C}),encrypt:function(e,t,r,n){var o=(n=this.cfg.extend(n)).kdf.execute(r,e.keySize,e.ivSize);n.iv=o.iv;var i=b.encrypt.call(this,e,t,o.key,n);return i.mixIn(o),i},decrypt:function(e,t,r,n){n=this.cfg.extend(n),t=this._parse(t,n.format);var o=n.kdf.execute(r,e.keySize,e.ivSize,t.salt);n.iv=o.iv;var i=b.decrypt.call(this,e,t,o.key,n);return i}})}()}(r(0),r(10))},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=r(9),o=r(7),i=function(){function t(e){this._lsb=!1,this._offset=0,this._data=e}return Object.defineProperty(t.prototype,"lsb",{get:function(){return this._lsb},set:function(e){this._lsb=e},enumerable:!0,configurable:!0}),t.merge=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=e.reduce(function(e,t){return e+t.length},0),o=t.create(n);return e.forEach(function(e){o.add(e)}),o},t.from=function(e){return new t(e)},t.prototype.readNumber=function(t,r,o){void 0===t&&(t=4),void 0===r&&(r=!0),void 0===o&&(o=void 0);var i=this._data.slice(this._offset,this._offset+t);if(o=void 0===o?this._lsb:o,this._data.byteLength<this._offset+t)throw new Error("Buffer overflow at index "+(this._offset+t)+". Max is "+i.byteLength);console.log("Read data "+this._offset+" to "+(this._offset+t)+" <=> "+e.from(i).toString("hex"));var a=n.NumberConverter.fromBytes(i,t,r,o);return this._offset+=t,a},t.prototype.get_number=function(e){return this.readNumber(e)},t.prototype.get_string=function(e){return o.FormatHelper.toAsciiString(this.readArray(e))},t.prototype.get_bytes=function(e){return this.readArray(e)},t.prototype.put_bytes=function(e,t){return this.add(e,t),this},t.prototype.readUnsignedNumber=function(e,t){return void 0===e&&(e=4),this.readNumber(e,!1,t)},t.prototype.readArray=function(e){if(e||(e=this._data.length-this._offset),console.log("readArray",e,"index",this._offset),0==e)return new Uint8Array(0);var t=this._data.subarray(this._offset,this._offset+e);return this._offset+=e,t},Object.defineProperty(t.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),t.prototype.put_boolean=function(e,t){return console.log("put_boolean",e,t,this._data[this._offset]),e?this._data[this._offset]|=t:this._data[this._offset]&=~t,this},t.prototype.put_string=function(e,t){var r=o.FormatHelper.toByteBuffer(e);return this.add(r,t),this},t.prototype.build=function(){return this._data.slice(0,this._offset)},t.prototype.forward=function(e){return this._offset+=e,this},t.prototype.add=function(e,t){return t?e=e.slice(0,t):t=e?e.length:0,0==t?this:(this._data.set(e,this._offset),this._offset+=t,this)},t.prototype.put_number=function(e,t){return this.addNumber(e,t)},t.prototype.addNumber=function(e,t,r){void 0===t&&(t=4),void 0===r&&(r=!1),r=void 0===r?this._lsb:r;var o=n.NumberConverter.toOpaqueMsb(e,8*t);return r&&(o=o.reverse()),this.add(o),this},t.create=function(e){return new t(new Uint8Array(e))},Object.defineProperty(t.prototype,"offset",{get:function(){return this._offset},set:function(e){this._offset=e},enumerable:!0,configurable:!0}),t}();t.ByteBuffer=i}).call(this,r(13).Buffer)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(26);t.Command=n.Command;var o=r(23);t.PathParameter=o.PathParameter;var i=r(64);t.AbstractService=i.AbstractService;var a=r(49);t.SinglePacket=a.SinglePacket;var s=r(65);t.ApiConfig=s.ApiConfig},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.toByteBuffer=function(e){for(var t=new Uint8Array(e.length),r=0,n=e.length;r<n;r++)t[r]=e.charCodeAt(r);return t},e.toHexString=function(e){return Array.prototype.map.call(e,function(e){return("00"+e.toString(16)).slice(-2)}).join("").toUpperCase()},e.toBinaryString=function(e){return Array.prototype.map.call(e,function(e){for(var t="",r=7;r>=0;r--)t+=(1<<r&e)>0?"1":"0";return t}).join("")},e.hexStringToBuffer=function(e){for(var t=new Uint8Array(Math.ceil(e.length/2)),r=0;r<t.length;r++)t[r]=parseInt(e.substr(2*r,2),16);return t},e.toAsciiString=function(e){return String.fromCharCode.apply(null,e)},e.toUnsignedInt=function(e,t,r){void 0===t&&(t=4),void 0===r&&(r=!0);var n=0;r&&(e=e.reverse());for(var o=0;o<e.length&&o<t;o++)n=(n<<8)+(255&e[o]);return n},e}();t.FormatHelper=n},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(57)),n(r(9)),n(r(136)),n(r(137)),n(r(58)),n(r(138)),n(r(139)),n(r(140)),n(r(141))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.options=e}return e.uint8Instance=function(t){return void 0===t&&(t=!1),new e({signed:!1,sizeOf:8,leastSignificantBitFirst:t})},e.uint32Instance=function(t){return void 0===t&&(t=!1),new e({signed:!1,sizeOf:32,leastSignificantBitFirst:t})},e.int32Instance=function(t){return void 0===t&&(t=!1),new e({signed:!0,sizeOf:32,leastSignificantBitFirst:t})},e.int16Instance=function(t){return void 0===t&&(t=!1),new e({signed:!0,sizeOf:16,leastSignificantBitFirst:t})},e.int8Instance=function(t){return void 0===t&&(t=!1),new e({signed:!0,sizeOf:8,leastSignificantBitFirst:t})},e.uint16Instance=function(t){return void 0===t&&(t=!1),new e({signed:!1,sizeOf:16,leastSignificantBitFirst:t})},e.prototype.decode=function(t){if(8*t.length<this.options.sizeOf)throw new Error("Expected number of "+this.options.sizeOf+" bits but found only "+8*t.length+" bits of data");return e.fromBytes(t,this.options.sizeOf/8,this.options.signed,this.options.leastSignificantBitFirst)},e.prototype.encode=function(e){for(var t=new Uint8Array(this.options.sizeOf>>3),r=0;r<t.length;r++){var n=8*(t.length-r-1);t[r]=e>>n&255}return this.options.leastSignificantBitFirst&&t.reverse(),t},e.toOpaqueMsb=function(e,t){if(8==t)return new Uint8Array([255&e]);if(16==t)return new Uint8Array([e>>7&255,255&e]);if(32==t)return new Uint8Array([e>>24&255,e>>16&255,e>>8&255,255&e]);throw new Error("Invalid size "+t+". Must be 8, 16 or 32")},e.fromOpaqueMsb=function(e,t){if(t||(t=8*e.length),8==t)return 255&e[0];if(16==t)return(255&e[1])+((255&e[0])<<8);if(32==t)return(255&e[3])+((255&e[2])<<8)+((255&e[1])<<16)+((255&e[0])<<24);throw new Error("Invalid size "+t+". Must be 8, 16 or 32")},e.fromBytes=function(e,t,r,n){n&&(e=e.reverse());for(var o,i=0,a=0,s=0;s<t;s++){if(o=8*(t-s-1),a>(i+=(255&e[s])<<o>>>0)&&!r)throw new Error("Overflow. Last value: "+a+" but new is "+i);a=i}return r&&128==(128&e[0])&&(i=-(Math.pow(2,8*t)-i)),i},e}();t.NumberConverter=n},function(e,t,r){e.exports=function(e){return function(){var t=e,r=t.lib,n=r.Base,o=r.WordArray,i=t.algo,a=i.MD5,s=i.EvpKDF=n.extend({cfg:n.extend({keySize:4,hasher:a,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var r=this.cfg,n=r.hasher.create(),i=o.create(),a=i.words,s=r.keySize,c=r.iterations;a.length<s;){u&&n.update(u);var u=n.update(e).finalize(t);n.reset();for(var p=1;p<c;p++)u=n.finalize(u),n.reset();i.concat(u)}return i.sigBytes=4*s,i}});t.EvpKDF=function(e,t,r){return s.create(r).compute(e,t)}}(),e.EvpKDF}(r(0),r(20),r(21))},function(e,t,r){e.exports=function(e){return function(){var t=e,r=t.lib.WordArray;t.enc.Base64={stringify:function(e){var t=e.words,r=e.sigBytes,n=this._map;e.clamp();for(var o=[],i=0;i<r;i+=3)for(var a=(t[i>>>2]>>>24-i%4*8&255)<<16|(t[i+1>>>2]>>>24-(i+1)%4*8&255)<<8|t[i+2>>>2]>>>24-(i+2)%4*8&255,s=0;s<4&&i+.75*s<r;s++)o.push(n.charAt(a>>>6*(3-s)&63));var c=n.charAt(64);if(c)for(;o.length%4;)o.push(c);return o.join("")},parse:function(e){var t=e.length,n=this._map,o=this._reverseMap;if(!o){o=this._reverseMap=[];for(var i=0;i<n.length;i++)o[n.charCodeAt(i)]=i}var a=n.charAt(64);if(a){var s=e.indexOf(a);-1!==s&&(t=s)}return function(e,t,n){for(var o=[],i=0,a=0;a<t;a++)if(a%4){var s=n[e.charCodeAt(a-1)]<<a%4*2,c=n[e.charCodeAt(a)]>>>6-a%4*2;o[i>>>2]|=(s|c)<<24-i%4*8,i++}return r.create(o,i)}(e,t,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),e.enc.Base64}(r(0))},function(e,t,r){e.exports=function(e){return function(t){var r=e,n=r.lib,o=n.WordArray,i=n.Hasher,a=r.algo,s=[];!function(){for(var e=0;e<64;e++)s[e]=4294967296*t.abs(t.sin(e+1))|0}();var c=a.MD5=i.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var r=0;r<16;r++){var n=t+r,o=e[n];e[n]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8)}var i=this._hash.words,a=e[t+0],c=e[t+1],h=e[t+2],d=e[t+3],y=e[t+4],_=e[t+5],g=e[t+6],v=e[t+7],m=e[t+8],b=e[t+9],E=e[t+10],C=e[t+11],w=e[t+12],T=e[t+13],P=e[t+14],S=e[t+15],O=i[0],I=i[1],A=i[2],B=i[3];I=l(I=l(I=l(I=l(I=f(I=f(I=f(I=f(I=p(I=p(I=p(I=p(I=u(I=u(I=u(I=u(I,A=u(A,B=u(B,O=u(O,I,A,B,a,7,s[0]),I,A,c,12,s[1]),O,I,h,17,s[2]),B,O,d,22,s[3]),A=u(A,B=u(B,O=u(O,I,A,B,y,7,s[4]),I,A,_,12,s[5]),O,I,g,17,s[6]),B,O,v,22,s[7]),A=u(A,B=u(B,O=u(O,I,A,B,m,7,s[8]),I,A,b,12,s[9]),O,I,E,17,s[10]),B,O,C,22,s[11]),A=u(A,B=u(B,O=u(O,I,A,B,w,7,s[12]),I,A,T,12,s[13]),O,I,P,17,s[14]),B,O,S,22,s[15]),A=p(A,B=p(B,O=p(O,I,A,B,c,5,s[16]),I,A,g,9,s[17]),O,I,C,14,s[18]),B,O,a,20,s[19]),A=p(A,B=p(B,O=p(O,I,A,B,_,5,s[20]),I,A,E,9,s[21]),O,I,S,14,s[22]),B,O,y,20,s[23]),A=p(A,B=p(B,O=p(O,I,A,B,b,5,s[24]),I,A,P,9,s[25]),O,I,d,14,s[26]),B,O,m,20,s[27]),A=p(A,B=p(B,O=p(O,I,A,B,T,5,s[28]),I,A,h,9,s[29]),O,I,v,14,s[30]),B,O,w,20,s[31]),A=f(A,B=f(B,O=f(O,I,A,B,_,4,s[32]),I,A,m,11,s[33]),O,I,C,16,s[34]),B,O,P,23,s[35]),A=f(A,B=f(B,O=f(O,I,A,B,c,4,s[36]),I,A,y,11,s[37]),O,I,v,16,s[38]),B,O,E,23,s[39]),A=f(A,B=f(B,O=f(O,I,A,B,T,4,s[40]),I,A,a,11,s[41]),O,I,d,16,s[42]),B,O,g,23,s[43]),A=f(A,B=f(B,O=f(O,I,A,B,b,4,s[44]),I,A,w,11,s[45]),O,I,S,16,s[46]),B,O,h,23,s[47]),A=l(A,B=l(B,O=l(O,I,A,B,a,6,s[48]),I,A,v,10,s[49]),O,I,P,15,s[50]),B,O,_,21,s[51]),A=l(A,B=l(B,O=l(O,I,A,B,w,6,s[52]),I,A,d,10,s[53]),O,I,E,15,s[54]),B,O,c,21,s[55]),A=l(A,B=l(B,O=l(O,I,A,B,m,6,s[56]),I,A,S,10,s[57]),O,I,g,15,s[58]),B,O,T,21,s[59]),A=l(A,B=l(B,O=l(O,I,A,B,y,6,s[60]),I,A,C,10,s[61]),O,I,h,15,s[62]),B,O,b,21,s[63]),i[0]=i[0]+O|0,i[1]=i[1]+I|0,i[2]=i[2]+A|0,i[3]=i[3]+B|0},_doFinalize:function(){var e=this._data,r=e.words,n=8*this._nDataBytes,o=8*e.sigBytes;r[o>>>5]|=128<<24-o%32;var i=t.floor(n/4294967296),a=n;r[15+(o+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),r[14+(o+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),e.sigBytes=4*(r.length+1),this._process();for(var s=this._hash,c=s.words,u=0;u<4;u++){var p=c[u];c[u]=16711935&(p<<8|p>>>24)|4278255360&(p<<24|p>>>8)}return s},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});function u(e,t,r,n,o,i,a){var s=e+(t&r|~t&n)+o+a;return(s<<i|s>>>32-i)+t}function p(e,t,r,n,o,i,a){var s=e+(t&n|r&~n)+o+a;return(s<<i|s>>>32-i)+t}function f(e,t,r,n,o,i,a){var s=e+(t^r^n)+o+a;return(s<<i|s>>>32-i)+t}function l(e,t,r,n,o,i,a){var s=e+(r^(t|~n))+o+a;return(s<<i|s>>>32-i)+t}r.MD5=i._createHelper(c),r.HmacMD5=i._createHmacHelper(c)}(Math),e.MD5}(r(0))},function(e,t,r){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var n=r(131),o=r(132),i=r(133);function a(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=c.prototype:(null===e&&(e=new c(t)),e.length=t),e}function c(e,t,r){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return f(this,e)}return u(this,e,t,r)}function u(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n);c.TYPED_ARRAY_SUPPORT?(e=t).__proto__=c.prototype:e=l(e,t);return e}(e,t,r,n):"string"==typeof t?function(e,t,r){"string"==typeof r&&""!==r||(r="utf8");if(!c.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|d(t,r),o=(e=s(e,n)).write(t,r);o!==n&&(e=e.slice(0,o));return e}(e,t,r):function(e,t){if(c.isBuffer(t)){var r=0|h(t.length);return 0===(e=s(e,r)).length?e:(t.copy(e,0,0,r),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||function(e){return e!=e}(t.length)?s(e,0):l(e,t);if("Buffer"===t.type&&i(t.data))return l(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function p(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function f(e,t){if(p(t),e=s(e,t<0?0:0|h(t)),!c.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function l(e,t){var r=t.length<0?0:0|h(t.length);e=s(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function h(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function d(e,t){if(c.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return j(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return F(e).length;default:if(n)return j(e).length;t=(""+t).toLowerCase(),n=!0}}function y(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function _(e,t,r,n,o){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=o?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(o)return-1;r=e.length-1}else if(r<0){if(!o)return-1;r=0}if("string"==typeof t&&(t=c.from(t,n)),c.isBuffer(t))return 0===t.length?-1:g(e,t,r,n,o);if("number"==typeof t)return t&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):g(e,[t],r,n,o);throw new TypeError("val must be string, number or Buffer")}function g(e,t,r,n,o){var i,a=1,s=e.length,c=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;a=2,s/=2,c/=2,r/=2}function u(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(o){var p=-1;for(i=r;i<s;i++)if(u(e,i)===u(t,-1===p?0:i-p)){if(-1===p&&(p=i),i-p+1===c)return p*a}else-1!==p&&(i-=i-p),p=-1}else for(r+c>s&&(r=s-c),i=r;i>=0;i--){for(var f=!0,l=0;l<c;l++)if(u(e,i+l)!==u(t,l)){f=!1;break}if(f)return i}return-1}function v(e,t,r,n){r=Number(r)||0;var o=e.length-r;n?(n=Number(n))>o&&(n=o):n=o;var i=t.length;if(i%2!=0)throw new TypeError("Invalid hex string");n>i/2&&(n=i/2);for(var a=0;a<n;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[r+a]=s}return a}function m(e,t,r,n){return z(j(t,e.length-r),e,r,n)}function b(e,t,r,n){return z(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function E(e,t,r,n){return b(e,t,r,n)}function C(e,t,r,n){return z(F(t),e,r,n)}function w(e,t,r,n){return z(function(e,t){for(var r,n,o,i=[],a=0;a<e.length&&!((t-=2)<0);++a)r=e.charCodeAt(a),n=r>>8,o=r%256,i.push(o),i.push(n);return i}(t,e.length-r),e,r,n)}function T(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function P(e,t,r){r=Math.min(e.length,r);for(var n=[],o=t;o<r;){var i,a,s,c,u=e[o],p=null,f=u>239?4:u>223?3:u>191?2:1;if(o+f<=r)switch(f){case 1:u<128&&(p=u);break;case 2:128==(192&(i=e[o+1]))&&(c=(31&u)<<6|63&i)>127&&(p=c);break;case 3:i=e[o+1],a=e[o+2],128==(192&i)&&128==(192&a)&&(c=(15&u)<<12|(63&i)<<6|63&a)>2047&&(c<55296||c>57343)&&(p=c);break;case 4:i=e[o+1],a=e[o+2],s=e[o+3],128==(192&i)&&128==(192&a)&&128==(192&s)&&(c=(15&u)<<18|(63&i)<<12|(63&a)<<6|63&s)>65535&&c<1114112&&(p=c)}null===p?(p=65533,f=1):p>65535&&(p-=65536,n.push(p>>>10&1023|55296),p=56320|1023&p),n.push(p),o+=f}return function(e){var t=e.length;if(t<=S)return String.fromCharCode.apply(String,e);var r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=S));return r}(n)}t.Buffer=c,t.SlowBuffer=function(e){+e!=e&&(e=0);return c.alloc(+e)},t.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),c.poolSize=8192,c._augment=function(e){return e.__proto__=c.prototype,e},c.from=function(e,t,r){return u(null,e,t,r)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(e,t,r){return function(e,t,r,n){return p(t),t<=0?s(e,t):void 0!==r?"string"==typeof n?s(e,t).fill(r,n):s(e,t).fill(r):s(e,t)}(null,e,t,r)},c.allocUnsafe=function(e){return f(null,e)},c.allocUnsafeSlow=function(e){return f(null,e)},c.isBuffer=function(e){return!(null==e||!e._isBuffer)},c.compare=function(e,t){if(!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,o=0,i=Math.min(r,n);o<i;++o)if(e[o]!==t[o]){r=e[o],n=t[o];break}return r<n?-1:n<r?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!i(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=c.allocUnsafe(t),o=0;for(r=0;r<e.length;++r){var a=e[r];if(!c.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,o),o+=a.length}return n},c.byteLength=d,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)y(this,t,t+1);return this},c.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},c.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},c.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?P(this,0,e):function(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return A(this,t,r);case"utf8":case"utf-8":return P(this,t,r);case"ascii":return O(this,t,r);case"latin1":case"binary":return I(this,t,r);case"base64":return T(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}.apply(this,arguments)},c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"},c.prototype.compare=function(e,t,r,n,o){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===o&&(o=this.length),t<0||r>e.length||n<0||o>this.length)throw new RangeError("out of range index");if(n>=o&&t>=r)return 0;if(n>=o)return-1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,o>>>=0,this===e)return 0;for(var i=o-n,a=r-t,s=Math.min(i,a),u=this.slice(n,o),p=e.slice(t,r),f=0;f<s;++f)if(u[f]!==p[f]){i=u[f],a=p[f];break}return i<a?-1:a<i?1:0},c.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},c.prototype.indexOf=function(e,t,r){return _(this,e,t,r,!0)},c.prototype.lastIndexOf=function(e,t,r){return _(this,e,t,r,!1)},c.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var o=this.length-t;if((void 0===r||r>o)&&(r=o),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var i=!1;;)switch(n){case"hex":return v(this,e,t,r);case"utf8":case"utf-8":return m(this,e,t,r);case"ascii":return b(this,e,t,r);case"latin1":case"binary":return E(this,e,t,r);case"base64":return C(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w(this,e,t,r);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var S=4096;function O(e,t,r){var n="";r=Math.min(e.length,r);for(var o=t;o<r;++o)n+=String.fromCharCode(127&e[o]);return n}function I(e,t,r){var n="";r=Math.min(e.length,r);for(var o=t;o<r;++o)n+=String.fromCharCode(e[o]);return n}function A(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var o="",i=t;i<r;++i)o+=x(e[i]);return o}function B(e,t,r){for(var n=e.slice(t,r),o="",i=0;i<n.length;i+=2)o+=String.fromCharCode(n[i]+256*n[i+1]);return o}function R(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function M(e,t,r,n,o,i){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function N(e,t,r,n){t<0&&(t=65535+t+1);for(var o=0,i=Math.min(e.length-r,2);o<i;++o)e[r+o]=(t&255<<8*(n?o:1-o))>>>8*(n?o:1-o)}function L(e,t,r,n){t<0&&(t=4294967295+t+1);for(var o=0,i=Math.min(e.length-r,4);o<i;++o)e[r+o]=t>>>8*(n?o:3-o)&255}function k(e,t,r,n,o,i){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function U(e,t,r,n,i){return i||k(e,0,r,4),o.write(e,t,r,n,23,4),r+4}function D(e,t,r,n,i){return i||k(e,0,r,8),o.write(e,t,r,n,52,8),r+8}c.prototype.slice=function(e,t){var r,n=this.length;if(e=~~e,t=void 0===t?n:~~t,e<0?(e+=n)<0&&(e=0):e>n&&(e=n),t<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),c.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=c.prototype;else{var o=t-e;r=new c(o,void 0);for(var i=0;i<o;++i)r[i]=this[i+e]}return r},c.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||R(e,t,this.length);for(var n=this[e],o=1,i=0;++i<t&&(o*=256);)n+=this[e+i]*o;return n},c.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||R(e,t,this.length);for(var n=this[e+--t],o=1;t>0&&(o*=256);)n+=this[e+--t]*o;return n},c.prototype.readUInt8=function(e,t){return t||R(e,1,this.length),this[e]},c.prototype.readUInt16LE=function(e,t){return t||R(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUInt16BE=function(e,t){return t||R(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUInt32LE=function(e,t){return t||R(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUInt32BE=function(e,t){return t||R(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||R(e,t,this.length);for(var n=this[e],o=1,i=0;++i<t&&(o*=256);)n+=this[e+i]*o;return n>=(o*=128)&&(n-=Math.pow(2,8*t)),n},c.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||R(e,t,this.length);for(var n=t,o=1,i=this[e+--n];n>0&&(o*=256);)i+=this[e+--n]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*t)),i},c.prototype.readInt8=function(e,t){return t||R(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){t||R(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt16BE=function(e,t){t||R(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt32LE=function(e,t){return t||R(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return t||R(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readFloatLE=function(e,t){return t||R(e,4,this.length),o.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return t||R(e,4,this.length),o.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return t||R(e,8,this.length),o.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return t||R(e,8,this.length),o.read(this,e,!1,52,8)},c.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||M(this,e,t,r,Math.pow(2,8*r)-1,0);var o=1,i=0;for(this[t]=255&e;++i<r&&(o*=256);)this[t+i]=e/o&255;return t+r},c.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||M(this,e,t,r,Math.pow(2,8*r)-1,0);var o=r-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+r},c.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||M(this,e,t,1,255,0),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},c.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||M(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):N(this,e,t,!0),t+2},c.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||M(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):N(this,e,t,!1),t+2},c.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||M(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):L(this,e,t,!0),t+4},c.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||M(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):L(this,e,t,!1),t+4},c.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var o=Math.pow(2,8*r-1);M(this,e,t,r,o-1,-o)}var i=0,a=1,s=0;for(this[t]=255&e;++i<r&&(a*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+r},c.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var o=Math.pow(2,8*r-1);M(this,e,t,r,o-1,-o)}var i=r-1,a=1,s=0;for(this[t+i]=255&e;--i>=0&&(a*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+r},c.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||M(this,e,t,1,127,-128),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||M(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):N(this,e,t,!0),t+2},c.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||M(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):N(this,e,t,!1),t+2},c.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||M(this,e,t,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):L(this,e,t,!0),t+4},c.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||M(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):L(this,e,t,!1),t+4},c.prototype.writeFloatLE=function(e,t,r){return U(this,e,t,!0,r)},c.prototype.writeFloatBE=function(e,t,r){return U(this,e,t,!1,r)},c.prototype.writeDoubleLE=function(e,t,r){return D(this,e,t,!0,r)},c.prototype.writeDoubleBE=function(e,t,r){return D(this,e,t,!1,r)},c.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var o,i=n-r;if(this===e&&r<t&&t<n)for(o=i-1;o>=0;--o)e[o+t]=this[o+r];else if(i<1e3||!c.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)e[o+t]=this[o+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+i),t);return i},c.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!c.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var i;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{var a=c.isBuffer(e)?e:j(new c(e,n).toString()),s=a.length;for(i=0;i<r-t;++i)this[i+t]=a[i%s]}return this};var H=/[^+\/0-9A-Za-z-_]/g;function x(e){return e<16?"0"+e.toString(16):e.toString(16)}function j(e,t){var r;t=t||1/0;for(var n=e.length,o=null,i=[],a=0;a<n;++a){if((r=e.charCodeAt(a))>55295&&r<57344){if(!o){if(r>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&i.push(239,191,189);continue}o=r;continue}if(r<56320){(t-=3)>-1&&i.push(239,191,189),o=r;continue}r=65536+(o-55296<<10|r-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,r<128){if((t-=1)<0)break;i.push(r)}else if(r<2048){if((t-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function F(e){return n.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(H,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function z(e,t,r,n){for(var o=0;o<n&&!(o+r>=t.length||o>=e.length);++o)t[o+r]=e[o];return o}}).call(this,r(130))},function(t,r){t.exports=e},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(7))},function(e,t,r){e.exports=function(e){return e}(r(0),r(17),r(97),r(98),r(11),r(12),r(20),r(40),r(99),r(41),r(100),r(101),r(102),r(21),r(103),r(10),r(4),r(104),r(105),r(106),r(107),r(108),r(109),r(110),r(111),r(112),r(113),r(114),r(115),r(116),r(117),r(118),r(119))},function(e,t,r){e.exports=function(e){return function(t){var r=e,n=r.lib,o=n.Base,i=n.WordArray,a=r.x64={};a.Word=o.extend({init:function(e,t){this.high=e,this.low=t}}),a.WordArray=o.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=void 0!=t?t:8*e.length},toX32:function(){for(var e=this.words,t=e.length,r=[],n=0;n<t;n++){var o=e[n];r.push(o.high),r.push(o.low)}return i.create(r,this.sigBytes)},clone:function(){for(var e=o.clone.call(this),t=e.words=this.words.slice(0),r=t.length,n=0;n<r;n++)t[n]=t[n].clone();return e}})}(),e}(r(0))},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(128),i=r(46),a=function(e){function t(r){var n=e.call(this,t.createErrorMessage(r))||this;return n.response=r,n}return n(t,e),t.createErrorMessage=function(e){var t=e.codeRet();return"Device responded with "+(t in i.ResultCodeTranslation?i.ResultCodeTranslation[t]:"an unknown error")+" (code=0x"+t.toString(16)+")"},t}(o.LWM2MError);t.ResponseError=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(86))},function(e,t,r){e.exports=function(e){return function(){var t=e,r=t.lib,n=r.WordArray,o=r.Hasher,i=[],a=t.algo.SHA1=o.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var r=this._hash.words,n=r[0],o=r[1],a=r[2],s=r[3],c=r[4],u=0;u<80;u++){if(u<16)i[u]=0|e[t+u];else{var p=i[u-3]^i[u-8]^i[u-14]^i[u-16];i[u]=p<<1|p>>>31}var f=(n<<5|n>>>27)+c+i[u];f+=u<20?1518500249+(o&a|~o&s):u<40?1859775393+(o^a^s):u<60?(o&a|o&s|a&s)-1894007588:(o^a^s)-899497514,c=s,s=a,a=o<<30|o>>>2,o=n,n=f}r[0]=r[0]+n|0,r[1]=r[1]+o|0,r[2]=r[2]+a|0,r[3]=r[3]+s|0,r[4]=r[4]+c|0},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,n=8*e.sigBytes;return t[n>>>5]|=128<<24-n%32,t[14+(n+64>>>9<<4)]=Math.floor(r/4294967296),t[15+(n+64>>>9<<4)]=r,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA1=o._createHelper(a),t.HmacSHA1=o._createHmacHelper(a)}(),e.SHA1}(r(0))},function(e,t,r){e.exports=function(e){!function(){var t=e,r=t.lib,n=r.Base,o=t.enc,i=o.Utf8,a=t.algo;a.HMAC=n.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=i.parse(t));var r=e.blockSize,n=4*r;t.sigBytes>n&&(t=e.finalize(t)),t.clamp();for(var o=this._oKey=t.clone(),a=this._iKey=t.clone(),s=o.words,c=a.words,u=0;u<r;u++)s[u]^=1549556828,c[u]^=909522486;o.sigBytes=a.sigBytes=n,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,r=t.finalize(e);t.reset();var n=t.finalize(this._oKey.clone().concat(r));return n}})}()}(r(0))},function(e,r){e.exports=t},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(126)),n(r(26)),n(r(55)),n(r(135)),n(r(56)),n(r(145))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t,r,n){void 0===e&&(e=65535),void 0===t&&(t=65535),void 0===r&&(r=65535),void 0===n&&(n=void 0),this.objectId=e,this.objectInstance=t,this.resourceId=r,this.resourceInstance=n}return e.prototype.getObjectId=function(){return this.objectId},e.prototype.getObjectInstance=function(){return this.objectInstance},e.prototype.getResourceId=function(){return this.resourceId},e.prototype.getResourceInstance=function(){return this.resourceInstance},e.prototype.getPath=function(){return"/"+this.objectId+"/"+(65535==this.objectInstance?"":this.objectInstance)+"/"+this.resourceId+(this.resourceInstance?"/"+this.resourceInstance:"")},e.prototype.toString=function(){return"Header{objectId="+this.objectId+", objectInstance="+this.objectInstance+", resourceId="+this.resourceId+"}"},e.fromBytes=function(t){var r=new e;if(6!=t.length&&8!=t.length)throw new Error("Invalid header size: "+t.length);return r.objectId=(t[0]<<8&65535)+(255&t[1]),r.objectInstance=(t[2]<<8&65535)+(255&t[3]),r.resourceId=(t[4]<<8&65535)+(255&t[5]),r.objectId&=65535,r.objectInstance&=65535,r.resourceId&=65535,8==t.length&&(r.resourceInstance=(t[6]<<8&65535)+(255&t[7]),r.resourceInstance&=65535),r},e.fromString=function(t){if(null==t||0==t.length)throw new Error("Invalid command: null");var r=(t=t.trim()).match(e.PATH_EXPRESSION);if(!r||0===r.length)throw new Error('Invalid header "'+t+'". Format is invalid');return new e(parseInt(r[1]),r[2]?parseInt(r[2]):65535,parseInt(r[3]),r[4]?parseInt(r[4]):void 0)},e.PATH_EXPRESSION=/^\/?([0-9]+)\/([0-9]+)?\/([0-9]+)\/?([0-9]+)?$/,e}();t.Header=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3),o=r(26),i=r(24),a=function(){function e(){}return e.instance=function(){return new e},e.prototype.decode=function(t){console.log("LWM2MCommandConverter decode "+n.FormatHelper.toHexString(t));var r=t[0],a=t.subarray(e.CMD_TYPE_LENGTH,e.IOTIZE_TRAME_HEADER_LENGTH),s=i.Header.fromBytes(a).getPath(),c=t.subarray(e.IOTIZE_TRAME_HEADER_LENGTH);return o.Command.create(r,s,c)},e.prototype.encode=function(t){console.log("LWM2MCommandConverter encode "+t);var r=t.getHeader(),n=t.getMethod(),o=0,i=0,a=t.getData();if(null!=a){if(a.length>=e.IOTIZE_TRAME_MAX_SIZE)throw new Error("Request max size");i=a.length}var s=new Uint8Array(e.IOTIZE_TRAME_HEADER_LENGTH+i+(r.resourceInstance?2:0));if(s[o++]=n,s[o++]=r.objectId/256,s[o++]=r.objectId%256,s[o++]=r.objectInstance/256,s[o++]=r.objectInstance%256,s[o++]=r.resourceId/256,s[o++]=r.resourceId%256,r.resourceInstance&&(s[o++]=r.resourceInstance/256,s[o++]=r.resourceInstance%256),null!=a)for(var c=0;c<i;c++,o++)s[o]=a[c];return s},e.CMD_TYPE_LENGTH=1,e.IOTIZE_TRAME_HEADER_LENGTH=7,e.IOTIZE_TRAME_MAX_SIZE=250,e}();t.IotizeLWM2MCommandConverter=a},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(52)),n(r(24))},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t,r){return e.call(this,t,r)||this}return n(t,e),t.prototype.getConfigure=function(){return this._call({path:"/1024//70",methodType:"get"})},t.prototype.putConfigure=function(e){return this._call({path:"/1024//70",methodType:"put",body:e})},t.prototype.getCom=function(e){return this._call({path:"/1024//71",methodType:"get",body:e})},t}(r(6).AbstractService);t.SecureElementService=o},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(163)),n(r(165)),n(r(166)),n(r(167)),n(r(168))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(19),o=r(14),i=function(){function e(){this.connectionState=n.ConnectionState.DISCONNECTED,this._options={connect:{timeout:1e3},disconnect:{timeout:1e3},send:{timeout:500}}}return Object.defineProperty(e.prototype,"options",{get:function(){return this._options},set:function(e){this._options=e},enumerable:!0,configurable:!0}),e.prototype.getConnectionState=function(){return this.connectionState},e.prototype.isConnected=function(){return this.connectionState==n.ConnectionState.CONNECTED},e.prototype.setConnectionState=function(e){console.log("setConnectionState",e,"Old: ",this.connectionState);var t={newState:e,oldState:this.connectionState};return this.connectionState=e,this._connectionStateChange&&this._connectionStateChange.next(t),this},e.prototype.receiveStream=function(){throw new Error("Method not implemented.")},e.prototype.onConnectionStateChange=function(){return this._connectionStateChange||(this._connectionStateChange=new o.Subject),this._connectionStateChange},e}();t.AbstractComProtocol=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BleConfig={maxPacketLengthWithoutOffset:19,services:{upgrade:{service:"9e5d1e47-5c13-43a0-8635-82ad38a1386f",charac:"347f7608-2e2d-47eb-913b-75d4edc4de3b"},lwm2m:{service:"6c7b16c2-2a5b-8c9f-cf42-d31425470e7b",charac:"cc5c5491-b3be-9287-cb42-f7a6a29a50d5"},standardClientConfig:{service:"00002902-0000-1000-8000-00805f9b34fb"}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(32),o=function(){function e(e){this.bufferOffset=0,this.dataLength=0,this.data=new Uint8Array(e),this.reset()}return e.prototype.append=function(e){if(this.bufferOffset=(255&e[0])-1,this.bufferOffset+e.length>=this.data.length)throw console.error("BLEPacketBuilder:append() buffer size exceeded"),new Error("Buffer size exceeded");for(var t=1;t<e.length;t++)this.data[this.bufferOffset+t]=e[t];this.dataLength+=e.length-1},e.prototype.reset=function(){this.dataLength=0,this.bufferOffset=0},e.prototype.hasAllChunks=function(){return-1===this.bufferOffset},e.prototype.isChecksumValid=function(){var e=this.getComputedChecksum();return this.getExpectedChecksum()===e},e.prototype.assertValidChecksum=function(){if(!this.isChecksumValid())throw new Error("Invalid checksum. Found "+this.getComputedChecksum()+" but expected "+this.getExpectedChecksum())},e.prototype.getComputedChecksum=function(){return 255&n.Checksum.compute(this.data.subarray(0,this.dataLength-1))},e.prototype.getExpectedChecksum=function(){return this.data[this.dataLength-1]},e.prototype.getData=function(){return this.data.slice(0,this.dataLength-1)},e.prototype.getBuffer=function(){return this.data},e}();t.BLEPacketBuilder=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.compute=function(e){for(var t=0,r=0;r<e.length;r++)t+=e[r];return t},e}();t.Checksum=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(90),o=function(){function e(e,t){if(this.lastPacketSize=0,this.maxPacketSize=0,this.currentPacketIndex=0,t<1)throw console.error("BLEPacketBuilder:append() Packet size must be greater than 0"),new Error("Packet size must be greater than 0");this.data=e,this.maxPacketSize=t,this.currentPacketIndex=this.getTotalNumberOfPacket()-1,this.lastPacketSize=this.getLastPacketSize()}return e.wrapWithChecksum=function(t,r){var n=e.computeChecksum(t),o=new Uint8Array(t.length+1);return o.set(t),o.set([255&n],t.length),new e(o,r)},e.prototype.getTotalNumberOfPacket=function(){return(this.data.length/this.maxPacketSize|0)+(this.data.length%this.maxPacketSize==0?0:1)},e.prototype.getLastPacketSize=function(){var e=this.data.length%this.maxPacketSize;return 0===e&&(e=this.maxPacketSize),e},e.prototype.getPackets=function(){for(var e=[];this.hasNextPacket();)e.push(this.getNextPacket());return e},e.prototype.getNextPacket=function(){var e,t;this.currentPacketIndex>0?(t=this.lastPacketSize+(this.currentPacketIndex-1)*this.maxPacketSize,e=this.maxPacketSize):(t=0,e=this.lastPacketSize);var r=new Uint8Array(e+1);r[0]=0|t;for(var n=0;n<e;n++)r[n+1]=this.data[t+n];return this.currentPacketIndex--,console.log("BLEPacketSplitter:getNextPacket() current index is now "+this.currentPacketIndex),r},e.prototype.hasNextPacket=function(){return this.currentPacketIndex>=0},e.computeChecksum=function(e){return 255&n.Checksum.compute(e)},e.prototype.getTotalSize=function(){return this.data.length},e.prototype.getCurrentPacketNumber=function(){return this.getTotalNumberOfPacket()-this.currentPacketIndex},e.prototype.toString=function(){return JSON.stringify(this)},e}();t.BLEPacketSplitter=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(9),o=function(){function e(){}return e.fromBytes=function(t,r){if(t.length%e.MODULO!=0)throw new Error("Input size must be a multiple of 4. Length is "+t.length+" % "+e.MODULO+" = "+t.length%e.MODULO);for(var o=new Uint32Array(t.length/4),i=0;i<o.byteLength;i++)o[i]=n.NumberConverter.fromOpaqueMsb(t.slice(4*i,4*(i+1)),32);return e.fromWord(o,r)},e.fromWord=function(t,r){if(r|=this.DEFAULT_POLYNOMIAL,!t)throw new Error("Buffer is null");if(t.byteLength>16777216)throw new Error("Buffers larger than 16MB");var n,o,i,a=t.length;for(n=0,i=4294967295,n=0;n<a;n++)o=t[n],i=e._crc32(i,o,r);return i},e._crc32=function(e,t,r){e^=t;for(var n=0;n<32;n++)e=2147483648&e?(e<<1^r)>>>0:e<<1>>>0;return e},e.DEFAULT_POLYNOMIAL=79764919,e.MODULO=4,e}();t.CRC=o},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t,r){var n=e.call(this,t)||this;return n.apdu=r,n}return n(t,e),t}(Error);t.InvalidAPDUError=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this.CLA=0,this.instructionCode=0,this.instructionParameter=Uint8Array.from([0,0]),this.expectedResponseSize=new Uint8Array(0),this.data=new Uint8Array(0),this.sizeOfCommandInBytes=new Uint8Array(0)}return e.prototype.setCLA=function(e){return this.CLA=e,this},e.prototype.setInstructionCode=function(e){return this.instructionCode=e,this},e.prototype.setInstructionParameter=function(e,t){return this.instructionParameter=Uint8Array.from([e,t]),this},e.prototype.setExpectedResponseSize=function(e){if(e<=0)this.expectedResponseSize=Uint8Array.from([]);else if(e>=1&&e<255)this.expectedResponseSize=Uint8Array.from([e]);else{if(256!=e)throw new Error("Not implemented yet");this.expectedResponseSize=Uint8Array.from([0])}return this},e.prototype.setData=function(e){this.data=e;var t=null!=e?e.length:0;return this.setSizeOfCommandInBytes(t),this},e.prototype.setSizeOfCommandInBytes=function(e){if(0==e)this.sizeOfCommandInBytes=new Uint8Array(0);else if(e>=1&&e<=255)this.sizeOfCommandInBytes=Uint8Array.from([255&e]);else{var t=255&e,r=255&e;this.sizeOfCommandInBytes=Uint8Array.from([0,r,t])}},e.prototype.getCLA=function(){return this.CLA},e.prototype.getInstructionCode=function(){return this.instructionCode},e.prototype.getParameters=function(){return this.instructionParameter},e.prototype.getSizeOfCommandInBytes=function(){return this.sizeOfCommandInBytes},e.prototype.getData=function(){return this.data},e.prototype.getExpectedResponseSize=function(){return this.expectedResponseSize},e.prototype.hasExpectedResponseSize=function(){return null!=this.expectedResponseSize&&this.expectedResponseSize.length>0},e.CLA_LENGTH=1,e.INS_LENGTH=1,e.P1P2_LENGTH=2,e}();t.APDUCommand=n},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(38)),n(r(95))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(7),o=function(){function e(){this.data=new Uint8Array(0),this.status=Uint8Array.from([0,0])}return e.prototype.getData=function(){return this.data},e.prototype.getStatus=function(){return this.status},e.prototype.setStatus=function(e){return this.status=e,this},e.prototype.setData=function(e){return this.data=e,this},e.prototype.statusEquals=function(e){return 2===e.length&&2===this.status.length&&e[0]==this.status[0]&&e[1]==this.status[1]},e.prototype.toString=function(){return"APDUResponse[data="+n.FormatHelper.toHexString(this.data)+"; status="+n.FormatHelper.toHexString(this.status)+"]"},e}();t.APDUResponse=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(16),o=function(){function e(e){this._options=e}return e.prototype.hash=function(t){return e.hash(this._options.type,t,this._options.salt,this._options.iterations,this._options.keySize)},e.hash=function(e,t,r,o,i){var a=void 0;switch(e){case"sha1":a=n.algo.SHA1;break;case"sha256":a=n.algo.SHA256;break;default:throw new Error("Not implemented hasher: "+e)}return n.PBKDF2(t,r,{iterations:o,keySize:i/8,hasher:a}).toString(n.enc.Hex)},e}();t.ShaHasher=o},function(e,t,r){e.exports=function(e){return function(t){var r=e,n=r.lib,o=n.WordArray,i=n.Hasher,a=r.algo,s=[],c=[];!function(){function e(e){for(var r=t.sqrt(e),n=2;n<=r;n++)if(!(e%n))return!1;return!0}function r(e){return 4294967296*(e-(0|e))|0}for(var n=2,o=0;o<64;)e(n)&&(o<8&&(s[o]=r(t.pow(n,.5))),c[o]=r(t.pow(n,1/3)),o++),n++}();var u=[],p=a.SHA256=i.extend({_doReset:function(){this._hash=new o.init(s.slice(0))},_doProcessBlock:function(e,t){for(var r=this._hash.words,n=r[0],o=r[1],i=r[2],a=r[3],s=r[4],p=r[5],f=r[6],l=r[7],h=0;h<64;h++){if(h<16)u[h]=0|e[t+h];else{var d=u[h-15],y=(d<<25|d>>>7)^(d<<14|d>>>18)^d>>>3,_=u[h-2],g=(_<<15|_>>>17)^(_<<13|_>>>19)^_>>>10;u[h]=y+u[h-7]+g+u[h-16]}var v=n&o^n&i^o&i,m=(n<<30|n>>>2)^(n<<19|n>>>13)^(n<<10|n>>>22),b=l+((s<<26|s>>>6)^(s<<21|s>>>11)^(s<<7|s>>>25))+(s&p^~s&f)+c[h]+u[h];l=f,f=p,p=s,s=a+b|0,a=i,i=o,o=n,n=b+(m+v)|0}r[0]=r[0]+n|0,r[1]=r[1]+o|0,r[2]=r[2]+i|0,r[3]=r[3]+a|0,r[4]=r[4]+s|0,r[5]=r[5]+p|0,r[6]=r[6]+f|0,r[7]=r[7]+l|0},_doFinalize:function(){var e=this._data,r=e.words,n=8*this._nDataBytes,o=8*e.sigBytes;return r[o>>>5]|=128<<24-o%32,r[14+(o+64>>>9<<4)]=t.floor(n/4294967296),r[15+(o+64>>>9<<4)]=n,e.sigBytes=4*r.length,this._process(),this._hash},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});r.SHA256=i._createHelper(p),r.HmacSHA256=i._createHmacHelper(p)}(Math),e.SHA256}(r(0))},function(e,t,r){e.exports=function(e){return function(){var t=e,r=t.lib.Hasher,n=t.x64,o=n.Word,i=n.WordArray,a=t.algo;function s(){return o.create.apply(o,arguments)}var c=[s(1116352408,3609767458),s(1899447441,602891725),s(3049323471,3964484399),s(3921009573,2173295548),s(961987163,4081628472),s(1508970993,3053834265),s(2453635748,2937671579),s(2870763221,3664609560),s(3624381080,2734883394),s(310598401,1164996542),s(607225278,1323610764),s(1426881987,3590304994),s(1925078388,4068182383),s(2162078206,991336113),s(2614888103,633803317),s(3248222580,3479774868),s(3835390401,2666613458),s(4022224774,944711139),s(264347078,2341262773),s(604807628,2007800933),s(770255983,1495990901),s(1249150122,1856431235),s(1555081692,3175218132),s(1996064986,2198950837),s(2554220882,3999719339),s(2821834349,766784016),s(2952996808,2566594879),s(3210313671,3203337956),s(3336571891,1034457026),s(3584528711,2466948901),s(113926993,3758326383),s(338241895,168717936),s(666307205,1188179964),s(773529912,1546045734),s(1294757372,1522805485),s(1396182291,2643833823),s(1695183700,2343527390),s(1986661051,1014477480),s(2177026350,1206759142),s(2456956037,344077627),s(2730485921,1290863460),s(2820302411,3158454273),s(3259730800,3505952657),s(3345764771,106217008),s(3516065817,3606008344),s(3600352804,1432725776),s(4094571909,1467031594),s(275423344,851169720),s(430227734,3100823752),s(506948616,1363258195),s(659060556,3750685593),s(883997877,3785050280),s(958139571,3318307427),s(1322822218,3812723403),s(1537002063,2003034995),s(1747873779,3602036899),s(1955562222,1575990012),s(2024104815,1125592928),s(2227730452,2716904306),s(2361852424,442776044),s(2428436474,593698344),s(2756734187,3733110249),s(3204031479,2999351573),s(3329325298,3815920427),s(3391569614,3928383900),s(3515267271,566280711),s(3940187606,3454069534),s(4118630271,4000239992),s(116418474,1914138554),s(174292421,2731055270),s(289380356,3203993006),s(460393269,320620315),s(685471733,587496836),s(852142971,1086792851),s(1017036298,365543100),s(1126000580,2618297676),s(1288033470,3409855158),s(1501505948,4234509866),s(1607167915,987167468),s(1816402316,1246189591)],u=[];!function(){for(var e=0;e<80;e++)u[e]=s()}();var p=a.SHA512=r.extend({_doReset:function(){this._hash=new i.init([new o.init(1779033703,4089235720),new o.init(3144134277,2227873595),new o.init(1013904242,4271175723),new o.init(2773480762,1595750129),new o.init(1359893119,2917565137),new o.init(2600822924,725511199),new o.init(528734635,4215389547),new o.init(1541459225,327033209)])},_doProcessBlock:function(e,t){for(var r=this._hash.words,n=r[0],o=r[1],i=r[2],a=r[3],s=r[4],p=r[5],f=r[6],l=r[7],h=n.high,d=n.low,y=o.high,_=o.low,g=i.high,v=i.low,m=a.high,b=a.low,E=s.high,C=s.low,w=p.high,T=p.low,P=f.high,S=f.low,O=l.high,I=l.low,A=h,B=d,R=y,M=_,N=g,L=v,k=m,U=b,D=E,H=C,x=w,j=T,F=P,z=S,G=O,q=I,V=0;V<80;V++){var W=u[V];if(V<16)var Y=W.high=0|e[t+2*V],Z=W.low=0|e[t+2*V+1];else{var K=u[V-15],X=K.high,$=K.low,Q=(X>>>1|$<<31)^(X>>>8|$<<24)^X>>>7,J=($>>>1|X<<31)^($>>>8|X<<24)^($>>>7|X<<25),ee=u[V-2],te=ee.high,re=ee.low,ne=(te>>>19|re<<13)^(te<<3|re>>>29)^te>>>6,oe=(re>>>19|te<<13)^(re<<3|te>>>29)^(re>>>6|te<<26),ie=u[V-7],ae=ie.high,se=ie.low,ce=u[V-16],ue=ce.high,pe=ce.low;Y=(Y=(Y=Q+ae+((Z=J+se)>>>0<J>>>0?1:0))+ne+((Z+=oe)>>>0<oe>>>0?1:0))+ue+((Z+=pe)>>>0<pe>>>0?1:0),W.high=Y,W.low=Z}var fe,le=D&x^~D&F,he=H&j^~H&z,de=A&R^A&N^R&N,ye=B&M^B&L^M&L,_e=(A>>>28|B<<4)^(A<<30|B>>>2)^(A<<25|B>>>7),ge=(B>>>28|A<<4)^(B<<30|A>>>2)^(B<<25|A>>>7),ve=(D>>>14|H<<18)^(D>>>18|H<<14)^(D<<23|H>>>9),me=(H>>>14|D<<18)^(H>>>18|D<<14)^(H<<23|D>>>9),be=c[V],Ee=be.high,Ce=be.low,we=G+ve+((fe=q+me)>>>0<q>>>0?1:0),Te=ge+ye;G=F,q=z,F=x,z=j,x=D,j=H,D=k+(we=(we=(we=we+le+((fe+=he)>>>0<he>>>0?1:0))+Ee+((fe+=Ce)>>>0<Ce>>>0?1:0))+Y+((fe+=Z)>>>0<Z>>>0?1:0))+((H=U+fe|0)>>>0<U>>>0?1:0)|0,k=N,U=L,N=R,L=M,R=A,M=B,A=we+(_e+de+(Te>>>0<ge>>>0?1:0))+((B=fe+Te|0)>>>0<fe>>>0?1:0)|0}d=n.low=d+B,n.high=h+A+(d>>>0<B>>>0?1:0),_=o.low=_+M,o.high=y+R+(_>>>0<M>>>0?1:0),v=i.low=v+L,i.high=g+N+(v>>>0<L>>>0?1:0),b=a.low=b+U,a.high=m+k+(b>>>0<U>>>0?1:0),C=s.low=C+H,s.high=E+D+(C>>>0<H>>>0?1:0),T=p.low=T+j,p.high=w+x+(T>>>0<j>>>0?1:0),S=f.low=S+z,f.high=P+F+(S>>>0<z>>>0?1:0),I=l.low=I+q,l.high=O+G+(I>>>0<q>>>0?1:0)},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,n=8*e.sigBytes;return t[n>>>5]|=128<<24-n%32,t[30+(n+128>>>10<<5)]=Math.floor(r/4294967296),t[31+(n+128>>>10<<5)]=r,e.sigBytes=4*t.length,this._process(),this._hash.toX32()},clone:function(){var e=r.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:32});t.SHA512=r._createHelper(p),t.HmacSHA512=r._createHmacHelper(p)}(),e.SHA512}(r(0),r(17))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(16),o=r(3),i=function(){function e(e){e&&this.setOptions(e)}return e.prototype.setOptions=function(e){this._options=e},Object.defineProperty(e.prototype,"options",{get:function(){return this._options},enumerable:!0,configurable:!0}),e.prototype.encode=function(e){if(!this._options)throw new Error("AES options has not been set yet");var t=n.enc.Hex.parse(o.FormatHelper.toHexString(e)),r=n.enc.Hex.parse(this.options.key),i=n.enc.Hex.parse(this.options.iv),a=n.AES.encrypt(t,r,{iv:i,mode:n.mode.CBC,padding:n.pad.NoPadding}),s=n.enc.Hex.stringify(a.ciphertext);return o.FormatHelper.hexStringToBuffer(s)},e.prototype.decode=function(e){if(!this._options)throw new Error("AES options has not been set yet");var t=n.enc.Hex.parse(o.FormatHelper.toHexString(e)),r=n.enc.Hex.parse(this.options.key),i=n.enc.Hex.parse(this.options.iv),a=n.AES.decrypt({ciphertext:t,salt:"",iv:i},r,{iv:i,mode:n.mode.CBC,padding:n.pad.NoPadding});a.toString(n.enc.Hex);return o.FormatHelper.hexStringToBuffer(a.toString(n.enc.Hex))},e}();t.AesEcb128Converter=i},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(19),i=r(14),a=r(29),s=r(120),c=r(122),u=r(7),p=function(e){function t(){var t=e.call(this)||this;return t._queue=new s.JobQueue,t}return n(t,e),t.prototype._send=function(e,t){var r=this;return console.log("QueueComProtocol","_send()","-------------------------"),this.isConnected()?i.from(this.write(e).then(function(){return r.read()})):i.from(Promise.reject(new Error("Device is not connected")))},t.prototype.send=function(e,t){var r=this;return console.log("QueueComProtocol","::send() ENQUEUE request "+u.FormatHelper.toHexString(e)+". Queue position: "+this._queue.size),e=e.slice(0),this._enqueue(function(){return console.log("QueueComProtocol","::send() EXECUTE request "+u.FormatHelper.toHexString(e)+" "),c.ObservableHelper.timeout(r._send(e,t),t?t.timeout:r._options.send.timeout)})},t.prototype._enqueue=function(e){return this._queue.add(e)},t.prototype.connect=function(e){var t=this;return this.connectionState===o.ConnectionState.CONNECTED?(console.warn("QueueComProtocol is already connected"),i.of(null)):this.connectionState==o.ConnectionState.CONNECTING?this._connect$:(this._connect$=c.ObservableHelper.timeout(this._connect(e),e?e.timeout:this._options.connect.timeout),this.setConnectionState(o.ConnectionState.CONNECTING),this._connectionSubscription=this._connect$.subscribe(function(){t.setConnectionState(o.ConnectionState.CONNECTED)},function(e){t.setConnectionState(o.ConnectionState.DISCONNECTED)}),this._connect$)},t.prototype.disconnect=function(e){var t=this;return this.connectionState===o.ConnectionState.DISCONNECTED?i.of(null):this.connectionState==o.ConnectionState.DISCONNECTING?this._disconnect$:(this._connect$=null,this._disconnect$=c.ObservableHelper.timeout(this._disconnect(e),e?e.timeout:this._options.disconnect.timeout),this.setConnectionState(o.ConnectionState.DISCONNECTING),this._disconnect$.subscribe(function(){t.setConnectionState(o.ConnectionState.DISCONNECTED)},function(e){t.setConnectionState(o.ConnectionState.DISCONNECTED)}),this._disconnect$)},t}(a.AbstractComProtocol);t.QueueComProtocol=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(123);t.Api=n;var o=r(23);t.Impl=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.IOTIZE_200_NO_ERROR=0,e.IOTIZE_PENDING=1,e.IOTIZE_201_CREATED=65,e.IOTIZE_202_DELETED=66,e.IOTIZE_204_CHANGED=68,e.IOTIZE_205_CONTENT=69,e.IOTIZE_206_BUSY=70,e.IOTIZE_400_BAD_REQUEST=128,e.IOTIZE_401_UNAUTHORIZED=129,e.IOTIZE_404_NOT_FOUND=132,e.IOTIZE_405_METHOD_NOT_ALLOWED=133,e.IOTIZE_406_NOT_ACCEPTABLE=134,e.IOTIZE_500_INTERNAL_SERVER_ERROR=160,e.IOTIZE_501_NOT_IMPLEMENTED=161,e.IOTIZE_503_SERVICE_UNAVAILABLE=163,e.IOTIZE_504_NVM_ERROR=164,e.IOTIZE_505_UNABLE_TO_CONNECT_TO_TARGET=165,e.IOTIZE_506_TARGET_POWER_FAILURE=166,e.IOTIZE_507_NVM_FUL=167,e.IOTIZE_TARGET_PROTOCOL_ERROR=176,e.IOTIZE_TARGET_PROTOCOL_BUSY=177,e.IOTIZE_TARGET_PROTOCOL_REAL=178,e.IOTIZE_TARGET_PROTOCOL_WRONG_PARAM=179,e.IOTIZE_TARGET_PROTOCOL_FORBIDDEN=180,e.IOTIZE_TARGET_PROTOCOL_DATA=181,e.IOTIZE_TARGET_PROTOCOL_COM=182,e.IOTIZE_TARGET_PROTOCOL_LOST_COM=183,e.IOTIZE_TARGET_PROTOCOL_PARAM=184,e.IOTIZE_TARGET_PROTOCOL_INT=185,e.IOTIZE_TARGET_PROTOCOL_ABORT=186,e.IOTIZE_TARGET_PROTOCOL_NOT_IMPLEMENTED=187,e}();t.ResultCode=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ResultCodeTranslation={0:"No error",1:"PENDING",65:"CREATED",66:"DELETED",68:"CHANGED",69:"CONTENT",70:"BUSY",128:"Bad request. Meaning device cannot understand your request.",129:"UNAUTHORIZED",132:"NOT_FOUND",133:"METHOD_NOT_ALLOWED",134:"NOT_ACCEPTABLE",160:"INTERNAL_SERVER_ERROR",161:"This resource has not been implemented yet",163:"SERVICE_UNAVAILABLE",164:"NVM_ERROR",165:"UNABLE_TO_CONNECT_TO_TARGET",166:"TARGET_POWER_FAILURE",167:"NVM_FUL",176:"TARGET_PROTOCOL_ERROR",177:"TARGET_PROTOCOL_BUSY",178:"TARGET_PROTOCOL_REAL",179:"TARGET_PROTOCOL_WRONG_PARAM",180:"TARGET_PROTOCOL_FORBIDDEN",181:"TARGET_PROTOCOL_DATA",182:"TARGET_PROTOCOL_COM",183:"TARGET_PROTOCOL_LOST_COM",184:"TARGET_PROTOCOL_PARAM",185:"TARGET_PROTOCOL_INT",186:"TARGET_PROTOCOL_ABORT",187:"TARGET_PROTOCOL_NOT_IMPLEMENTED"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(48))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.GET=1]="GET",e[e.POST=2]="POST",e[e.PUT=3]="PUT",e[e.DELETE=4]="DELETE"}(t.MethodType||(t.MethodType={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(50))},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0}),function(e){var t;e.PACKET_HEADER_SIZE=26,function(e){e[e.ACKNOWLEDGE=1]="ACKNOWLEDGE",e[e.CIPHERED=2]="CIPHERED"}(e.Type||(e.Type={})),function(e){e[e.PACKET_TOO_SMALL=1]="PACKET_TOO_SMALL"}(t=e.ErrorCode||(e.ErrorCode={}));var r=function(r){function o(n,o){var i=r.call(this,"SinglePacket is too small. Size must be at least "+(e.PACKET_HEADER_SIZE+(o.DataSize?o.DataSize:0))+" but current length is "+n.length)||this;return i.code=t.PACKET_TOO_SMALL,i}return n(o,r),o}(Error);e.PacketTooSmallError=r}(t.SinglePacket||(t.SinglePacket={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(45),o=r(3),i=r(18),a=function(){function e(e){this.data=e,this._body=void 0}return e.SUCCESS=function(t){return e.create(n.ResultCode.IOTIZE_200_NO_ERROR,t)},e.ERROR=function(t){return t=t||n.ResultCode.IOTIZE_400_BAD_REQUEST,e.create(t)},e.create=function(t,r){if(r&&r.length>0){var n=new Uint8Array(1+r.length);return n[0]=t,n.set(r,1),new e(n)}return new e(Uint8Array.from([t]))},e.prototype.body=function(e){if(!this.isSuccess())throw new i.ResponseError(this);return e?e.decode(this.rawBody()):(this._body||(console.log("NO BODY DEFINED. Decoder: ",this.decoder),this.decoder?this._body=this.decoder.decode(this.rawBody()):this._body=this.rawBody()),this._body)},e.prototype.rawBody=function(){return null!=this.data&&this.data.length>1?this.data.slice(1):null},e.prototype.setBodyDecoder=function(e){return this.decoder=e,this},e.prototype.hasBody=function(){return null!=this.rawBody()},e.prototype.codeRet=function(){return this.data[0]},e.prototype.toString=function(){return'ResponseMessage[codeRet="'+this.codeRet()+'";data="'+(this.hasBody()?o.FormatHelper.toHexString(this.rawBody()):"NO DATA")+'";decoder='+(this.decoder?this.decoder.constructor.name:"NONE")+"]"},e.prototype.toBytes=function(){return this.data},e.prototype.setBody=function(e){this._body=e},e.prototype.isSuccess=function(){return 0==(128&this.codeRet())},e.prototype.isSuccessful=function(){return 0==(128&this.codeRet())},e}();t.Response=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(48),o=r(24),i=r(3),a=function(){function e(e,t,r){this.method=e,this.commandUrl=t,this.data=r||new Uint8Array(0)}return e.prototype.getCommandUrl=function(){return this.commandUrl},e.prototype.setCommandUrl=function(e){return this.commandUrl=e,this},e.prototype.getHeader=function(){return o.Header.fromString(this.commandUrl)},e.prototype.setHeader=function(e){this.commandUrl=e},e.prototype.setMethod=function(e){this.method=e},e.prototype.getMethod=function(){return this.method},e.prototype.getData=function(){return this.data?this.data:new Uint8Array(0)},e.prototype.setData=function(e){this.data=e},e.prototype.hasData=function(){return null!=this.data&&this.data.length>0},e.prototype.toString=function(){return this.method.toString()+" "+this.commandUrl+" "+(this.data?i.FormatHelper.toHexString(this.data):"")},e.GET=function(t,r){return new e(n.MethodType.GET,t,r)},e.PUT=function(t,r){return new e(n.MethodType.PUT,t,r)},e.POST=function(t,r){return new e(n.MethodType.POST,t,r)},e.create=function(t,r,n){return new e(t,r,n)},e.TAG="CommandMessage",e}();t.Command=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3),o=r(47),i=r(25),a=r(7),s=function(){function e(){this.apduCommandConverter=new n.APDU.Command.APDUCommandConverter,this.iotizeCommandConverter=new i.IotizeLWM2MCommandConverter}return e.instance=function(){return new e},e.prototype.encode=function(e){var t=this.encodeAsIoTizeTrame(e);return this.encodeAsAPDU(e,t)},e.prototype.encodeAsAPDU=function(t,r){var i=new n.APDU.Command.APDUCommand;switch(i.setCLA(e.IOTIZE_CLA),t.getMethod()){case o.MethodType.GET:i.setInstructionCode(e.IOTIZE_INSTRUCTION_CODE_GET);break;case o.MethodType.POST:case o.MethodType.PUT:default:i.setInstructionCode(e.IOTIZE_INSTRUCTION_CODE_PUT)}i.setData(r);var s=this.apduCommandConverter.encode(i);return console.log("DefaultCommandEncoder","Encoding request "+t+" -> "+a.FormatHelper.toHexString(s)),s},e.prototype.encodeAsIoTizeTrame=function(e){return this.iotizeCommandConverter.encode(e)},e.IOTIZE_TRAME_MAX_SIZE=250,e.TAG="DefaultCommandEncoder",e.IOTIZE_CLA=162,e.IOTIZE_INSTRUCTION_CODE_GET=202,e.IOTIZE_INSTRUCTION_CODE_PUT=218,e}();t.DefaultCommandEncoder=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(55),o=r(3),i=function(){function e(){this.apduDecoder=new o.APDU.Response.APDUResponseConverter}return e.prototype.decode=function(e){var t=this.apduDecoder.decode(e);if(t.statusEquals(o.APDU.APDUStatusCode.SUCCESSFUL)){var r=t.getData();return new n.Response(r)}throw new Error("Invalid apdu error code: "+o.FormatHelper.toHexString(t.getStatus())+". (full ="+o.FormatHelper.toHexString(e)+")")},e}();t.DefaultResponseDecoder=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(51))},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(8)),n(r(54)),n(r(142)),n(r(143)),n(r(53)),n(r(60))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3),o=r(58),i=r(9),a=function(){function e(e){this._mapping=e}return e.prototype.decode=function(t){return e.decodeOne(t,this._mapping)},e.prototype.encode=function(t){return e.encodeOneAsBuffer(t,this._mapping)},e.decodeOneExact=function(e,t){for(var r in"number"!=typeof e&&(e=i.NumberConverter.fromOpaqueMsb(e)),t){var o=parseInt(r);if(e==o)return t[o]}throw new Error("Cannot decode "+("number"==typeof e?"number "+e:"0x"+n.FormatHelper.toHexString(e))+". Available keys are "+Object.keys(t))},e.decodeOne=function(e,t){var r=o.MultipleMaskConverter.decodeAll(e,t);if(0==r.length)throw new Error("Cannot decode value "+("number"==typeof e?e:"0x"+n.FormatHelper.toHexString(e))+". Available keys are "+Object.keys(t));return r.length>1&&console.warn("Multiple result for data : ",r,e,t),r[0]},e.encodeOneAsNumber=function(t,r){var n=e.swapKeyValue(r),o=t.toString();if(!(o in n))throw new Error("Key "+o+" does not exist in mapping. Available keys are "+Object.keys(n));return parseInt(n[o])},e.encodeOneAsBuffer=function(t,r){var n=new Uint8Array(1),o=e.encodeOneAsNumber(t,r);return n[0]=255&o,n},e.swapKeyValue=function(e){var t={};for(var r in e)t[e[r]]=r;return t},e}();t.UniqMaskConverter=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(59),o=r(9),i=function(){function e(e){this._mapping=e}return e.prototype.decode=function(t){return e.decodeAll(t,this._mapping)},e.prototype.encode=function(t){return e.encodeAll(t,this._mapping)},e.encodeAll=function(e,t){for(var r=n.Helper.swapMap(t),o=0,i=0,a=e;i<a.length;i++){var s=a[i];if(s in r)o|=parseInt(r[s])}return Uint8Array.from([255&o])},e.decodeAll=function(e,t){var r=[];for(var n in"number"!=typeof e&&(e=o.NumberConverter.fromOpaqueMsb(e,Math.min(8*e.length,32))),t){var i=parseInt(n);0==i&&0==e?r.push(t[i]):0!=(i&e)&&r.push(t[i])}return r},e}();t.MultipleMaskConverter=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.swapMap=function(e){var t={};for(var r in e)t[e[r]]=r;return t},e}();t.Helper=n},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=r(144),o=function(){function t(){this.serializer=new n.TLV.Serializer,this.parser=new n.TLV.Parser}return t.prototype.encode=function(e){return this.serializer.serialize(e)},t.prototype.decode=function(t){return this.parser.parse(e.from(t))},t}();t.TLVConverter=o}).call(this,r(13).Buffer)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(14),o=function(){function e(e){this._options={},this._updater=e}return e.prototype.start=function(t){var r=this;if(this._interval)return console.warn("Variable monitor is already started"),this;var o=t&&t.period||e.DEFAULT_PERIOD;return this._interval=n.interval(o),this._values||(this._values=new n.Subject),this._intervalSubscription=this._interval.subscribe(function(e){r.fetchNewValue(e)}),this._emit("START"),this},e.prototype.isStarted=function(){return!!this._intervalSubscription},e.prototype.pause=function(){return this._intervalSubscription?(this._intervalSubscription.unsubscribe(),this._interval=void 0,this._emit("PAUSE"),this):this},e.prototype.stop=function(){return this.pause(),this._emit("STOP"),this._values&&(this._values.complete(),this._values=void 0),this._events&&(this._events.complete(),this._events=void 0),this._previousValue=void 0,this},e.prototype.values=function(){return this._values||(this._values=new n.Subject),this._values},e.prototype.events=function(){return this._events||(this._events=new n.Subject),this._events},e.prototype.notifyNewValue=function(e){this.isStarted()&&(this._options.forceChange||this.valueHasChanged(e))&&(this._previousValue=e,this._values.next(e),this._events.next({type:"READ_SUCCESS",payload:e}))},e.prototype.fetchNewValue=function(e){var t=this;return console.log("DefaultVariableMonitor","fetchNewValue","Count="+e),this._updater.update(e).then(function(e){t.notifyNewValue(e)}).catch(function(e){t.notifyValueError(e)})},e.prototype.notifyValueError=function(e){console.log("DefaultVariableMonitor","notifyValueError",e),this.isStarted()&&this._events.next({type:"READ_ERROR",payload:e})},e.prototype.valueHasChanged=function(e){return console.log("DefaultVariableMonitor","valueHasChanged",e,this._previousValue),void 0===this._previousValue||this._previousValue!=e},e.prototype._emit=function(e){this._events||(this._events=new n.Subject),this._events.next({type:e,payload:void 0})},e.DEFAULT_PERIOD=300,e}();t.DefaultVariableMonitor=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(39),o=r(16),i=r(5),a=r(15),s=function(){function e(){}return e.sanitizeInput=function(t){return t instanceof Uint8Array?e.byteArrayToWordArray(t):t},e.byteArrayToWordArray=function(e){var t,r=[];for(t=0;t<e.length;t++)r[t/4|0]|=e[t]<<24-8*t;var n=o.lib.WordArray.create(r);return n.sigBytes=e.length,n},e.getAlgoImpl=function(e){switch(e){case"sha1":return o.algo.SHA1;case"sha256":return o.algo.SHA256;default:throw new Error("Unknown algo type: "+e)}},e.wordToByteArray=function(e,t){var r=[];return t>0&&r.push(e>>>24),t>1&&r.push(e>>>16&255),t>2&&r.push(e>>>8&255),t>3&&r.push(255&e),Uint8Array.from(r)},e.libWordArrayToByteArray=function(t,r){r||(r=t.sigBytes);for(var n,o=t.words,a=[],s=0;r>0;)r-=(n=e.wordToByteArray(o[s],Math.min(4,r))).length,a.push(n),s++;return i.ByteBuffer.merge.apply(i.ByteBuffer,a).data},e.wordArrayToByteArray=function(e){return a.FormatHelper.hexStringToBuffer(e.toString(o.enc.Hex))},e.ALGO_TYPE="sha1",e.ITERATION_NUMBER=4096,e.KEY_SIZE=128,e.DEFAULT_SALT="n0 salt in 1oTi2e",e.passwordHasher=new n.ShaHasher({type:e.ALGO_TYPE,iterations:e.ITERATION_NUMBER,salt:e.DEFAULT_SALT,keySize:e.KEY_SIZE}),e}();t.CryptoHelper=s},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t,r){return e.call(this,t,r)||this}return n(t,e),t.prototype.factoryReset=function(){return this._call({path:"/device/factory-reset",methodType:"post"})},t.prototype.getAvailablePowerSource=function(){return this._call({path:"/device/available-power-source",methodType:"get"})},t.prototype.getCurrentTime=function(){return this._call({path:"/device/current-time",methodType:"get"})},t.prototype.getFirmwareVersion=function(){return this._call({path:"/device/firmware-version",methodType:"get"})},t.prototype.getLastErrorCode=function(){return this._call({path:"/device/last-error-code",methodType:"get"})},t.prototype.getManufacturer=function(){return this._call({path:"/device/manufacturer",methodType:"get"})},t.prototype.getMemoryFree=function(){return this._call({path:"/device/memory-free",methodType:"get"})},t.prototype.getModelName=function(){return this._call({path:"/device/model-name",methodType:"get"})},t.prototype.getPowerSourceVoltage=function(){return this._call({path:"/device/power-source-voltage",methodType:"get"})},t.prototype.getPublicPassword=function(){return this._call({path:"/device/public-password",methodType:"get"})},t.prototype.getSerialNumber=function(){return this._call({path:"/device/serial-number",methodType:"get"})},t.prototype.postLastErrorCode=function(){return this._call({path:"/device/last-error-code",methodType:"post"})},t.prototype.putCurrentTime=function(){return this._call({path:"/device/current-time",methodType:"put"})},t.prototype.reboot=function(){return this._call({path:"/device/reboot",methodType:"post"})},t.prototype.resetLastErrorCode=function(){return this._call({path:"/device/reset-last-error-code",methodType:"post"})},t}(r(6).AbstractService);t.DeviceService=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(6),o=r(22),i=function(){function e(e,t){this.client=e,this.config=t}return e.prototype._call=function(e){return this._callObservable(e).pipe(o.first()).toPromise()},e.prototype._callObservable=function(e){var t=this._convertToCommandArgs(e);return this.client.command(t[0],t[1])},e.prototype._convertToCommandArgs=function(t){return e.callToCommandArgs(t,this.config)},e.callToCommandArgs=function(t,r){var o=t.path,i=r?r.resolvePath(o):t.path;console.log("AbstractService call: path "+t.path+" resolved to lwm2m path "+i+" (config ? "+(r?"YES":"NO")+")");var a=r?r.getRoute(t.methodType,o):void 0;if("string"==typeof t.bodyEncoder){if(!r)throw new Error("Api config should be path when using a reference to a body encoder");t.bodyEncoder=r.getBodyConverter(t.bodyEncoder)}a&&a.bodyEncoder&&(t.bodyEncoder=r.getBodyConverter(a.bodyEncoder));var s=void 0;a&&(s=r.getBodyConverter(a.returnTypeConverter));var c=n.PathParameter.fillAllParams(i,t.pathParameters||{}),u=e.encodeBody(t);console.log("encoded payload => ",u);var p=t.methodType.toUpperCase(),f=n.Command[p](c,u);return console.log("SERVICE","_call",JSON.stringify(t)+" | PATH: "+c+" | COMMAND: "+f+" | RESPONSE CONVERTER: "+(s?s.constructor.name:"NONE")+" | BODY CONVERTER: "+(t.bodyEncoder?t.bodyEncoder.constructor.name:"NONE")),[f,s]},e.encodeBody=function(e){if(void 0!==e.body){if(e.body instanceof Uint8Array)return e.body;var t=e.bodyEncoder;if(!t)throw new Error('No valid converter for body type "'+(e&&e.body&&e.body.constructor&&e.body.constructor.name?e.body.constructor.name:typeof e.body)+'" (path '+e.path+")");return"function"==typeof t?t(e.body):t.encode(e.body)}},e}();t.AbstractService=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t,r){void 0===t&&(t={}),void 0===r&&(r={}),this.routes=e,this.converters=t,this.aliases=r}return e.prototype.getRoute=function(e,t){t=this.resolvePath(""+t);var r=e.toLowerCase()+" "+t;return r in this.routes?this.routes[r]:void 0},e.prototype.addRoute=function(e,t,r){for(var n=[],o=3;o<arguments.length;o++)n[o-3]=arguments[o];this.routes[e+" "+t]=r;for(var i=0,a=n;i<a.length;i++){var s=a[i];this.aliases[s]=t}return this},e.prototype.getBodyConverter=function(e){return this.converters[e]},e.prototype.resolvePath=function(e){return e=e in this.aliases?this.aliases[e]:e},e}();t.ApiConfig=n},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t,r){return e.call(this,t,r)||this}return n(t,e),t.prototype.getInstanceId=function(e){return this._call({path:"/acl/{objectId}/instance-id",methodType:"get",pathParameters:{objectId:e}})},t.prototype.getList=function(e){return this._call({path:"/acl/{objectId}/list",methodType:"get",pathParameters:{objectId:e}})},t.prototype.getObjectId=function(e){return this._call({path:"/acl/{objectId}/object-id",methodType:"get",pathParameters:{objectId:e}})},t.prototype.getOwner=function(e){return this._call({path:"/acl/{objectId}/owner",methodType:"get",pathParameters:{objectId:e}})},t.prototype.putList=function(e){return this._call({path:"/acl/{objectId}/list",methodType:"put",pathParameters:{objectId:e}})},t.prototype.putOwner=function(e,t){return this._call({path:"/acl/{objectId}/owner",methodType:"put",body:t,pathParameters:{objectId:e}})},t}(r(6).AbstractService);t.AclService=o},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t,r){return e.call(this,t,r)||this}return n(t,e),t.prototype.getMaxPacketCount=function(){return this._call({path:"/1024//23",methodType:"get"})},t.prototype.run=function(){return this._call({path:"/1031//0",methodType:"post"})},t.prototype.stop=function(){return this._call({path:"/1031//1",methodType:"post"})},t.prototype.getOptions=function(){return this._call({path:"/1031//2",methodType:"get"})},t.prototype.putOptions=function(e){return this._call({path:"/1031//2",methodType:"put",body:e})},t.prototype.putCryptoKey=function(e){return this._call({path:"/1031//3",methodType:"put",body:e})},t.prototype.flush=function(){return this._call({path:"/1031//4",methodType:"post"})},t.prototype.getNumberOfPackets=function(){return this._call({path:"/1031//10",methodType:"get"})},t.prototype.dequeueOnePacket=function(){return this._call({path:"/1031//11",methodType:"get"})},t}(r(6).AbstractService);t.DatalogService=o},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t,r){return e.call(this,t,r)||this}return n(t,e),t.prototype.getScramHashIt=function(){return this._call({path:"/interface/scram/hash-it",methodType:"get"})},t.prototype.getScramUserIteration=function(e){return this._call({path:"/group/{groupId}/scram-user-iteration",methodType:"get",pathParameters:{groupId:e}})},t.prototype.getScramUserSalt=function(e){return this._call({path:"/group/{groupId}/scram-user-salt",methodType:"get",pathParameters:{groupId:e}})},t.prototype.initialize=function(){return this._call({path:"/interface/scram/initialize",methodType:"get"})},t.prototype.login=function(e){return this._call({path:"/interface/scram/login",methodType:"get",body:e,pathParameters:{}})},t.prototype.loginProof=function(e){return this._call({path:"/interface/scram/login-proof",methodType:"get",body:e,pathParameters:{}})},t.prototype.putScramUserIteration=function(e,t){return this._call({path:"/group/{groupId}/scram-user-iteration",methodType:"put",body:t,pathParameters:{groupId:e}})},t.prototype.putScramUserSalt=function(e,t){return this._call({path:"/group/{groupId}/scram-user-salt",methodType:"put",body:t,pathParameters:{groupId:e}})},t.prototype.send=function(e){return this._call({path:"/interface/scram/com-send-receive",methodType:"get",body:e,pathParameters:{}})},t}(r(6).AbstractService);t.ScramService=o},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t,r){return e.call(this,t,r)||this}return n(t,e),t.prototype.getAddress=function(e){return this._call({path:"/variable/{variableId}/address",methodType:"get",pathParameters:{variableId:e}})},t.prototype.getBundleId=function(e){return this._call({path:"/variable/{variableId}/bundle/id",methodType:"get",pathParameters:{variableId:e}})},t.prototype.getBundleValues=function(e){return this._call({path:"/variable/{variableId}/bundle/values",methodType:"get",pathParameters:{variableId:e}})},t.prototype.getCurrentAccess=function(e){return this._call({path:"/variable/{variableId}/current-access",methodType:"get",pathParameters:{variableId:e}})},t.prototype.getFormat=function(e){return this._call({path:"/variable/{variableId}/format",methodType:"get",pathParameters:{variableId:e}})},t.prototype.getNumberOfElements=function(e){return this._call({path:"/variable/{variableId}/number-of-elements",methodType:"get",pathParameters:{variableId:e}})},t.prototype.getValue=function(e){return this._call({path:"/variable/{variableId}/value",methodType:"get",pathParameters:{variableId:e}})},t.prototype.putAddress=function(e,t){return this._call({path:"/variable/{variableId}/address",methodType:"put",body:t,pathParameters:{variableId:e}})},t.prototype.putBundleId=function(e,t){return this._call({path:"/variable/{variableId}/bundle/id",methodType:"put",body:t,pathParameters:{variableId:e}})},t.prototype.putFormat=function(e,t){return this._call({path:"/variable/{variableId}/format",methodType:"put",body:t,pathParameters:{variableId:e}})},t.prototype.putNumberOfElements=function(e,t){return this._call({path:"/variable/{variableId}/number-of-elements",methodType:"put",body:t,pathParameters:{variableId:e}})},t.prototype.putValue=function(e,t){return this._call({path:"/variable/{variableId}/value",methodType:"put",body:t,pathParameters:{variableId:e}})},t.prototype.setValue=function(e,t){return this._call({path:"/variable/{variableId}/set-value",methodType:"post",body:t,pathParameters:{variableId:e}})},t}(r(6).AbstractService);t.VariableService=o},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t,r){return e.call(this,t,r)||this}return n(t,e),t.prototype.clearComStats=function(){return this._call({path:"/target/com-stats",methodType:"post"})},t.prototype.connect=function(){return this._call({path:"/target/connect",methodType:"post"})},t.prototype.disconnect=function(){return this._call({path:"/target/disconnect",methodType:"post"})},t.prototype.getComStats=function(){return this._call({path:"/target/com-stats",methodType:"get"})},t.prototype.getCoreType=function(){return this._call({path:"/target/core-type",methodType:"get"})},t.prototype.getDebugAccess=function(){return this._call({path:"/target/debug-access",methodType:"get"})},t.prototype.getFirmwareVersion=function(){return this._call({path:"/target/firmware-version",methodType:"get"})},t.prototype.getMaxVoltage=function(){return this._call({path:"/target/max-voltage",methodType:"get"})},t.prototype.getMinVoltage=function(){return this._call({path:"/target/min-voltage",methodType:"get"})},t.prototype.getModbusSubProtocol=function(){return this._call({path:"/target/modbus/sub-protocol",methodType:"get"})},t.prototype.getPageSize=function(){return this._call({path:"/target/page-size",methodType:"get"})},t.prototype.getProtocol=function(){return this._call({path:"/target/protocol",methodType:"get"})},t.prototype.getProtocolList=function(){return this._call({path:"/target/protocol/list",methodType:"get"})},t.prototype.getRegAccess=function(){return this._call({path:"/target/reg-access",methodType:"get"})},t.prototype.getUARTSettings=function(){return this._call({path:"/target/uart/settings",methodType:"get"})},t.prototype.getVcc=function(){return this._call({path:"/target/vcc",methodType:"get"})},t.prototype.modbusRead=function(e){return this._call({path:"/target/modbus/read",methodType:"get",body:e,pathParameters:{}})},t.prototype.modbusWrite=function(e){return this._call({path:"/target/modbus/write",methodType:"get",body:e,pathParameters:{}})},t.prototype.postAdpAction=function(e){return this._call({path:"/target/adp/action",methodType:"post",body:e,pathParameters:{}})},t.prototype.postDebugAccess=function(){return this._call({path:"/target/debug-access",methodType:"post"})},t.prototype.postModbusSubProtocol=function(e){return this._call({path:"/target/modbus/sub-protocol",methodType:"post",body:e,pathParameters:{}})},t.prototype.postRegAccess=function(){return this._call({path:"/target/reg-access",methodType:"post"})},t.prototype.postResetKeep=function(){return this._call({path:"/target/reset-keep",methodType:"post"})},t.prototype.putCoreType=function(e){return this._call({path:"/target/core-type",methodType:"put",body:e,pathParameters:{}})},t.prototype.putFirmwareVersion=function(e){return this._call({path:"/target/firmware-version",methodType:"put",body:e,pathParameters:{}})},t.prototype.putMaxVoltage=function(e){return this._call({path:"/target/max-voltage",methodType:"put",body:e,pathParameters:{}})},t.prototype.putMinVoltage=function(e){return this._call({path:"/target/min-voltage",methodType:"put",body:e,pathParameters:{}})},t.prototype.putPageSize=function(e){return this._call({path:"/target/page-size",methodType:"put",body:e,pathParameters:{}})},t.prototype.putProtocol=function(e){return this._call({path:"/target/protocol",methodType:"put",body:e,pathParameters:{}})},t.prototype.read=function(){return this._call({path:"/target/transparent/read",methodType:"get"})},t.prototype.readAddress=function(e){return this._call({path:"/target/memaccess",methodType:"get",body:e,pathParameters:{}})},t.prototype.readBytes=function(e){return this._call({path:"/target/transparent/read-bytes",methodType:"get",body:e,pathParameters:{}})},t.prototype.reset=function(){return this._call({path:"/target/reset",methodType:"post"})},t.prototype.send=function(e){return this._call({path:"/target/transparent/send",methodType:"post",body:e,pathParameters:{}})},t.prototype.sendReceive=function(e){return this._call({path:"/target/transparent/send-receive",methodType:"get",body:e,pathParameters:{}})},t.prototype.setUARTSettings=function(e){return this._call({path:"/target/uart/settings",methodType:"post",body:e,pathParameters:{}})},t.prototype.writeAddress=function(e){return this._call({path:"/target/memaccess",methodType:"post",body:e,pathParameters:{}})},t.prototype.writeUARTSettings=function(e){return this._call({path:"/target/uart/settings",methodType:"put",body:e,pathParameters:{}})},t}(r(6).AbstractService);t.TargetService=o},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t,r){return e.call(this,t,r)||this}return n(t,e),t.prototype.getAppName=function(){return this._call({path:"/interface/app-name",methodType:"get"})},t.prototype.getAppPath=function(){return this._call({path:"/interface/app-path",methodType:"get"})},t.prototype.getAuthorizedHostProtocol=function(){return this._call({path:"/interface/authorized-host-protocol",methodType:"get"})},t.prototype.getAvailableHostProtocols=function(){return this._call({path:"/interface/available-host-protocols",methodType:"get"})},t.prototype.getBleAddress=function(){return this._call({path:"/interface/ble/address",methodType:"get"})},t.prototype.getCloudClientId=function(){return this._call({path:"/interface/cloud/client-id",methodType:"get"})},t.prototype.getCloudConnectionMode=function(){return this._call({path:"/interface/cloud/connection-mode",methodType:"get"})},t.prototype.getCloudGatewayUrl=function(){return this._call({path:"/interface/cloud-gateway-url",methodType:"get"})},t.prototype.getCloudLogin=function(){return this._call({path:"/interface/cloud/login",methodType:"get"})},t.prototype.getCloudMqttPeriod=function(){return this._call({path:"/interface/cloud/mqtt-period",methodType:"get"})},t.prototype.getCloudPassword=function(){return this._call({path:"/interface/cloud/password",methodType:"get"})},t.prototype.getCloudServiceName=function(){return this._call({path:"/interface/cloud/service-name",methodType:"get"})},t.prototype.getCom=function(e){return this._call({path:"/secure-element/com",methodType:"get",body:e,pathParameters:{}})},t.prototype.getConfigFormatFirmwareVersion=function(){return this._call({path:"/interface/config-format-firmware-version",methodType:"get"})},t.prototype.getConfigFormatVersion=function(){return this._call({path:"/interface/config-format-version",methodType:"get"})},t.prototype.getConfigVersion=function(){return this._call({path:"/interface/config-version",methodType:"get"})},t.prototype.getConfigure=function(){return this._call({path:"/secure-element/configure",methodType:"get"})},t.prototype.getCurrentGroupId=function(){return this._call({path:"/interface/current-group-id",methodType:"get"})},t.prototype.getCurrentHostProtocol=function(){return this._call({path:"/interface/current-host-protocol",methodType:"get"})},t.prototype.getCurrentProfileId=function(){return this._call({path:"/interface/current-profile/id",methodType:"get"})},t.prototype.getFunctions=function(){return this._call({path:"/interface/functions",methodType:"get"})},t.prototype.getHostInactivityPeriod=function(){return this._call({path:"/interface/host-inactivity-period",methodType:"get"})},t.prototype.getLock=function(){return this._call({path:"/interface/lock",methodType:"get"})},t.prototype.getMqttRelayClientId=function(){return this._call({path:"/interface/mqtt/relay/client-id",methodType:"get"})},t.prototype.getMqttRelayLogin=function(){return this._call({path:"/interface/mqtt/relay/login",methodType:"get"})},t.prototype.getMqttRelayNetKey=function(){return this._call({path:"/interface/mqtt/relay/net-key",methodType:"get"})},t.prototype.getMqttRelayPassword=function(){return this._call({path:"/interface/mqtt/relay/password",methodType:"get"})},t.prototype.getMqttRelayPort=function(){return this._call({path:"/interface/mqtt/relay/port",methodType:"get"})},t.prototype.getMqttRelayUrl=function(){return this._call({path:"/interface/mqtt/relay/url",methodType:"get"})},t.prototype.getNetworkGatewayIp=function(){return this._call({path:"/interface/network/gateway-ip",methodType:"get"})},t.prototype.getNetworkInfraIp=function(){return this._call({path:"/interface/network/infra-ip",methodType:"get"})},t.prototype.getNetworkInfraIpMask=function(){return this._call({path:"/interface/network/infra-ip-mask",methodType:"get"})},t.prototype.getNetworkMode=function(){return this._call({path:"/interface/network-mode",methodType:"get"})},t.prototype.getNfcPairingMode=function(){return this._call({path:"/interface/nfc/pairing-mode",methodType:"get"})},t.prototype.getPowerOptimisationLevel=function(){return this._call({path:"/interface/power-optimisation-level",methodType:"get"})},t.prototype.getPublicPassword=function(){return this._call({path:"/interface/public-password",methodType:"get"})},t.prototype.getRand=function(){return this._call({path:"/interface/rand",methodType:"get"})},t.prototype.getWepKey=function(){return this._call({path:"/interface/wep-key",methodType:"get"})},t.prototype.getWifiHostname=function(){return this._call({path:"/interface/wifi/hostname",methodType:"get"})},t.prototype.getWifiSSID=function(){return this._call({path:"/interface/wifi/ssid",methodType:"get"})},t.prototype.keepAlive=function(){return this._call({path:"/interface/keep-alive",methodType:"get"})},t.prototype.login=function(e){return this._call({path:"/interface/login",methodType:"post",body:e,pathParameters:{}})},t.prototype.logout=function(){return this._call({path:"/interface/logout",methodType:"post"})},t.prototype.multiCommands=function(e){return this._call({path:"/interface/multi-commands",methodType:"get",body:e,pathParameters:{}})},t.prototype.postLoginUid=function(e){return this._call({path:"/interface/login-uid",methodType:"post",body:e,pathParameters:{}})},t.prototype.putAppName=function(e){return this._call({path:"/interface/app-name",methodType:"put",body:e,pathParameters:{}})},t.prototype.putAppPath=function(e){return this._call({path:"/interface/app-path",methodType:"put",body:e,pathParameters:{}})},t.prototype.putAuthorizedHostProtocol=function(e){return this._call({path:"/interface/authorized-host-protocol",methodType:"put",body:e,pathParameters:{}})},t.prototype.putCloudConnectionMode=function(e){return this._call({path:"/interface/cloud/connection-mode",methodType:"put",body:e,pathParameters:{}})},t.prototype.putCloudGatewayUrl=function(e){return this._call({path:"/interface/cloud-gateway-url",methodType:"put",body:e,pathParameters:{}})},t.prototype.putCloudMqttPeriod=function(e){return this._call({path:"/interface/cloud/mqtt-period",methodType:"put",body:e,pathParameters:{}})},t.prototype.putCloudPassword=function(e){return this._call({path:"/interface/cloud/password",methodType:"put",body:e,pathParameters:{}})},t.prototype.putCloudServiceName=function(e){return this._call({path:"/interface/cloud/service-name",methodType:"put",body:e,pathParameters:{}})},t.prototype.putConfigFormatVersion=function(e){return this._call({path:"/interface/config-format-version",methodType:"put",body:e,pathParameters:{}})},t.prototype.putConfigVersion=function(e){return this._call({path:"/interface/config-version",methodType:"put",body:e,pathParameters:{}})},t.prototype.putConfigure=function(e){return this._call({path:"/secure-element/configure",methodType:"put",body:e,pathParameters:{}})},t.prototype.putCurrentHostProtocol=function(e){return this._call({path:"/interface/current-host-protocol",methodType:"put",body:e,pathParameters:{}})},t.prototype.putHostInactivityPeriod=function(e){return this._call({path:"/interface/host-inactivity-period",methodType:"put",body:e,pathParameters:{}})},t.prototype.putLock=function(e){return this._call({path:"/interface/lock",methodType:"put",body:e,pathParameters:{}})},t.prototype.putMqttRelayNetKey=function(e){return this._call({path:"/interface/mqtt/relay/net-key",methodType:"put",body:e,pathParameters:{}})},t.prototype.putMqttRelayPassword=function(e){return this._call({path:"/interface/mqtt/relay/password",methodType:"put",body:e,pathParameters:{}})},t.prototype.putMqttRelayPort=function(e){return this._call({path:"/interface/mqtt/relay/port",methodType:"put",body:e,pathParameters:{}})},t.prototype.putMqttRelayUrl=function(e){return this._call({path:"/interface/mqtt/relay/url",methodType:"put",body:e,pathParameters:{}})},t.prototype.putNetworkGatewayIp=function(e){return this._call({path:"/interface/network/gateway-ip",methodType:"put",body:e,pathParameters:{}})},t.prototype.putNetworkInfraIp=function(e){return this._call({path:"/interface/network/infra-ip",methodType:"put",body:e,pathParameters:{}})},t.prototype.putNetworkInfraIpMask=function(e){return this._call({path:"/interface/network/infra-ip-mask",methodType:"put",body:e,pathParameters:{}})},t.prototype.putNetworkMode=function(e){return this._call({path:"/interface/network-mode",methodType:"put",body:e,pathParameters:{}})},t.prototype.putNfcPairingMode=function(e){return this._call({path:"/interface/nfc/pairing-mode",methodType:"put",body:e,pathParameters:{}})},t.prototype.putPowerOptimisationLevel=function(e){return this._call({path:"/interface/power-optimisation-level",methodType:"put",body:e,pathParameters:{}})},t.prototype.putWepKey=function(e){return this._call({path:"/interface/wep-key",methodType:"put",body:e,pathParameters:{}})},t.prototype.putWifiSsid=function(e){return this._call({path:"/interface/wifi/ssid",methodType:"put",body:e,pathParameters:{}})},t.prototype.reloadConfig=function(){return this._call({path:"/interface/config-version",methodType:"post"})},t}(r(6).AbstractService);t.InterfaceService=o},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t,r){return e.call(this,t,r)||this}return n(t,e),t.prototype.getAlias=function(e){return this._call({path:"/group/{groupId}/alias",methodType:"get",pathParameters:{groupId:e}})},t.prototype.getName=function(e){return this._call({path:"/group/{groupId}/name",methodType:"get",pathParameters:{groupId:e}})},t.prototype.getScramUserIteration=function(e){return this._call({path:"/group/{groupId}/scram-user-iteration",methodType:"get",pathParameters:{groupId:e}})},t.prototype.getScramUserSalt=function(e){return this._call({path:"/group/{groupId}/scram-user-salt",methodType:"get",pathParameters:{groupId:e}})},t.prototype.getSessionLifetime=function(e){return this._call({path:"/group/{groupId}/session-lifetime",methodType:"get",pathParameters:{groupId:e}})},t.prototype.postPassword=function(e,t){return this._call({path:"/group/{groupId}/password",methodType:"post",body:t,pathParameters:{groupId:e}})},t.prototype.putAlias=function(e,t){return this._call({path:"/group/{groupId}/alias",methodType:"put",body:t,pathParameters:{groupId:e}})},t.prototype.putName=function(e,t){return this._call({path:"/group/{groupId}/name",methodType:"put",body:t,pathParameters:{groupId:e}})},t.prototype.putScramUserIteration=function(e,t){return this._call({path:"/group/{groupId}/scram-user-iteration",methodType:"put",body:t,pathParameters:{groupId:e}})},t.prototype.putScramUserSalt=function(e,t){return this._call({path:"/group/{groupId}/scram-user-salt",methodType:"put",body:t,pathParameters:{groupId:e}})},t.prototype.putSessionLifetime=function(e,t){return this._call({path:"/group/{groupId}/session-lifetime",methodType:"put",body:t,pathParameters:{groupId:e}})},t}(r(6).AbstractService);t.GroupService=o},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t,r){return e.call(this,t,r)||this}return n(t,e),t.prototype.getState=function(){return this._call({path:"/firmware/state",methodType:"get"})},t.prototype.getUpdateResult=function(){return this._call({path:"/firmware/update-result",methodType:"get"})},t.prototype.postCrcCheck=function(e){return this._call({path:"/firmware/crc-check",methodType:"post",body:e,pathParameters:{}})},t.prototype.postPackage=function(){return this._call({path:"/firmware/package",methodType:"post"})},t.prototype.postUpdate=function(){return this._call({path:"/firmware/update",methodType:"post"})},t}(r(6).AbstractService);t.FirmwareService=o},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t,r){return e.call(this,t,r)||this}return n(t,e),t.prototype.getAclgroupId=function(e,t){return this._call({path:"/bundle/{bundleId}/acl/{groupId}",methodType:"get",pathParameters:{bundleId:e,groupId:t}})},t.prototype.getDatalogPeriod=function(e){return this._call({path:"/bundle/{bundleId}/datalog-period",methodType:"get",pathParameters:{bundleId:e}})},t.prototype.getValues=function(e){return this._call({path:"/bundle/{bundleId}/values",methodType:"get",pathParameters:{bundleId:e}})},t.prototype.putAclgroupId=function(e,t,r){return this._call({path:"/bundle/{bundleId}/acl/{groupId}",methodType:"put",body:r,pathParameters:{bundleId:e,groupId:t}})},t.prototype.putDatalogPeriod=function(e,t){return this._call({path:"/bundle/{bundleId}/datalog-period",methodType:"put",body:t,pathParameters:{bundleId:e}})},t}(r(6).AbstractService);t.BundleService=o},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t,r){return e.call(this,t,r)||this}return n(t,e),t.prototype.bspe=function(e){return this._call({path:"/single-packet/bspe",methodType:"post",body:e,pathParameters:{}})},t.prototype.getInfo=function(){return this._call({path:"/single-packet-store/info",methodType:"get"})},t.prototype.writePartialSinglePacket=function(e){return this._call({path:"/single-packet/part",methodType:"post",body:e,pathParameters:{}})},t.prototype.writeSmallSinglePacket=function(e){return this._call({path:"/single-packet/write",methodType:"post",body:e,pathParameters:{}})},t}(r(6).AbstractService);t.SinglePacketService=o},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(160)),n(r(161)),n(r(162)),n(r(169)),n(r(170)),n(r(171)),n(r(172)),n(r(173)),n(r(174)),n(r(175)),n(r(176)),n(r(177)),n(r(178)),n(r(179)),n(r(82)),n(r(83)),n(r(180)),n(r(181)),n(r(182)),n(r(183)),n(r(184)),n(r(185)),n(r(186)),n(r(187)),n(r(77)),n(r(78)),n(r(79)),n(r(81)),n(r(80))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),o=function(){function e(){}return e.prototype.decode=function(t){return n.Converter.UniqMaskConverter.decodeOneExact(t,e.mapping)},e.prototype.encode=function(t){return n.Converter.UniqMaskConverter.encodeOneAsBuffer(t,e.mapping)},e.instance=function(){return e._instance||(e._instance=new e),e._instance},e.mapping={0:"NONE",1:"ODD",2:"EVEN"},e}();t.UartSettingsBitParityConverter=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),o=function(){function e(){}return e.prototype.decode=function(t){return n.Converter.UniqMaskConverter.decodeOneExact(t,e.mapping)},e.prototype.encode=function(t){return n.Converter.UniqMaskConverter.encodeOneAsBuffer(t,e.mapping)},e.instance=function(){return e._instance||(e._instance=new e),e._instance},e.mapping={0:"NONE",1:"CTS",2:"RTS",3:"RTS_CTS",4:"DTR_DSR",8:"XON_XOFF"},e}();t.UartSettingsHandshakeConverter=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),o=function(){function e(){}return e.prototype.decode=function(t){return n.Converter.UniqMaskConverter.decodeOneExact(t,e.mapping)},e.prototype.encode=function(t){return n.Converter.UniqMaskConverter.encodeOneAsBuffer(t,e.mapping)},e.instance=function(){return e._instance||(e._instance=new e),e._instance},e.mapping={0:"NONE",1:"CR",2:"LF",3:"CR_LF"},e}();t.UartSettingsHandshakeDelimiterConverter=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),o=function(){function e(){}return e.prototype.decode=function(t){return n.Converter.UniqMaskConverter.decodeOneExact(t,e.mapping)},e.prototype.encode=function(t){return n.Converter.UniqMaskConverter.encodeOneAsBuffer(t,e.mapping)},e.instance=function(){return e._instance||(e._instance=new e),e._instance},e.mapping={0:"ONE",1:"ONE_AND_HALF",2:"TWO"},e}();t.UartSettingsStopBitConverter=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),o=function(){function e(){}return e.prototype.decode=function(t){return n.Converter.UniqMaskConverter.decodeOneExact(t,e.mapping)},e.prototype.encode=function(t){return n.Converter.UniqMaskConverter.encodeOneAsBuffer(t,e.mapping)},e.instance=function(){return e._instance||(e._instance=new e),e._instance},e.mapping={0:"NONE",1:"RS232",2:"RS485",3:"USB",4:"UART",5:"CAN"},e}();t.UartSettingsPhysicalPortConverter=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5),o=function(){function e(){}return e.prototype.MemoryInfoConverter=function(){},e.prototype.encode=function(e){var t=0;t+=4,t+=4,t+=1;var r=n.ByteBuffer.create(t);return r.put_number(e.address,4),r.put_number(e.quantity,4),r.put_number(e.functionCode,1),r.data},e.prototype.decode=function(e){var t={};if(null==e||0==e.length)throw new Error("Invalid response length: "+e.length);var r=n.ByteBuffer.from(e);return t.address=r.get_number(4),t.quantity=r.get_number(4),t.functionCode=r.get_number(1),t},e.instance=function(){return null==e._instance&&(e._instance=new e),e._instance},e}();t.MemoryInfoConverter=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5),o=function(){function e(){}return e.prototype.MemoryWriteInfoConverter=function(){},e.prototype.encode=function(e){var t=0;t+=4,t+=4,t+=1,t+=null!=e.value?e.value.length:0;var r=n.ByteBuffer.create(t);return r.put_number(e.address,4),r.put_number(e.length,4),r.put_number(e.itemSize,1),r.put_bytes(e.value),r.data},e.prototype.decode=function(e){var t={};if(null==e||0==e.length)throw new Error("Invalid response length: "+e.length);var r=n.ByteBuffer.from(e);return t.address=r.get_number(4),t.length=r.get_number(4),t.itemSize=r.get_number(1),t.value=r.get_bytes(),t},e.instance=function(){return null==e._instance&&(e._instance=new e),e._instance},e}();t.MemoryWriteInfoConverter=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(85);t.Protocol=n;var o=r(44);t.Client=o;var i=r(3);t.Core=i;var a=r(147);t.Device=a;var s=r(1);t.Converter=s;var c=r(188);t.Relay=c,function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(59))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(19);t.Api=n;var o=r(87);t.Impl=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.DISCONNECTED=0]="DISCONNECTED",e[e.CONNECTING=1]="CONNECTING",e[e.CONNECTED=2]="CONNECTED",e[e.DISCONNECTING=3]="DISCONNECTING"}(t.ConnectionState||(t.ConnectionState={}))},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(29)),n(r(88)),n(r(43))},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(30)),n(r(89)),n(r(31)),n(r(33))},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(a,s)}c((n=n.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(31),s=r(33),c=r(30),u=r(3),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.onNewLwm2mMessage=function(e){this._readResolve?(console.log("onNewLwm2mMessage()",u.FormatHelper.toHexString(e)),this._readResolve(e)):console.warn("No listener for new message...")},t.prototype.onLwm2mDataChunkError=function(e){this._readReject?this._readReject(e):console.warn("No listener for read message error...")},t.prototype.waitForLwm2mResponse=function(){var e=this;return console.log("AbstractBleProtocol:read()"),new Promise(function(t,r){e._readResolve=t,e._readReject=r})},t.prototype.read=function(){var e=this;return this.packetBuilder&&console.warn("AbstractBleProtocol::read() There is already a read operation in progress but a new call to ::read has been made."),this.packetBuilder=null,this.waitForLwm2mResponse().then(function(t){return e.packetBuilder=null,t})},t.prototype.write=function(e){return o(this,void 0,void 0,function(){var t,r,n=this;return i(this,function(o){return console.log("BLEProtocol","write",u.FormatHelper.toHexString(e)),null!=this.packetSplitter&&console.warn("BLEProtocol","write","There are already data being sent but a new call to ::write has been made"),this.packetSplitter=s.BLEPacketSplitter.wrapWithChecksum(e,c.BleConfig.maxPacketLengthWithoutOffset),(t=this.packetSplitter.getPackets()).length>0?(0,t.forEach(function(e,o){(r=r?r.then(function(){return n.writeLwm2mPacketChunk(t[o])}):n.writeLwm2mPacketChunk(t[o])).then(function(){console.log("BLEProtocol","write","Done sending packet "+(o+1)+"/"+t.length)})})):(console.warn("BLEProtocol","write","Nothing to write..."),r=Promise.resolve()),[2,r.then(function(){n.packetSplitter=null,console.log("BLEProtocol","write","DONE sending packet "+t.length+" packet(s)")})]})})},t.prototype.onNewLwm2mPacket=function(e){null==this.packetBuilder&&(this.packetBuilder=new a.BLEPacketBuilder(t.RECEIVED_BUFFER_LENGTH)),this.packetBuilder.append(e),this.packetBuilder.hasAllChunks()&&(this.packetBuilder.assertValidChecksum(),this.onNewLwm2mMessage(this.packetBuilder.getData()))},t.RECEIVED_BUFFER_LENGTH=255,t}(r(43).QueueComProtocol);t.AbstractBleProtocol=p},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(34)),n(r(32))},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(35)),n(r(92));var o=r(93);t.Command=o;var i=r(37);t.Response=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.SUCCESSFUL=Uint8Array.from([144,0]),e}();t.APDUStatusCode=n},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(94)),n(r(36))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(35),o=r(36),i=function(){function e(){this.buffer=new Uint8Array(e.APDU_BUFFER_SIZE)}return e.prototype.encode=function(e){var t=0;return this.buffer[t++]=e.getCLA(),this.buffer[t++]=e.getInstructionCode(),this.buffer.set(e.getParameters(),t),t+=o.APDUCommand.P1P2_LENGTH,this.buffer.set(e.getSizeOfCommandInBytes(),t),t+=e.getSizeOfCommandInBytes().length,this.buffer.set(e.getData(),t),t+=e.getData().length,e.hasExpectedResponseSize()&&(this.buffer.set(e.getExpectedResponseSize(),t),t+=e.getExpectedResponseSize().length),this.buffer.subarray(0,t)},e.prototype.decode=function(t){var r=new o.APDUCommand;if(null==t||t.length<e.MIN_APDU_SIZE)throw new n.InvalidAPDUError("Apdu is smaller than the minimum apdu size");r.setCLA(t[0]).setInstructionCode(t[1]).setInstructionParameter(t[2],t[3]);var i=255&t[4];r.setSizeOfCommandInBytes(i);if(t.length<i+5)throw new n.InvalidAPDUError("Expected "+i+" bytes of data but found "+(t.length-5)+" bytes in trame");return r.setData(t.subarray(5,5+i)),r},e.HEADER_LENGTH=4,e.MIN_APDU_SIZE=5,e.APDU_BUFFER_SIZE=255,e}();t.APDUCommandConverter=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(38),o=r(7),i=function(){function e(){}return e.prototype.encode=function(t){console.log(e.TAG,"encode() ",t.toString());var r=t.getData().length,n=new Uint8Array(r+t.getStatus().length),o=0;return n.set(t.getData(),o),o+=r,n.set(t.getStatus(),o),n},e.prototype.decode=function(t){console.log(e.TAG,"decode() ",o.FormatHelper.toHexString(t));var r=new n.APDUResponse;return r.setStatus(t.subarray(-e.STATUS_WORD_LENGTH)).setData(t.subarray(0,-e.STATUS_WORD_LENGTH)),r},e.TAG="APDUResponseConverter",e.STATUS_WORD_LENGTH=2,e}();t.APDUResponseConverter=i},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(39)),n(r(42))},function(e,t,r){e.exports=function(e){return function(){if("function"==typeof ArrayBuffer){var t=e.lib.WordArray,r=t.init;(t.init=function(e){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),(e instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)&&(e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),e instanceof Uint8Array){for(var t=e.byteLength,n=[],o=0;o<t;o++)n[o>>>2]|=e[o]<<24-o%4*8;r.call(this,n,t)}else r.apply(this,arguments)}).prototype=t}}(),e.lib.WordArray}(r(0))},function(e,t,r){e.exports=function(e){return function(){var t=e,r=t.lib.WordArray,n=t.enc;function o(e){return e<<8&4278255360|e>>>8&16711935}n.Utf16=n.Utf16BE={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],o=0;o<r;o+=2){var i=t[o>>>2]>>>16-o%4*8&65535;n.push(String.fromCharCode(i))}return n.join("")},parse:function(e){for(var t=e.length,n=[],o=0;o<t;o++)n[o>>>1]|=e.charCodeAt(o)<<16-o%2*16;return r.create(n,2*t)}},n.Utf16LE={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],i=0;i<r;i+=2){var a=o(t[i>>>2]>>>16-i%4*8&65535);n.push(String.fromCharCode(a))}return n.join("")},parse:function(e){for(var t=e.length,n=[],i=0;i<t;i++)n[i>>>1]|=o(e.charCodeAt(i)<<16-i%2*16);return r.create(n,2*t)}}}(),e.enc.Utf16}(r(0))},function(e,t,r){e.exports=function(e){return function(){var t=e,r=t.lib.WordArray,n=t.algo,o=n.SHA256,i=n.SHA224=o.extend({_doReset:function(){this._hash=new r.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var e=o._doFinalize.call(this);return e.sigBytes-=4,e}});t.SHA224=o._createHelper(i),t.HmacSHA224=o._createHmacHelper(i)}(),e.SHA224}(r(0),r(40))},function(e,t,r){e.exports=function(e){return function(){var t=e,r=t.x64,n=r.Word,o=r.WordArray,i=t.algo,a=i.SHA512,s=i.SHA384=a.extend({_doReset:function(){this._hash=new o.init([new n.init(3418070365,3238371032),new n.init(1654270250,914150663),new n.init(2438529370,812702999),new n.init(355462360,4144912697),new n.init(1731405415,4290775857),new n.init(2394180231,1750603025),new n.init(3675008525,1694076839),new n.init(1203062813,3204075428)])},_doFinalize:function(){var e=a._doFinalize.call(this);return e.sigBytes-=16,e}});t.SHA384=a._createHelper(s),t.HmacSHA384=a._createHmacHelper(s)}(),e.SHA384}(r(0),r(17),r(41))},function(e,t,r){e.exports=function(e){return function(t){var r=e,n=r.lib,o=n.WordArray,i=n.Hasher,a=r.x64.Word,s=r.algo,c=[],u=[],p=[];!function(){for(var e=1,t=0,r=0;r<24;r++){c[e+5*t]=(r+1)*(r+2)/2%64;var n=(2*e+3*t)%5;e=t%5,t=n}for(e=0;e<5;e++)for(t=0;t<5;t++)u[e+5*t]=t+(2*e+3*t)%5*5;for(var o=1,i=0;i<24;i++){for(var s=0,f=0,l=0;l<7;l++){if(1&o){var h=(1<<l)-1;h<32?f^=1<<h:s^=1<<h-32}128&o?o=o<<1^113:o<<=1}p[i]=a.create(s,f)}}();var f=[];!function(){for(var e=0;e<25;e++)f[e]=a.create()}();var l=s.SHA3=i.extend({cfg:i.cfg.extend({outputLength:512}),_doReset:function(){for(var e=this._state=[],t=0;t<25;t++)e[t]=new a.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(e,t){for(var r=this._state,n=this.blockSize/2,o=0;o<n;o++){var i=e[t+2*o],a=e[t+2*o+1];i=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),a=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),(I=r[o]).high^=a,I.low^=i}for(var s=0;s<24;s++){for(var l=0;l<5;l++){for(var h=0,d=0,y=0;y<5;y++)h^=(I=r[l+5*y]).high,d^=I.low;var _=f[l];_.high=h,_.low=d}for(l=0;l<5;l++){var g=f[(l+4)%5],v=f[(l+1)%5],m=v.high,b=v.low;for(h=g.high^(m<<1|b>>>31),d=g.low^(b<<1|m>>>31),y=0;y<5;y++)(I=r[l+5*y]).high^=h,I.low^=d}for(var E=1;E<25;E++){var C=(I=r[E]).high,w=I.low,T=c[E];T<32?(h=C<<T|w>>>32-T,d=w<<T|C>>>32-T):(h=w<<T-32|C>>>64-T,d=C<<T-32|w>>>64-T);var P=f[u[E]];P.high=h,P.low=d}var S=f[0],O=r[0];for(S.high=O.high,S.low=O.low,l=0;l<5;l++)for(y=0;y<5;y++){var I=r[E=l+5*y],A=f[E],B=f[(l+1)%5+5*y],R=f[(l+2)%5+5*y];I.high=A.high^~B.high&R.high,I.low=A.low^~B.low&R.low}I=r[0];var M=p[s];I.high^=M.high,I.low^=M.low}},_doFinalize:function(){var e=this._data,r=e.words,n=(this._nDataBytes,8*e.sigBytes),i=32*this.blockSize;r[n>>>5]|=1<<24-n%32,r[(t.ceil((n+1)/i)*i>>>5)-1]|=128,e.sigBytes=4*r.length,this._process();for(var a=this._state,s=this.cfg.outputLength/8,c=s/8,u=[],p=0;p<c;p++){var f=a[p],l=f.high,h=f.low;l=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8),h=16711935&(h<<8|h>>>24)|4278255360&(h<<24|h>>>8),u.push(h),u.push(l)}return new o.init(u,s)},clone:function(){for(var e=i.clone.call(this),t=e._state=this._state.slice(0),r=0;r<25;r++)t[r]=t[r].clone();return e}});r.SHA3=i._createHelper(l),r.HmacSHA3=i._createHmacHelper(l)}(Math),e.SHA3}(r(0),r(17))},function(e,t,r){e.exports=function(e){
/** @preserve
	(c) 2012 by Cdric Mesnil. All rights reserved.

	Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

	    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
	    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

	THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
	*/
return function(t){var r=e,n=r.lib,o=n.WordArray,i=n.Hasher,a=r.algo,s=o.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),c=o.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),u=o.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),p=o.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),f=o.create([0,1518500249,1859775393,2400959708,2840853838]),l=o.create([1352829926,1548603684,1836072691,2053994217,0]),h=a.RIPEMD160=i.extend({_doReset:function(){this._hash=o.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var r=0;r<16;r++){var n=t+r,o=e[n];e[n]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8)}var i,a,h,b,E,C,w,T,P,S,O,I=this._hash.words,A=f.words,B=l.words,R=s.words,M=c.words,N=u.words,L=p.words;for(C=i=I[0],w=a=I[1],T=h=I[2],P=b=I[3],S=E=I[4],r=0;r<80;r+=1)O=i+e[t+R[r]]|0,O+=r<16?d(a,h,b)+A[0]:r<32?y(a,h,b)+A[1]:r<48?_(a,h,b)+A[2]:r<64?g(a,h,b)+A[3]:v(a,h,b)+A[4],O=(O=m(O|=0,N[r]))+E|0,i=E,E=b,b=m(h,10),h=a,a=O,O=C+e[t+M[r]]|0,O+=r<16?v(w,T,P)+B[0]:r<32?g(w,T,P)+B[1]:r<48?_(w,T,P)+B[2]:r<64?y(w,T,P)+B[3]:d(w,T,P)+B[4],O=(O=m(O|=0,L[r]))+S|0,C=S,S=P,P=m(T,10),T=w,w=O;O=I[1]+h+P|0,I[1]=I[2]+b+S|0,I[2]=I[3]+E+C|0,I[3]=I[4]+i+w|0,I[4]=I[0]+a+T|0,I[0]=O},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,n=8*e.sigBytes;t[n>>>5]|=128<<24-n%32,t[14+(n+64>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),e.sigBytes=4*(t.length+1),this._process();for(var o=this._hash,i=o.words,a=0;a<5;a++){var s=i[a];i[a]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8)}return o},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});function d(e,t,r){return e^t^r}function y(e,t,r){return e&t|~e&r}function _(e,t,r){return(e|~t)^r}function g(e,t,r){return e&r|t&~r}function v(e,t,r){return e^(t|~r)}function m(e,t){return e<<t|e>>>32-t}r.RIPEMD160=i._createHelper(h),r.HmacRIPEMD160=i._createHmacHelper(h)}(Math),e.RIPEMD160}(r(0))},function(e,t,r){e.exports=function(e){return function(){var t=e,r=t.lib,n=r.Base,o=r.WordArray,i=t.algo,a=i.SHA1,s=i.HMAC,c=i.PBKDF2=n.extend({cfg:n.extend({keySize:4,hasher:a,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var r=this.cfg,n=s.create(r.hasher,e),i=o.create(),a=o.create([1]),c=i.words,u=a.words,p=r.keySize,f=r.iterations;c.length<p;){var l=n.update(t).finalize(a);n.reset();for(var h=l.words,d=h.length,y=l,_=1;_<f;_++){y=n.finalize(y),n.reset();for(var g=y.words,v=0;v<d;v++)h[v]^=g[v]}i.concat(l),u[0]++}return i.sigBytes=4*p,i}});t.PBKDF2=function(e,t,r){return c.create(r).compute(e,t)}}(),e.PBKDF2}(r(0),r(20),r(21))},function(e,t,r){e.exports=function(e){return e.mode.CFB=function(){var t=e.lib.BlockCipherMode.extend();function r(e,t,r,n){var o=this._iv;if(o){var i=o.slice(0);this._iv=void 0}else i=this._prevBlock;n.encryptBlock(i,0);for(var a=0;a<r;a++)e[t+a]^=i[a]}return t.Encryptor=t.extend({processBlock:function(e,t){var n=this._cipher,o=n.blockSize;r.call(this,e,t,o,n),this._prevBlock=e.slice(t,t+o)}}),t.Decryptor=t.extend({processBlock:function(e,t){var n=this._cipher,o=n.blockSize,i=e.slice(t,t+o);r.call(this,e,t,o,n),this._prevBlock=i}}),t}(),e.mode.CFB}(r(0),r(4))},function(e,t,r){e.exports=function(e){return e.mode.CTR=function(){var t=e.lib.BlockCipherMode.extend(),r=t.Encryptor=t.extend({processBlock:function(e,t){var r=this._cipher,n=r.blockSize,o=this._iv,i=this._counter;o&&(i=this._counter=o.slice(0),this._iv=void 0);var a=i.slice(0);r.encryptBlock(a,0),i[n-1]=i[n-1]+1|0;for(var s=0;s<n;s++)e[t+s]^=a[s]}});return t.Decryptor=r,t}(),e.mode.CTR}(r(0),r(4))},function(e,t,r){e.exports=function(e){
/** @preserve
	 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
	 * derived from CryptoJS.mode.CTR
	 * Jan Hruby jhruby.web@gmail.com
	 */
return e.mode.CTRGladman=function(){var t=e.lib.BlockCipherMode.extend();function r(e){if(255==(e>>24&255)){var t=e>>16&255,r=e>>8&255,n=255&e;255===t?(t=0,255===r?(r=0,255===n?n=0:++n):++r):++t,e=0,e+=t<<16,e+=r<<8,e+=n}else e+=1<<24;return e}var n=t.Encryptor=t.extend({processBlock:function(e,t){var n=this._cipher,o=n.blockSize,i=this._iv,a=this._counter;i&&(a=this._counter=i.slice(0),this._iv=void 0),function(e){0===(e[0]=r(e[0]))&&(e[1]=r(e[1]))}(a);var s=a.slice(0);n.encryptBlock(s,0);for(var c=0;c<o;c++)e[t+c]^=s[c]}});return t.Decryptor=n,t}(),e.mode.CTRGladman}(r(0),r(4))},function(e,t,r){e.exports=function(e){return e.mode.OFB=function(){var t=e.lib.BlockCipherMode.extend(),r=t.Encryptor=t.extend({processBlock:function(e,t){var r=this._cipher,n=r.blockSize,o=this._iv,i=this._keystream;o&&(i=this._keystream=o.slice(0),this._iv=void 0),r.encryptBlock(i,0);for(var a=0;a<n;a++)e[t+a]^=i[a]}});return t.Decryptor=r,t}(),e.mode.OFB}(r(0),r(4))},function(e,t,r){e.exports=function(e){return e.mode.ECB=function(){var t=e.lib.BlockCipherMode.extend();return t.Encryptor=t.extend({processBlock:function(e,t){this._cipher.encryptBlock(e,t)}}),t.Decryptor=t.extend({processBlock:function(e,t){this._cipher.decryptBlock(e,t)}}),t}(),e.mode.ECB}(r(0),r(4))},function(e,t,r){e.exports=function(e){return e.pad.AnsiX923={pad:function(e,t){var r=e.sigBytes,n=4*t,o=n-r%n,i=r+o-1;e.clamp(),e.words[i>>>2]|=o<<24-i%4*8,e.sigBytes+=o},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},e.pad.Ansix923}(r(0),r(4))},function(e,t,r){e.exports=function(e){return e.pad.Iso10126={pad:function(t,r){var n=4*r,o=n-t.sigBytes%n;t.concat(e.lib.WordArray.random(o-1)).concat(e.lib.WordArray.create([o<<24],1))},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},e.pad.Iso10126}(r(0),r(4))},function(e,t,r){e.exports=function(e){return e.pad.Iso97971={pad:function(t,r){t.concat(e.lib.WordArray.create([2147483648],1)),e.pad.ZeroPadding.pad(t,r)},unpad:function(t){e.pad.ZeroPadding.unpad(t),t.sigBytes--}},e.pad.Iso97971}(r(0),r(4))},function(e,t,r){e.exports=function(e){return e.pad.ZeroPadding={pad:function(e,t){var r=4*t;e.clamp(),e.sigBytes+=r-(e.sigBytes%r||r)},unpad:function(e){for(var t=e.words,r=e.sigBytes-1;!(t[r>>>2]>>>24-r%4*8&255);)r--;e.sigBytes=r+1}},e.pad.ZeroPadding}(r(0),r(4))},function(e,t,r){e.exports=function(e){return e.pad.NoPadding={pad:function(){},unpad:function(){}},e.pad.NoPadding}(r(0),r(4))},function(e,t,r){e.exports=function(e){return function(t){var r=e,n=r.lib.CipherParams,o=r.enc.Hex;r.format.Hex={stringify:function(e){return e.ciphertext.toString(o)},parse:function(e){var t=o.parse(e);return n.create({ciphertext:t})}}}(),e.format.Hex}(r(0),r(4))},function(e,t,r){e.exports=function(e){return function(){var t=e,r=t.lib.BlockCipher,n=t.algo,o=[],i=[],a=[],s=[],c=[],u=[],p=[],f=[],l=[],h=[];!function(){for(var e=[],t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;var r=0,n=0;for(t=0;t<256;t++){var d=n^n<<1^n<<2^n<<3^n<<4;d=d>>>8^255&d^99,o[r]=d,i[d]=r;var y=e[r],_=e[y],g=e[_],v=257*e[d]^16843008*d;a[r]=v<<24|v>>>8,s[r]=v<<16|v>>>16,c[r]=v<<8|v>>>24,u[r]=v,v=16843009*g^65537*_^257*y^16843008*r,p[d]=v<<24|v>>>8,f[d]=v<<16|v>>>16,l[d]=v<<8|v>>>24,h[d]=v,r?(r=y^e[e[e[g^y]]],n^=e[e[n]]):r=n=1}}();var d=[0,1,2,4,8,16,32,64,128,27,54],y=n.AES=r.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,t=e.words,r=e.sigBytes/4,n=4*((this._nRounds=r+6)+1),i=this._keySchedule=[],a=0;a<n;a++)if(a<r)i[a]=t[a];else{var s=i[a-1];a%r?r>6&&a%r==4&&(s=o[s>>>24]<<24|o[s>>>16&255]<<16|o[s>>>8&255]<<8|o[255&s]):(s=o[(s=s<<8|s>>>24)>>>24]<<24|o[s>>>16&255]<<16|o[s>>>8&255]<<8|o[255&s],s^=d[a/r|0]<<24),i[a]=i[a-r]^s}for(var c=this._invKeySchedule=[],u=0;u<n;u++)a=n-u,s=u%4?i[a]:i[a-4],c[u]=u<4||a<=4?s:p[o[s>>>24]]^f[o[s>>>16&255]]^l[o[s>>>8&255]]^h[o[255&s]]}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,a,s,c,u,o)},decryptBlock:function(e,t){var r=e[t+1];e[t+1]=e[t+3],e[t+3]=r,this._doCryptBlock(e,t,this._invKeySchedule,p,f,l,h,i),r=e[t+1],e[t+1]=e[t+3],e[t+3]=r},_doCryptBlock:function(e,t,r,n,o,i,a,s){for(var c=this._nRounds,u=e[t]^r[0],p=e[t+1]^r[1],f=e[t+2]^r[2],l=e[t+3]^r[3],h=4,d=1;d<c;d++){var y=n[u>>>24]^o[p>>>16&255]^i[f>>>8&255]^a[255&l]^r[h++],_=n[p>>>24]^o[f>>>16&255]^i[l>>>8&255]^a[255&u]^r[h++],g=n[f>>>24]^o[l>>>16&255]^i[u>>>8&255]^a[255&p]^r[h++],v=n[l>>>24]^o[u>>>16&255]^i[p>>>8&255]^a[255&f]^r[h++];u=y,p=_,f=g,l=v}y=(s[u>>>24]<<24|s[p>>>16&255]<<16|s[f>>>8&255]<<8|s[255&l])^r[h++],_=(s[p>>>24]<<24|s[f>>>16&255]<<16|s[l>>>8&255]<<8|s[255&u])^r[h++],g=(s[f>>>24]<<24|s[l>>>16&255]<<16|s[u>>>8&255]<<8|s[255&p])^r[h++],v=(s[l>>>24]<<24|s[u>>>16&255]<<16|s[p>>>8&255]<<8|s[255&f])^r[h++],e[t]=y,e[t+1]=_,e[t+2]=g,e[t+3]=v},keySize:8});t.AES=r._createHelper(y)}(),e.AES}(r(0),r(11),r(12),r(10),r(4))},function(e,t,r){e.exports=function(e){return function(){var t=e,r=t.lib,n=r.WordArray,o=r.BlockCipher,i=t.algo,a=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],s=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],c=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],u=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],p=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],f=i.DES=o.extend({_doReset:function(){for(var e=this._key.words,t=[],r=0;r<56;r++){var n=a[r]-1;t[r]=e[n>>>5]>>>31-n%32&1}for(var o=this._subKeys=[],i=0;i<16;i++){var u=o[i]=[],p=c[i];for(r=0;r<24;r++)u[r/6|0]|=t[(s[r]-1+p)%28]<<31-r%6,u[4+(r/6|0)]|=t[28+(s[r+24]-1+p)%28]<<31-r%6;for(u[0]=u[0]<<1|u[0]>>>31,r=1;r<7;r++)u[r]=u[r]>>>4*(r-1)+3;u[7]=u[7]<<5|u[7]>>>27}var f=this._invSubKeys=[];for(r=0;r<16;r++)f[r]=o[15-r]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._subKeys)},decryptBlock:function(e,t){this._doCryptBlock(e,t,this._invSubKeys)},_doCryptBlock:function(e,t,r){this._lBlock=e[t],this._rBlock=e[t+1],l.call(this,4,252645135),l.call(this,16,65535),h.call(this,2,858993459),h.call(this,8,16711935),l.call(this,1,1431655765);for(var n=0;n<16;n++){for(var o=r[n],i=this._lBlock,a=this._rBlock,s=0,c=0;c<8;c++)s|=u[c][((a^o[c])&p[c])>>>0];this._lBlock=a,this._rBlock=i^s}var f=this._lBlock;this._lBlock=this._rBlock,this._rBlock=f,l.call(this,1,1431655765),h.call(this,8,16711935),h.call(this,2,858993459),l.call(this,16,65535),l.call(this,4,252645135),e[t]=this._lBlock,e[t+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function l(e,t){var r=(this._lBlock>>>e^this._rBlock)&t;this._rBlock^=r,this._lBlock^=r<<e}function h(e,t){var r=(this._rBlock>>>e^this._lBlock)&t;this._lBlock^=r,this._rBlock^=r<<e}t.DES=o._createHelper(f);var d=i.TripleDES=o.extend({_doReset:function(){var e=this._key.words;this._des1=f.createEncryptor(n.create(e.slice(0,2))),this._des2=f.createEncryptor(n.create(e.slice(2,4))),this._des3=f.createEncryptor(n.create(e.slice(4,6)))},encryptBlock:function(e,t){this._des1.encryptBlock(e,t),this._des2.decryptBlock(e,t),this._des3.encryptBlock(e,t)},decryptBlock:function(e,t){this._des3.decryptBlock(e,t),this._des2.encryptBlock(e,t),this._des1.decryptBlock(e,t)},keySize:6,ivSize:2,blockSize:2});t.TripleDES=o._createHelper(d)}(),e.TripleDES}(r(0),r(11),r(12),r(10),r(4))},function(e,t,r){e.exports=function(e){return function(){var t=e,r=t.lib.StreamCipher,n=t.algo,o=n.RC4=r.extend({_doReset:function(){for(var e=this._key,t=e.words,r=e.sigBytes,n=this._S=[],o=0;o<256;o++)n[o]=o;o=0;for(var i=0;o<256;o++){var a=o%r,s=t[a>>>2]>>>24-a%4*8&255;i=(i+n[o]+s)%256;var c=n[o];n[o]=n[i],n[i]=c}this._i=this._j=0},_doProcessBlock:function(e,t){e[t]^=i.call(this)},keySize:8,ivSize:0});function i(){for(var e=this._S,t=this._i,r=this._j,n=0,o=0;o<4;o++){r=(r+e[t=(t+1)%256])%256;var i=e[t];e[t]=e[r],e[r]=i,n|=e[(e[t]+e[r])%256]<<24-8*o}return this._i=t,this._j=r,n}t.RC4=r._createHelper(o);var a=n.RC4Drop=o.extend({cfg:o.cfg.extend({drop:192}),_doReset:function(){o._doReset.call(this);for(var e=this.cfg.drop;e>0;e--)i.call(this)}});t.RC4Drop=r._createHelper(a)}(),e.RC4}(r(0),r(11),r(12),r(10),r(4))},function(e,t,r){e.exports=function(e){return function(){var t=e,r=t.lib.StreamCipher,n=[],o=[],i=[],a=t.algo.Rabbit=r.extend({_doReset:function(){for(var e=this._key.words,t=this.cfg.iv,r=0;r<4;r++)e[r]=16711935&(e[r]<<8|e[r]>>>24)|4278255360&(e[r]<<24|e[r]>>>8);var n=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],o=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];for(this._b=0,r=0;r<4;r++)s.call(this);for(r=0;r<8;r++)o[r]^=n[r+4&7];if(t){var i=t.words,a=i[0],c=i[1],u=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),p=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8),f=u>>>16|4294901760&p,l=p<<16|65535&u;for(o[0]^=u,o[1]^=f,o[2]^=p,o[3]^=l,o[4]^=u,o[5]^=f,o[6]^=p,o[7]^=l,r=0;r<4;r++)s.call(this)}},_doProcessBlock:function(e,t){var r=this._X;s.call(this),n[0]=r[0]^r[5]>>>16^r[3]<<16,n[1]=r[2]^r[7]>>>16^r[5]<<16,n[2]=r[4]^r[1]>>>16^r[7]<<16,n[3]=r[6]^r[3]>>>16^r[1]<<16;for(var o=0;o<4;o++)n[o]=16711935&(n[o]<<8|n[o]>>>24)|4278255360&(n[o]<<24|n[o]>>>8),e[t+o]^=n[o]},blockSize:4,ivSize:2});function s(){for(var e=this._X,t=this._C,r=0;r<8;r++)o[r]=t[r];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<o[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<o[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<o[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<o[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<o[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<o[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<o[6]>>>0?1:0)|0,this._b=t[7]>>>0<o[7]>>>0?1:0,r=0;r<8;r++){var n=e[r]+t[r],a=65535&n,s=n>>>16,c=((a*a>>>17)+a*s>>>15)+s*s,u=((4294901760&n)*n|0)+((65535&n)*n|0);i[r]=c^u}e[0]=i[0]+(i[7]<<16|i[7]>>>16)+(i[6]<<16|i[6]>>>16)|0,e[1]=i[1]+(i[0]<<8|i[0]>>>24)+i[7]|0,e[2]=i[2]+(i[1]<<16|i[1]>>>16)+(i[0]<<16|i[0]>>>16)|0,e[3]=i[3]+(i[2]<<8|i[2]>>>24)+i[1]|0,e[4]=i[4]+(i[3]<<16|i[3]>>>16)+(i[2]<<16|i[2]>>>16)|0,e[5]=i[5]+(i[4]<<8|i[4]>>>24)+i[3]|0,e[6]=i[6]+(i[5]<<16|i[5]>>>16)+(i[4]<<16|i[4]>>>16)|0,e[7]=i[7]+(i[6]<<8|i[6]>>>24)+i[5]|0}t.Rabbit=r._createHelper(a)}(),e.Rabbit}(r(0),r(11),r(12),r(10),r(4))},function(e,t,r){e.exports=function(e){return function(){var t=e,r=t.lib.StreamCipher,n=[],o=[],i=[],a=t.algo.RabbitLegacy=r.extend({_doReset:function(){var e=this._key.words,t=this.cfg.iv,r=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],n=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];this._b=0;for(var o=0;o<4;o++)s.call(this);for(o=0;o<8;o++)n[o]^=r[o+4&7];if(t){var i=t.words,a=i[0],c=i[1],u=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),p=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8),f=u>>>16|4294901760&p,l=p<<16|65535&u;for(n[0]^=u,n[1]^=f,n[2]^=p,n[3]^=l,n[4]^=u,n[5]^=f,n[6]^=p,n[7]^=l,o=0;o<4;o++)s.call(this)}},_doProcessBlock:function(e,t){var r=this._X;s.call(this),n[0]=r[0]^r[5]>>>16^r[3]<<16,n[1]=r[2]^r[7]>>>16^r[5]<<16,n[2]=r[4]^r[1]>>>16^r[7]<<16,n[3]=r[6]^r[3]>>>16^r[1]<<16;for(var o=0;o<4;o++)n[o]=16711935&(n[o]<<8|n[o]>>>24)|4278255360&(n[o]<<24|n[o]>>>8),e[t+o]^=n[o]},blockSize:4,ivSize:2});function s(){for(var e=this._X,t=this._C,r=0;r<8;r++)o[r]=t[r];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<o[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<o[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<o[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<o[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<o[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<o[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<o[6]>>>0?1:0)|0,this._b=t[7]>>>0<o[7]>>>0?1:0,r=0;r<8;r++){var n=e[r]+t[r],a=65535&n,s=n>>>16,c=((a*a>>>17)+a*s>>>15)+s*s,u=((4294901760&n)*n|0)+((65535&n)*n|0);i[r]=c^u}e[0]=i[0]+(i[7]<<16|i[7]>>>16)+(i[6]<<16|i[6]>>>16)|0,e[1]=i[1]+(i[0]<<8|i[0]>>>24)+i[7]|0,e[2]=i[2]+(i[1]<<16|i[1]>>>16)+(i[0]<<16|i[0]>>>16)|0,e[3]=i[3]+(i[2]<<8|i[2]>>>24)+i[1]|0,e[4]=i[4]+(i[3]<<16|i[3]>>>16)+(i[2]<<16|i[2]>>>16)|0,e[5]=i[5]+(i[4]<<8|i[4]>>>24)+i[3]|0,e[6]=i[6]+(i[5]<<16|i[5]>>>16)+(i[4]<<16|i[4]>>>16)|0,e[7]=i[7]+(i[6]<<8|i[6]>>>24)+i[5]|0}t.RabbitLegacy=r._createHelper(a)}(),e.RabbitLegacy}(r(0),r(11),r(12),r(10),r(4))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(14),o=r(121),i=function(){function e(){this.queue=new o({concurrency:1})}return e.prototype.add=function(e){var t=new n.Subject;return this.queue.add(function(){var r=e();return r.subscribe(t),r.toPromise()}),t},e.prototype.onEmpty=function(){return this.queue.onEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.queue.size},enumerable:!0,configurable:!0}),e}();t.JobQueue=i},function(e,t,r){"use strict";class n{constructor(){this._queue=[]}enqueue(e,t){const r={priority:(t=Object.assign({priority:0},t)).priority,run:e};if(this.size&&this._queue[this.size-1].priority>=t.priority)return void this._queue.push(r);const n=function(e,t,r){let n=0,o=e.length;for(;o>0;){const i=o/2|0;let a=n+i;r(e[a],t)<=0?(n=++a,o-=i+1):o=i}return n}(this._queue,r,(e,t)=>t.priority-e.priority);this._queue.splice(n,0,r)}dequeue(){return this._queue.shift().run}get size(){return this._queue.length}}e.exports=class{constructor(e){if(!("number"==typeof(e=Object.assign({concurrency:1/0,autoStart:!0,queueClass:n},e)).concurrency&&e.concurrency>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${e.concurrency}\` (${typeof e.concurrency})`);this.queue=new e.queueClass,this._queueClass=e.queueClass,this._pendingCount=0,this._concurrency=e.concurrency,this._isPaused=!1===e.autoStart,this._resolveEmpty=(()=>{}),this._resolveIdle=(()=>{})}_next(){this._pendingCount--,this.queue.size>0?this._isPaused||this.queue.dequeue()():(this._resolveEmpty(),this._resolveEmpty=(()=>{}),0===this._pendingCount&&(this._resolveIdle(),this._resolveIdle=(()=>{})))}add(e,t){return new Promise((r,n)=>{const o=()=>{this._pendingCount++;try{Promise.resolve(e()).then(e=>{r(e),this._next()},e=>{n(e),this._next()})}catch(e){n(e),this._next()}};!this._isPaused&&this._pendingCount<this._concurrency?o():this.queue.enqueue(o,t)})}addAll(e,t){return Promise.all(e.map(e=>this.add(e,t)))}start(){if(this._isPaused)for(this._isPaused=!1;this.queue.size>0&&this._pendingCount<this._concurrency;)this.queue.dequeue()()}pause(){this._isPaused=!0}clear(){this.queue=new this._queueClass}onEmpty(){return 0===this.queue.size?Promise.resolve():new Promise(e=>{const t=this._resolveEmpty;this._resolveEmpty=(()=>{t(),e()})})}onIdle(){return 0===this._pendingCount?Promise.resolve():new Promise(e=>{const t=this._resolveIdle;this._resolveIdle=(()=>{t(),e()})})}get size(){return this.queue.size}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(22),o=function(){function e(){}return e.timeout=function(e,t){return t&&(e=e.pipe(n.timeout(t))),e},e}();t.ObservableHelper=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(124);t.Converter=n;var o=r(125);t.Response=o;var i=r(47);t.Request=i,function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(49))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(45)),n(r(46))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(127),o=r(129),i=r(3),a=r(52),s=r(22),c=r(53),u=r(54),p=r(37),f=r(25),l=function(){function e(e,t){var r=this;this.lwm2mResponseConverter=new n.IotizeLWM2MResponseConverter,this._lwm2mCommandConverter=new f.IotizeLWM2MCommandConverter,this._apduResponseConverter=new p.APDUResponseConverter,this._cryptedFrameConverter=new o.CryptedFrameConverter({next:function(){return r.cmdCounter++}}),this.commandConverter=e,this.responseDecoder=t,this.protocols={},this._options={encryption:!1},this.cmdCounter=0}return Object.defineProperty(e.prototype,"cryptedFrameConverter",{get:function(){return this._cryptedFrameConverter},enumerable:!0,configurable:!0}),e.prototype.enableEncryption=function(e,t){if(e){if(!t)throw new Error("Illegal argument, algo must not be null");return this._startEncryption(t)}return this._stopEncryption()},e.create=function(t){var r=new e(new c.DefaultCommandEncoder,new u.DefaultResponseDecoder);return t&&r.addComProtocol(t),r},e.prototype.getEncryptionAlgo=function(){return this._encryptionAlgo},e.prototype.setEncryptionAlgo=function(e){this._encryptionAlgo=e},e.prototype.isConnected=function(){return this.hasProtocol(this.currentProtocolId)&&this.getCurrentProtocol().isConnected()},e.prototype.getCurrentProtocol=function(){if(!this.currentProtocolId)throw new Error("Not protocol");if(!this.hasProtocol(this.currentProtocolId))throw new Error("Protocol "+this.currentProtocolId+" does not exist");return this.protocols[this.currentProtocolId]},e.prototype.addComProtocol=function(e,t){return void 0===t&&(t="default"),this.currentProtocolId||(this.currentProtocolId=t),this.protocols[this.currentProtocolId]=e,this},e.prototype.switchProtocol=function(e){if(!this.hasProtocol(e))throw new Error("Unkonwn protocol: "+e);return this.currentProtocolId=e,this},e.prototype.hasProtocol=function(e){return e in this.protocols},e.prototype.connect=function(){return this.getCurrentProtocol().connect()},e.prototype.disconnect=function(){return this.getCurrentProtocol().disconnect()},e.prototype._encryptedCommand=function(e,t){var r=this;if(!this._cryptedFrameConverter)throw new Error("Crypted convert has not been specified yet");if(!this._encryptionAlgo)throw new Error("Cryto algo has not been specified yet");var n=this._lwm2mCommandConverter.encode(e),o=this._cryptedFrameConverter.encode(n),c=this._encryptionAlgo.encode(o);return this._command(a.Command.GET("/1024//48",c)).pipe(s.map(function(e){if(console.log("Iotize client crypted frame: "+e),!e.isSuccess())return e;var n=r._encryptionAlgo.decode(e.rawBody());console.log("Decrypted frame value: "+i.FormatHelper.toHexString(n));var o=r._cryptedFrameConverter.decode(n),a=r._apduResponseConverter.decode(o),s=r.lwm2mResponseConverter.decode(a.data);return t&&s.setBodyDecoder(t),console.log("Iotize client decoded response: "+s),s}))},e.prototype._startEncryption=function(e){return console.log("_startEncryption"),this._options.encryption=!0,this.cmdCounter=0,this._encryptionAlgo=e,this._options.encryption=!0,Promise.resolve()},e.prototype._stopEncryption=function(){return this._options.encryption=!1,Promise.resolve()},e.prototype.command=function(e,t){return this._options.encryption?this._encryptedCommand(e,t):this._command(e,t)},e.prototype._command=function(t,r){var n,o=this;if(!this.isConnected())throw new Error("Trying to execute commant but device is not connected");t.getMethod();try{console.log(e.TAG,"Executing request: "+t),n=this.commandConverter.encode(t)}catch(e){throw new Error("Cannot encode this request: "+t+". Error: "+e)}return console.log(e.TAG,"Sending data: ",i.FormatHelper.toHexString(n)),this.getCurrentProtocol().send(n).pipe(s.map(function(n){console.log(e.TAG,"Received result: ",i.FormatHelper.toHexString(n),"DECODER: ",r);var a=o.responseDecoder.decode(n);return r&&a.setBodyDecoder(r),console.info(e.TAG,'Command "'+t.toString()+'" => Response: '+a.toString()),a}))},e.prototype.onConnectionStateChange=function(){return this.getCurrentProtocol().onConnectionStateChange()},e.TAG="DeviceClient",e}();t.DefaultIoTizeClient=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(51),o=r(3),i=function(){function e(){}return e.prototype.decode=function(e){return console.log("IotizeLWM2MResponseConverter decode "+o.FormatHelper.toHexString(e)),new n.Response(e)},e.prototype.encode=function(e){return e.toBytes()},e}();t.IotizeLWM2MResponseConverter=i},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t){return e.call(this,t)||this}return n(t,e),t}(Error);t.LWM2MError=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(34),o=r(5),i=r(9),a=r(7),s=r(134),c=function(){function e(t){this.options={moduloPad:e.DEFAULT_MODULO_PAD,skipCRCCheck:!1},this.frameIdGenerator=t}return e.prototype.encode=function(t){var r=this._computeSizes(t.length),n=o.ByteBuffer.create(r.total);n.addNumber(this.frameIdGenerator.next(),e.ID_LENGTH),n.addNumber(t.length,e.FRAME_SIZE_LENGTH),n.add(t),this._addPadding(n,r.padding),console.log("CryptedFrameConverter","::encode()","size info padding: "+r.padding);var i=this._computeCRC(n.data);return n.addNumber(i,e.CRC_LENGTH),console.log("CryptedFrameConverter","::encode()","Computed crc is: "+i+" (0x"+i.toString(16)+")"),n.data},e.prototype.decode=function(t){if(!t)throw new Error("Illegal data: frame is null");console.log("CryptedFrameConverter","::decode()",""+a.FormatHelper.toHexString(t));var r=new o.ByteBuffer(t),n=(r.readNumber(e.ID_LENGTH),r.readNumber(e.FRAME_SIZE_LENGTH));console.log("CryptedFrameConverter","::decode()","Frame size = "+n);var i=r.readArray(n),s=this._computeSizes(i.length);if(t.length>s.total)throw new Error("Expecting frame size of "+s.total+" but found "+t.length);console.log("CryptedFrameConverter","::decode()","decode size info padding: "+s.padding),r.forward(s.padding);var c=r.readNumber(4)>>>0,u=this._computeCRC(r.data);if(c!=u){if(!this.options.skipCRCCheck)throw new Error("Invalid crc read "+c+". Should be "+u);console.warn('Found invalid CRC but options "skipCRCCheck" has been set')}return i},e.prototype._addPadding=function(e,t){if(t>=this.options.moduloPad)throw new Error("Internal error: padding size should not be >= "+this.options.moduloPad+" (found "+t+")");if(this.paddingGenerator){var r=this.paddingGenerator(t);if(r.byteLength!=t)throw new Error("Invalid padding generator. Should return only "+t+" bytes");e.add(r)}else e.forward(t)},e.prototype._computeSizes=function(t){var r=e.CRC_LENGTH+e.ID_LENGTH+e.FRAME_SIZE_LENGTH+t,n=s.Util.computePadding(r,this.options.moduloPad);if((r+n)%this.options.moduloPad!=0)throw new Error("Internal error: invalid computation of padding.");return{padding:n,total:r+n}},e.prototype._addToBuffer=function(e,t,r,n){return e.set(i.NumberConverter.toOpaqueMsb(t,n),r),r+n},e.prototype._computeCRC=function(t){var r=t.slice(0,t.length-e.CRC_LENGTH);return console.log("CRC computed from sub frame 0x"+a.FormatHelper.toHexString(r)+" (full frame = 0x"+a.FormatHelper.toHexString(t)+")"),n.CRC.fromBytes(r)>>>0},e.CRC_LENGTH=4,e.ID_LENGTH=2,e.FRAME_SIZE_LENGTH=2,e.DEFAULT_MODULO_PAD=16,e}();t.CryptedFrameConverter=c},function(e,t){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";t.byteLength=function(e){var t=u(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){for(var t,r=u(e),n=r[0],a=r[1],s=new i(function(e,t,r){return 3*(t+r)/4-r}(0,n,a)),c=0,p=a>0?n-4:n,f=0;f<p;f+=4)t=o[e.charCodeAt(f)]<<18|o[e.charCodeAt(f+1)]<<12|o[e.charCodeAt(f+2)]<<6|o[e.charCodeAt(f+3)],s[c++]=t>>16&255,s[c++]=t>>8&255,s[c++]=255&t;2===a&&(t=o[e.charCodeAt(f)]<<2|o[e.charCodeAt(f+1)]>>4,s[c++]=255&t);1===a&&(t=o[e.charCodeAt(f)]<<10|o[e.charCodeAt(f+1)]<<4|o[e.charCodeAt(f+2)]>>2,s[c++]=t>>8&255,s[c++]=255&t);return s},t.fromByteArray=function(e){for(var t,r=e.length,o=r%3,i=[],a=0,s=r-o;a<s;a+=16383)i.push(f(e,a,a+16383>s?s:a+16383));1===o?(t=e[r-1],i.push(n[t>>2]+n[t<<4&63]+"==")):2===o&&(t=(e[r-2]<<8)+e[r-1],i.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return i.join("")};for(var n=[],o=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,c=a.length;s<c;++s)n[s]=a[s],o[a.charCodeAt(s)]=s;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function p(e){return n[e>>18&63]+n[e>>12&63]+n[e>>6&63]+n[63&e]}function f(e,t,r){for(var n,o=[],i=t;i<r;i+=3)n=(e[i]<<16&16711680)+(e[i+1]<<8&65280)+(255&e[i+2]),o.push(p(n));return o.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,r,n,o){var i,a,s=8*o-n-1,c=(1<<s)-1,u=c>>1,p=-7,f=r?o-1:0,l=r?-1:1,h=e[t+f];for(f+=l,i=h&(1<<-p)-1,h>>=-p,p+=s;p>0;i=256*i+e[t+f],f+=l,p-=8);for(a=i&(1<<-p)-1,i>>=-p,p+=n;p>0;a=256*a+e[t+f],f+=l,p-=8);if(0===i)i=1-u;else{if(i===c)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,n),i-=u}return(h?-1:1)*a*Math.pow(2,i-n)},t.write=function(e,t,r,n,o,i){var a,s,c,u=8*i-o-1,p=(1<<u)-1,f=p>>1,l=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:i-1,d=n?1:-1,y=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=p):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),(t+=a+f>=1?l/c:l*Math.pow(2,1-f))*c>=2&&(a++,c/=2),a+f>=p?(s=0,a=p):a+f>=1?(s=(t*c-1)*Math.pow(2,o),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,o),a=0));o>=8;e[r+h]=255&s,h+=d,s/=256,o-=8);for(a=a<<o|s,u+=o;u>0;e[r+h]=255&a,h+=d,a/=256,u-=8);e[r+h-d]|=128*y}},function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.computePadding=function(e,t){return(t-e%t)%t},e}();t.Util=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.fillParam=function(t,r,n){var o={};return o[r]=n,e.fillParams(t,o)},e.fillAllParams=function(t,r){t=e.fillParams(t,r);var n=e.extractParams(t);if(n.length>0)throw new Error("Bad request. Some parameter have not been substitute: "+n);return t},e.fillParams=function(e,t){for(var r in t){var n="{"+r+"}";if(!(e.indexOf(n)>=0))throw new Error("Parameter "+r+" does not exist in path: "+e);e=e.replace(n,t[r].toString())}return e},e.extractParams=function(t){for(var r,n=[],o=e.PARAMETER_REGEX;r=o.exec(t);)n.push(r[1]);return n},e.hasParams=function(t){return e.extractParams(t).length>0},e.PARAMETER_REGEX=/{([^}]+)}/g,e}();t.PathParameter=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3),o=function(){function e(){}return e.prototype.decode=function(e){return null!=e?n.FormatHelper.toAsciiString(e):""},e.prototype.encode=function(e){return n.FormatHelper.toByteBuffer(e)},e.instance=function(){return e._instance||(e._instance=new e),e._instance},e}();t.StringConverter=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3),o=function(){function e(e){this._mask=e||1}return e.prototype.decode=function(t){var r=n.FormatHelper.toUnsignedInt(t,t.length,e.IS_LEAST_SIGNIFICANT_BIT_FIRST);return e.decodeFromNumber(this._mask,r)},e.prototype.encode=function(e){return Uint8Array.from([e?this._mask:~this._mask])},e.decodeFromNumber=function(e,t){return 0==e&&0==t||0!=(t&e)},e.instanceBit0=function(){return e._instance||(e._instance=new e(1)),e._instance},e.IS_LEAST_SIGNIFICANT_BIT_FIRST=!0,e}();t.BooleanConverter=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.prototype.decode=function(e){if(null==e||4!=e.length)throw new Error("Expected an array of 4 bytes representing an ip. Found: "+e);for(var t="",r=0,n=Array.from(e);r<n.length;r++){t+=n[r].toString()+"."}return t.substr(0,t.length-1)},e.prototype.encode=function(e){var t=e.split(".");if(4!=t.length)throw new Error("Invalid ip format. Should be x.x.x.x");var r=new Uint8Array(4);return t.map(function(e,t){r[t]=255&parseInt(e)}),r},e.instance=function(){return e._instance||(e._instance=new e),e._instance},e}();t.Ipv4StringConverter=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3),o=function(){function e(){}return e.prototype.decode=function(t){if(null==t||t.length!=e.EXPECTED_ARRAY_LENGTH)throw new Error("Expected an array of "+e.EXPECTED_ARRAY_LENGTH+" bytes representing a MAC address. Found: "+t);for(var r="",o=0;o<t.length;o++){var i=t.slice(o,o+1);r+=n.FormatHelper.toHexString(i).toUpperCase()+":"}return r.substr(0,r.length-1)},e.prototype.encode=function(e){var t=e.split(":");if(6!=t.length)throw new Error("Invalid mac address format: "+e);var r=new Uint8Array(t.length);return t.map(function(e,t){r[t]=255&parseInt(e)}),r},e.instance=function(){return e._instance||(e._instance=new e),e._instance},e.EXPECTED_ARRAY_LENGTH=6,e}();t.MacAddressStringConverter=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3),o=function(){function e(){}return e.prototype.decode=function(e){return n.FormatHelper.toHexString(e)},e.prototype.encode=function(e){if(!e||0==e.length)return new Uint8Array(0);e.length%2>0&&(e="0"+e);for(var t=[],r=0,n=e.length;r<n;r+=2)t.push(parseInt(e.substr(r,2),16));return new Uint8Array(t)},e.instance=function(){return e._instance||(e._instance=new e),e._instance},e}();t.HexStringConverter=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(9),o=function(){function e(e){this.options=e}return e.prototype.encode=function(t){return n.NumberConverter.toOpaqueMsb(e.toArray(t),32)},e.prototype.decode=function(t){return e.toFloat(t)},e.toArray=function(e){var t,r,n,o,i,a=(p=+e)!=p||p==-1/0||p==1/0?p:0,s=0,c=new Array(281),u=(p=0!==a?0:p)<0,p=Math.abs(p),f=Math.floor(p),l=p-f;if(0!==a){if(p!=p)return 2143289344;if(p===1/0)return 2139095040;if(p===-1/0)return 4286578688}for(t=281;t;)c[--t]=0;for(t=129;f&&t;)c[--t]=f%2,f=Math.floor(f/2);for(t=128;l>0&&t;)(c[++t]=(l*=2)>=1?1:0)&&--l;for(t=-1;++t<281&&!c[t];);if(c[(r=22+(t=(s=128-t)>=-126&&s<=127?t+1:128-(s=-127)))+1]){if(!(n=c[r]))for(o=r+2;!n&&o<281;)n=c[o++];for(o=r+1;n&&--o>=0;)(c[o]=!c[o]-0)&&(n=0)}for(t=t-2<0?-1:t-3;++t<281&&!c[t];);for((s=128-t)>=-126&&s<=127?++t:s<-126&&(t=255,s=-127),(f||0!==a)&&(s=128,t=129,a==-1/0?u=!0:a!=a&&(c[t]=1)),p=Math.abs(s+127),i=0,o=0;o<8;)i+=p%2<<o,p>>=1,o++;var h=0;for(p=t+23;t<p;t++)h=(h<<1)+c[t];return(u?2147483648:0)+(i<<23)+h|0},e.toFloat=function(t){return e.numberToFloat(n.NumberConverter.fromOpaqueMsb(t,32))},e.numberToFloat=function(e){var t=1*e,r=(2139095040&t)>>23,n=8388607&t,o=(0==(2147483648&t)?1:-1)*(n|=8388608)*Math.pow(2,r-150)*1;return parseFloat(o.toFixed(5))},e.instance32=function(){return e._instance32||(e._instance32=new e),e._instance32},e}();t.FloatConverter=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3),o=function(){function e(){this.encoder=new n.APDU.Response.APDUResponseConverter}return e.prototype.encode=function(e){var t=new n.APDU.Response.APDUResponse;return t.setData(e.toBytes()),t.setStatus(n.APDU.APDUStatusCode.SUCCESSFUL),this.encoder.encode(t)},e}();t.DefaultResponseEncoder=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(25),o=r(3),i=function(){function e(){this.iotizeFrameConverter=new n.IotizeLWM2MCommandConverter,this.apduDecoder=new o.APDU.Command.APDUCommandConverter}return e.instance=function(){return new e},e.prototype.decode=function(t){console.log(e.TAG,"Decoding command (with APDU): ",o.FormatHelper.toHexString(t));var r=this.apduDecoder.decode(t).getData();if(console.log(e.TAG,"Command apdu payload: ",o.FormatHelper.toHexString(r)),null==r||0==r.length)throw new Error("No data");if(r.length<e.IOTIZE_TRAME_HEADER_LENGTH)throw new Error("Frame is smaller than the minimum iotize trame size");return this.iotizeFrameConverter.decode(r)},e.IOTIZE_TRAME_HEADER_LENGTH=7,e.TAG="DefaultCommandDecoder",e}();t.DefaultCommandDecoder=i},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=r(15);!function(t){var r,o={String:function(e,t,r){return e.toString("utf8",t,t+r)},Integer:function(e,t,r){return e.readIntBE(t,r)},Float:function(e,t,r){switch(r){case 4:return e.readFloatBE(t);case 8:return e.readDoubleBE(t);default:throw new Error("Invalid length for float: "+r)}},Boolean:function(e,t,r){return!!e.readUInt8(t)},Opaque:function(t,r,n){if(t.length<r+n)throw new Error("Buffer too small. Expecting "+n+" bytes but only "+(t.length-r)+" avaiable(s). Offset of "+r);var o=e.alloc(n);return t.copy(o,0,r,r+n),o},Time:function(e,t,r){var n=e.readIntBE(t,r);return new Date(1e3*n)}};!function(e){e.String="String",e.Integer="Integer",e.Float="Float",e.Boolean="Boolean",e.Opaque="Opaque",e.Time="Time",e.Array="Array"}(t.DataType||(t.DataType={})),function(e){e[e.OBJECT_INSTANCE=0]="OBJECT_INSTANCE",e[e.RESOURCE_INSTANCE=1]="RESOURCE_INSTANCE",e[e.MULTIPLE_RESOURCE=2]="MULTIPLE_RESOURCE",e[e.RESOURCE_VALUE=3]="RESOURCE_VALUE"}(r=t.IdentifierType||(t.IdentifierType={}));var i=function(){function t(e,t){if(void 0===t&&(t=console),this.logger=t,this.position=0,this.schema=e,this.schema)throw new Error("Schema are not supported yet")}return t.prototype.readHeader=function(){var e,t,r,n;if(n=this.buffer.readUInt8(this.position),this.position+=1,e=n>>>6,32&n?(t=this.buffer.readUInt16BE(this.position),this.position+=2):(t=this.buffer.readUInt8(this.position),this.position+=1),!(r=7&n))switch((24&n)>>>3){case 1:r=this.buffer.readUInt8(this.position),this.position+=1;break;case 2:r=this.buffer.readUInt16BE(this.position),this.position+=2;break;case 3:r=this.buffer.readUInt16BE(this.position),r=this.buffer.readUInt8(this.position),this.position+=3}var o={id:t,type:e,len:r};return this.debug("\t-Found header: ",o),o},t.prototype.readNextRecord=function(){var t=this.readHeader(),n=t.id.toString();if(t.type==r.RESOURCE_VALUE||t.type==r.RESOURCE_INSTANCE){this.debug("\t-Resource value readRecords with",t);var o=e.alloc(t.len);return this.buffer.copy(o,0,this.position,this.position+t.len),this.position+=t.len,{header:t,payload:o}}return this.debug("\t-Multiple resources found! readRecords with key "+n),{header:t,children:this.readAllRecords(this.position+t.len)}},t.prototype.append=function(e,t){if(this.debug("\t-Append "+t+" header=",e),!(t in o))throw new Error("Decoder type "+t+" not found");var r=o[t](this.buffer,this.position,e.len);return this.debug("\t-Appending value",r),this.position+=e.len,r},t.prototype.readAllRecords=function(e){var t=[];for(this.debug("Parsing records until position "+e);this.position<e;)t.push(this.readNextRecord());return t},t.prototype.parse=function(e){return this.position=0,this.buffer=e,this.readNextRecord()},t.prototype.debug=function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.logger&&this.logger.debug&&(e=this.logger).debug.apply(e,t.concat(["[pos="+this.position+"/"+(this.buffer.length-1)+", remaining buffer="+n.FormatHelper.toHexString(this.buffer.slice(this.position))+"]"]))},t}();t.Parser=i;var a=function(){function t(){}return t.prototype.serialize=function(t,r){var n=e.alloc(16384),o=Object.keys(t);function i(e,t,r,n,o){var i=function(e,t,r){var n=e<<6;return t>255&&(n|=32),n|=r<8?r:s(r)<<3}(r,n,o);if(e.writeUInt8(i,t),t+=1,32&i?(e.writeUInt16BE(n,t),t+=2):(e.writeUInt8(n,t),t+=1),24&i)switch(s(o)){case 3:e.writeUInt8(o>>>16&255,t),t+=1;case 2:e.writeUInt8(o>>>8&255,t),t+=1;case 1:e.writeUInt8(255&o,t),t+=1;break;default:throw new Error("Invalid resource `"+n+"`")}return t}function a(e,t,r,n,o){return({String:function(){return e.write(n,t,e.length-t,"utf8"),t+=r},Integer:function(){return e.writeIntBE(n,t,r),t+=r},Float:function(){return e.writeDoubleBE(n,t),t+=r},Boolean:function(){return e.writeInt8(n,t),t+=r},Opaque:function(){return n.copy(e,t),t+=r},Time:function(){var o=n.getTime()/1e3>>0;return e.writeIntBE(o,t,r),t+=r}}[o]||function(){return t})()}function c(n,o,c){if(r)var u=r.resources[c];var p,f=t[c];if(Array.isArray(u.type)){var l=e.alloc(1024),h=0;f.forEach(function(e,t){p=s(e),h=i(l,h,1,t,p),h=a(l,h,p,e,u.type[0])}),o=i(n,o,2,u.id,h),l.copy(n,o,0,h),o+=h}else p=s(f),o=a(n,o=i(n,o,3,u.id,p),p,f,u.type);return o}r&&r.validate(t);for(var u=0,p=0;p<o.length;++p){var f=o[p];r.resources[f]&&(u=c(n,u,f))}return n.slice(0,u)},t}();function s(e){function t(e){var t=function(e){return e<2?1:Math.ceil(Math.log(e)*Math.LOG2E/8)}(e);return t--,t|=t>>>1,t|=t>>>2,++t}switch(Object.prototype.toString.call(e).slice(8,-1)){case"Number":return e%1==0?t(e):8;case"String":case"Uint8Array":case"Buffer":return e.length;case"Boolean":return 1;case"Date":return t(e.getTime()/1e3>>0);default:return 0}}t.Serializer=a}(t.TLV||(t.TLV={}))}).call(this,r(13).Buffer)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(146))},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=r(50),o=function(){function t(e){this.dataConverter=e}return t.instance=function(){return t._instance||(t._instance=new t),t._instance},t.prototype.encode=function(e){throw new Error("Method not implemented.")},t.prototype.decode=function(t){var r=e.from(t),o={};if(r.length<=n.SinglePacket.PACKET_HEADER_SIZE)throw new n.SinglePacket.PacketTooSmallError(r,o);if(o.SendTime=r.readUInt32BE(0),o.PacketLength=r.readUInt16BE(4),o.PacketId=r.readUInt16BE(6),o.ConfigVersion=r.readUInt32BE(8),o.PacketType=r.readUInt8(12),o.SenderId=r.readUInt8(13),o.Salt=r.readUInt16BE(14),o.PacketType&n.SinglePacket.Type.CIPHERED)throw new Error("Not implemented yet packet type: "+o.PacketType);o.LogTime=r.readUInt32BE(16),o.DataSize=r.readUInt16BE(20);var i=n.SinglePacket.PACKET_HEADER_SIZE+o.DataSize;if(!(r.length>=i))throw new n.SinglePacket.PacketTooSmallError(r,o);return o.Data=Uint8Array.from(r.slice(22,22+o.DataSize)),o.CRC=r.readUInt32BE(22+o.DataSize),this.dataConverter&&(o.Data=this.dataConverter.decode(o.Data)),o},t}();t.SinglePacketConverter=o}).call(this,r(13).Buffer)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(148))},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(a,s)}c((n=n.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(44),a=r(18),s=r(149),c=r(42),u=r(152),p=r(7),f=r(154),l=r(155),h=r(158),d=r(159),y=function(){function e(e){this._client=e,this._options={encryption:!1},this._apiConfig=d.ApiConfigFactory.getDefaultInstance(),this._services=f.IoTizeDeviceService.create(this._client,this._apiConfig),this.client.getEncryptionAlgo()||this.client.setEncryptionAlgo(new c.AesEcb128Converter),this._lwm2m=new _(this.client,this._apiConfig)}return Object.defineProperty(e.prototype,"client",{get:function(){return this._client},set:function(e){this._client=e,this._services.client=e},enumerable:!0,configurable:!0}),e.create=function(){return new e(i.Impl.DefaultIoTizeClient.create())},e.fromProtocol=function(t){var r=i.Impl.DefaultIoTizeClient.create();return r.addComProtocol(t),new e(r)},e.prototype.enableEncryption=function(e){return n(this,void 0,void 0,function(){var t,r,n;return o(this,function(o){switch(o.label){case 0:return this.sessionKey?[3,2]:(console.warn("IoTizeDevice","No session key defined. Using random com start"),[4,this.service.scram.initialize()]);case 1:if(!(t=o.sent()).isSuccess())throw new Error("Cannot start crypted session");this.sessionKey=t.rawBody(),o.label=2;case 2:return console.log("IoTizeDevice","Session key will be "+p.FormatHelper.toHexString(this.sessionKey)+" (length="+this.sessionKey.length+")"),r={key:p.FormatHelper.toHexString(this.sessionKey),iv:"00000000000000000000000000000000"},n=new c.AesEcb128Converter(r),[2,this.client.enableEncryption(e,n)]}})})},Object.defineProperty(e.prototype,"protocol",{get:function(){return this.client.getCurrentProtocol()},enumerable:!0,configurable:!0}),e.prototype.connect=function(e){return e&&this.client.addComProtocol(e,"default"),this._client.connect().toPromise()},e.prototype.disconnect=function(){return this._client.disconnect().toPromise()},e.prototype.isConnected=function(){return!!this._client&&this._client.isConnected()},Object.defineProperty(e.prototype,"variables",{get:function(){return this._variableManager||(this._variableManager=new s.VariableManager(this)),this._variableManager},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bundles",{get:function(){return this._bundleManager||(this._bundleManager=new l.BundleManager(this.service.bundle,this.variables)),this._bundleManager},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hashPassword",{get:function(){return!!this.interfaceLockOptions&&this.interfaceLockOptions.hashPassword},set:function(e){this.interfaceLockOptions||(this.interfaceLockOptions={}),this.interfaceLockOptions.hashPassword=e},enumerable:!0,configurable:!0}),e.prototype.logout=function(){return n(this,void 0,void 0,function(){var e;return o(this,function(t){switch(t.label){case 0:return[4,this.service.interface.logout()];case 1:return e=t.sent(),this._assertResponseSuccess(e),[2,!0]}})})},e.prototype.configure=function(e){return e.configure(this).toPromise()},e.prototype.login=function(e,t){return n(this,void 0,void 0,function(){var r,n;return o(this,function(o){switch(o.label){case 0:return this.interfaceLockOptions?[3,2]:(this._log("Reading interface lock options from device..."),[4,this.service.interface.getLock()]);case 1:if(!(n=o.sent()).isSuccess())throw new Error("Impossible to read login options.");this.interfaceLockOptions=n.body(),o.label=2;case 2:return this.interfaceLockOptions.scramActivated?(console.info("IoTizeDevice","Using scram login"),[4,(r=new u.ScramAuth(this)).login({username:e,password:t})]):[3,5];case 3:return o.sent(),console.info("IoTizeDevice","Scram login successful!"),this.sessionKey=r.getSessionKey(),[4,this.enableEncryption(!0)];case 4:return o.sent(),[2,!0];case 5:return console.info("Using default login"),[4,this.service.interface.login({username:e,password:t,hashPassword:this.interfaceLockOptions.hashPassword})];case 6:return n=o.sent(),this._assertResponseSuccess(n),[2,!0]}})})},Object.defineProperty(e.prototype,"rooter",{get:function(){return this._apiConfig.routes},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"apiConfig",{get:function(){return this._apiConfig},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"service",{get:function(){return this._services},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lwm2m",{get:function(){return this._lwm2m},enumerable:!0,configurable:!0}),e.prototype.lwm2mCall=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(e.length>1)throw new Error("Multiple calls are not implemented yet");var r=h.AbstractService.callToCommandArgs(e[0],this.apiConfig);return this.client.command(r[0],r[1]).toPromise()},e.prototype._assertResponseSuccess=function(e){if(!e.isSuccess())throw new a.ResponseError(e)},e.prototype._log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.log.apply(console,["IoTizeDevice"].concat(e))},e.TAG="IoTizeDevice",e}();t.IoTizeDevice=y;var _=function(){function e(e,t){this.client=e,this.apiConfig=t}return e.prototype.get=function(e,t){return this.call({path:e,methodType:"get",body:t})},e.prototype.put=function(e,t){return this.call({path:e,methodType:"put",body:t})},e.prototype.post=function(e,t){return this.call({path:e,methodType:"post",body:t})},e.prototype.call=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=h.AbstractService.callToCommandArgs(e[0],this.apiConfig);return this.client.command(r[0],r[1]).toPromise()},e}();t.Lwm2mInterface=_},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(150))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(151),o=function(){function e(e){this.device=e,this._variables={}}return Object.defineProperty(e.prototype,"variables",{get:function(){return this._variables},set:function(e){this._variables=e},enumerable:!0,configurable:!0}),e.prototype.get=function(e){return this.variable(e)},e.prototype.variable=function(e){return this.variableByName(e)},e.prototype.variableByName=function(e){if(!(e in this._variables))throw new Error('Variable "'+e+'" does not exist');return this._variables[e]},e.prototype.getById=function(e){for(var t in this._variables)if(this._variables[t].variableId==e)return this._variables[t];throw new Error('Variable with id "'+e+'" does not exist')},e.prototype._createVariable=function(e,t){var r;return console.log("VariableManager Creating variable "+e),r="string"==typeof t.converter?this.device.apiConfig.getBodyConverter(t.converter):t.converter,new n.Variable(e,t.id,this.device.service.variable,r)},e.prototype.add=function(e,t){return t instanceof n.Variable?this.variables[e]=t:this.variables[e]=this._createVariable(e,t),this},e.prototype.clear=function(){for(var e in this._variables)this._variables[e].monitor().stop();this._variables={}},e.UnitSizeMap={0:1,1:8,2:16,3:32},e}();t.VariableManager=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(61),o=r(18),i=function(){function e(e,t,r,n){this.identifier=e,this.variableId=t,this.variableService=r,this.converter=n}return e.prototype.write=function(e){var t,r=this;if(this.converter)t=this.converter.encode(e);else{if(!(e instanceof Uint8Array))return Promise.reject(new Error("Invalid argument type and no converter"));t=e}return this.variableService.setValue(this.variableId,t).then(function(e){if(!e.isSuccess())throw new Error("Cannot write value for variable "+r.identifier+". Device responded with error code: "+e.codeRet());return e.body()})},e.prototype.read=function(){var e=this;return this.variableService.getValue(this.variableId).then(function(t){if(!t.isSuccess())throw new Error("Cannot read variable "+e.identifier+" because of "+new o.ResponseError(t));var r=t.rawBody();return e.converter?e.converter.decode(r):r})},e.prototype.monitor=function(){var e=this;return this._monitor||(this._monitor=new n.DefaultVariableMonitor({update:function(t){return console.log("Request monitor update on "+e.identifier),e.read()}})),this._monitor},e}();t.Variable=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(153))},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(a,s)}c((n=n.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(5),s=r(23),c=r(16),u=r(62),p=r(15),f=function(e){function t(t,r){var n=e.call(this,r+" (Error n "+t+")")||this;return n.code=t,n}return n(t,e),t.Code={INVALID_SERVER_PROOF:1,SCRAM_DISABLED:2},t}(Error);t.AuthError=f;var l=function(e){function t(t,r){var n=e.call(this,f.Code.INVALID_SERVER_PROOF,"Login fail invalid server proof ("+p.FormatHelper.toHexString(t)+" != "+p.FormatHelper.toHexString(r)+") ")||this;return n.deviceServerProof=t,n.expectedServerProof=r,n}return n(t,e),t}(f);t.InvalidServerKey=l;var h=function(){function e(e){this.device=e,this.nonceGenerator=function(){return Math.floor(4294967295*Math.random())},this.sessionData={}}return e.prototype.login=function(t){return o(this,void 0,void 0,function(){var r,n,o,a,s,c,u,p,h;return i(this,function(i){switch(i.label){case 0:return[4,this.device.service.interface.getLock()];case 1:if(r=i.sent().body(),console.log("ScramAuth","lockInfo",r),!r.scramActivated)throw new f(f.Code.SCRAM_DISABLED,"Scram is not enabled on this device. Use another authentication method");return n=this.generateNonce(),console.debug("ScramAuth","clientNonce",n),o={username:t.username,clientNonce:n},[4,this.device.service.scram.login(o)];case 2:return a=i.sent().body(),s=e.computeKeys(t,a,n),c=a.serverNonce,[4,this.device.service.scram.loginProof(s.clientProof)];case 3:if(u=i.sent().body(),(p=s.serverProof).toString()!=u.toString())throw new l(p,u);return h=e.computeSessionKey(n,c,a.salt,s.serverKey,s.storedKey),this.sessionData.clientNonce=n,this.sessionData.username=t.username,this.sessionData.key=h,[2]}})})},e.computeKeys=function(t,r,n){var o=e.hashPassword(t.password),i=e.saltedPassword(o,r.salt,r.iterationNumber),a=e.storedKey(i),s=e.serverKey(i);return{storedKey:a,serverKey:s,saltedPassword:i,hashedPassword:o,clientProof:e.clientProof(a,n,r.serverNonce),serverProof:e.serverProof(s,n,r.serverNonce)}},e.prototype.logout=function(){return o(this,void 0,void 0,function(){return i(this,function(e){return[2,this.device.service.interface.logout()]})})},e.clientProof=function(t,r,n){return e.computeProof(t,r,n).subarray(0,e.KEY_SIZE)},e.serverProof=function(t,r,n){return e.computeProof(t,n,r).subarray(0,e.KEY_SIZE)},e.prototype.getSessionKey=function(){if(!this.sessionData.key)throw new Error("Session not started");return this.sessionData.key},e.prototype.generateNonce=function(){return this.nonceGenerator()},e.HASH=function(t,r,n){var o=u.CryptoHelper.sanitizeInput(t);r=u.CryptoHelper.sanitizeInput(r);var i=c.PBKDF2(o,r,{iterations:n,keySize:e.KEY_SIZE/4,hasher:c.algo.SHA256});return u.CryptoHelper.wordArrayToByteArray(i)},e.HMAC=function(e,t){var r=u.CryptoHelper.sanitizeInput(e),n=u.CryptoHelper.sanitizeInput(t),o=c.HmacSHA256(r,n);return u.CryptoHelper.wordArrayToByteArray(o)},e.hashPassword=function(t){return p.FormatHelper.hexStringToBuffer(u.CryptoHelper.passwordHasher.hash(t).substring(0,2*e.KEY_SIZE))},e.saltedPassword=function(e,t,r){var n=u.CryptoHelper.sanitizeInput(e),o=u.CryptoHelper.sanitizeInput(t),i=c.PBKDF2(n,o,{iterations:r,hasher:c.algo.SHA256});return p.FormatHelper.hexStringToBuffer(i.toString(c.enc.Hex))},e.storedKey=function(t){return e.HASH(t,e.CLIENT_KEY_LABEL,e.CLIENT_KEY_ITERATION_NUMBER)},e.serverKey=function(t){return e.HASH(t,e.SERVER_KEY_LABEL,e.SERVER_KEY_ITERATION_NUMBER)},e.computeProof=function(t,r,n){var o=a.ByteBuffer.create(t.length+e.CLIENT_NONCE_SIZE+e.SERVER_NONCE_SIZE);return o.addNumber(r,e.CLIENT_NONCE_SIZE).add(t).addNumber(n,e.SERVER_NONCE_SIZE),e.HMAC(o.data,t)},e.XOR=function(e,t){if(e.length!=t.length)throw new Error("Length does not match between the two array. Cannot compute XOR");for(var r=new Uint8Array(e.length),n=0;n<r.length;n++)r[n]=e[n]^t[n];return r},e.clientProofCheck=function(t,r){return e.XOR(t,r)},e.computeSessionKey=function(t,r,n,o,i){e.encodeLabel(e.COMMUNICATION_KEY_LABEL);var s=a.ByteBuffer.create(e.CLIENT_NONCE_SIZE+e.SERVER_NONCE_SIZE+n.length+o.length+i.length);return s.addNumber(t,e.CLIENT_NONCE_SIZE).add(o).add(n).add(i).addNumber(r,e.SERVER_NONCE_SIZE),e.HMAC(s.data,o).subarray(0,e.KEY_SIZE)},e.encodeLabel=function(e){return s.StringConverter.instance().encode(e)},e.CRC_LENGTH=4,e.CLIENT_NONCE_SIZE=4,e.SERVER_NONCE_SIZE=4,e.PASSWORD_LENGTH=16,e.ITERATION_NUMBER_SIZE=4,e.COMMUNICATION_KEY_LABEL="CommunicationKey",e.CLIENT_KEY_LABEL="ClientKey",e.SERVER_KEY_LABEL="ServerKey",e.KEY_SIZE=16,e.CLIENT_KEY_ITERATION_NUMBER=2,e.SERVER_KEY_ITERATION_NUMBER=2,e}();t.ScramAuth=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(63),o=r(66),i=r(67),a=r(68),s=r(69),c=r(70),u=r(27),p=r(71),f=r(72),l=r(73),h=r(74),d=r(75),y=function(){function e(){}return e.create=function(t,r){var y=new e;return y._device=new n.DeviceService(t,r),y._acl=new o.AclService(t,r),y._bundle=new h.BundleService(t,r),y._datalog=new i.DatalogService(t,r),y._firmware=new l.FirmwareService(t,r),y._group=new f.GroupService(t,r),y._interface=new p.InterfaceService(t,r),y._secureElement=new u.SecureElementService(t,r),y._target=new c.TargetService(t,r),y._variable=new s.VariableService(t,r),y._scram=new a.ScramService(t,r),y._singlePacket=new d.SinglePacketService(t,r),y},Object.defineProperty(e.prototype,"device",{get:function(){return this._device},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"acl",{get:function(){return this._acl},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bundle",{get:function(){return this._bundle},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"datalog",{get:function(){return this._datalog},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"firmware",{get:function(){return this._firmware},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"group",{get:function(){return this._group},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"interface",{get:function(){return this._interface},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"secureElement",{get:function(){return this._secureElement},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"target",{get:function(){return this._target},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"variable",{get:function(){return this._variable},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scram",{get:function(){return this._scram},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"singlePacket",{get:function(){return this._singlePacket},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"client",{set:function(e){this._device.client=e,this._acl.client=e,this._bundle.client=e,this._datalog.client=e,this._firmware.client=e,this._group.client=e,this._interface.client=e,this._secureElement.client=e,this._target.client=e,this._variable.client=e,this._scram.client=e,this._singlePacket.client=e},enumerable:!0,configurable:!0}),e}();t.IoTizeDeviceService=y},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(156),o=function(){function e(e,t){this.service=e,this.variableManager=t,this._bundles={}}return Object.defineProperty(e.prototype,"bundles",{get:function(){return this._bundles},enumerable:!0,configurable:!0}),e.prototype.get=function(e){if(!(e in this._bundles))throw new Error("Bundle with id "+e+" does not exist");return this._bundles[e]},e.prototype.add=function(e,t){return t instanceof n.Bundle?this._bundles[e]=t:this._bundles[e]=this._createBundle(e,t),this},e.prototype.bundle=function(e){if(!(e in this._bundles))throw new Error('Bundle "'+e+'" does not exist');return this._bundles[e]},e.prototype._createBundle=function(e,t){return console.log("VariableManager Creating variable "+e),new n.Bundle(e,t.id,this.service,this.variableManager)},e.prototype.clear=function(){for(var e in this._bundles)this._bundles[e].monitor().stop();this._bundles={}},e}();t.BundleManager=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(61),o=r(18),i=r(157),a=function(){function e(e,t,r,n){this.identifier=e,this.bundleId=t,this.bundleService=r,this.variables=n,this.converter=new i.TlvBundleConverter(n)}return e.prototype.read=function(){var e=this;return this.bundleService.getValues(this.bundleId).then(function(t){if(!t.isSuccess())throw new Error("Cannot read bundle "+e.identifier+". Cause: "+new o.ResponseError(t));var r=t.rawBody();return e.converter.decode(r)})},e.prototype.monitor=function(){var e=this;return this._monitor||(this._monitor=new n.DefaultVariableMonitor({update:function(t){return console.log("Request monitor update on "+e.identifier),e.read()}})),this._monitor},e}();t.Bundle=a},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=r(60),o=function(){function t(e,t){void 0===t&&(t=new n.TLVConverter),this.variableMapping=e,this.tlvConverter=t}return t.prototype.decode=function(t,r){var n=e.from(t),o=this.tlvConverter.decode(n);return console.log("Bundle","Variable data: ",o),this._converteTlvTree(o)},t.prototype.encode=function(e){throw new Error("Not implemented yet")},t.prototype._converteTlvTree=function(e,t){var r=null;if(e.children){r={};for(var n=0,o=e.children;n<o.length;n++){var i=o[n],a=void 0;r[a=this.variableMapping?this.variableMapping.getById(i.header.id).identifier:i.header.id.toString()]=this._converteTlvTree(i,a)}}else if(e.payload){if(this.variableMapping&&t)r=this.variableMapping.get(t).converter.decode(e.payload);else r=Uint8Array.from(e.payload)}return r},t}();t.TlvBundleConverter=o}).call(this,r(13).Buffer)},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(64)),n(r(66)),n(r(74)),n(r(67)),n(r(63)),n(r(73)),n(r(72)),n(r(71)),n(r(27)),n(r(68)),n(r(27)),n(r(75)),n(r(70)),n(r(69))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(65),o=r(1),i=r(1),a=r(1),s=r(1),c=r(1),u=r(1),p=r(83),f=r(1),l=r(1),h=r(1),d=r(1),y=r(1),_=r(82),g=r(1),v=r(1),m=r(1),b=r(1),E=r(1),C=r(1),w=r(1),T=r(1),P=r(1),S=r(1),O=r(1),I=r(1),A=r(1),B=r(1),R=r(1),M=r(1),N=function(){function e(){}return e.getDefaultInstance=function(){return e._||(e._=new n.ApiConfig(t.defaultRoutes,t.defaultConverters,t.defaultAliases)),e._},e}();t.ApiConfigFactory=N,t.defaultAliases={"/device/current-time":"/3//13","/interface/config-format-version":"/1024//8","/target/transparent/send-receive":"/1027//34","/interface/available-host-protocols":"/1024//21","/target/com-stats":"/1027//11","/group/{groupId}/scram-user-iteration":"/1025/{groupId}/7","/interface/host-inactivity-period":"/1024//34","/interface/cloud/connection-mode":"/1024//26","/device/last-error-code":"/3//11","/target/core-type":"/1027//2","/device/power-source-voltage":"/3//7","/interface/cloud/password":"/1024//29","/acl/{objectId}/list":"/2/{objectId}/2","/interface/scram/initialize":"/1024//47","/target/firmware-version":"/1027//6","/firmware/package":"/5//0","/target/modbus/sub-protocol":"/1027//40","/device/public-password":"/3//17","/interface/power-optimisation-level":"/1024//14","/interface/current-host-protocol":"/1024//3","/target/transparent/send":"/1027//34","/device/serial-number":"/3//2","/single-packet/write":"/1024//81","/interface/scram/hash-it":"/1024//42","/datalog/options":"/1031//2","/interface/app-path":"/1024//11","/interface/functions":"/1024//20","/variable/{variableId}/current-access":"/1029/{variableId}/3","/interface/keep-alive":"/1024//4","/bundle/{bundleId}/values":"/1028/{bundleId}/1","/device/firmware-version":"/3//3","/variable/{variableId}/bundle/id":"/1029/{variableId}/6","/interface/network-mode":"/1024//15","/target/reset":"/1027//5","/target/reset-keep":"/1027//30","/variable/{variableId}/address":"/1029/{variableId}/0","/secure-element/com":"/1024//71","/target/disconnect":"/1027//4","/interface/config-format-firmware-version":"/1024//18","/target/modbus/read":"/1027//38","/variable/{variableId}/set-value":"/1029/{variableId}/5","/target/modbus/write":"/1027//37","/interface/network/infra-ip-mask":"/1024//32","/interface/mqtt/relay/password":"/1024//54","/interface/cloud-gateway-url":"/1024//12","/interface/cloud/client-id":"/3//2","/interface/login-uid":"/1024//5","/single-packet/bspe":"/1024//83","/target/protocol":"/1027//1","/interface/mqtt/relay/client-id":"/3//2","/target/adp/action":"/1027//39","/interface/public-password":"/1024//60","/acl/{objectId}/object-id":"/2/{objectId}/0","/firmware/update":"/5//2","/target/min-voltage":"/1027//8","/single-packet/part":"/1024//82","/interface/authorized-host-protocol":"/1024//17","/datalog/crypto-key":"/1031//3","/interface/wep-key":"/1024//16","/bundle/{bundleId}/acl/{groupId}":"/1028/{bundleId}/0/{groupId}","/secure-element/configure":"/1024//70","/datalog/max-packet-count":"/1024//23","/device/model-name":"/3//1","/datalog/packet-count":"/1031//10","/variable/{variableId}/value":"/1029/{variableId}/4","/interface/wifi/hostname":"/1024//35","/interface/lock":"/1024//6","/device/memory-free":"/3//10","/interface/mqtt/relay/url":"/1024//50","/datalog/flush":"/1031//4","/interface/rand":"/1024//49","/interface/network/infra-ip":"/1024//30","/interface/mqtt/relay/login":"/3//2","/interface/ble/address":"/1024//22","/interface/wifi/ssid":"/1024//25","/group/{groupId}/session-lifetime":"/1025/{groupId}/4","/bundle/{bundleId}/datalog-period":"/1028/{bundleId}/2","/device/manufacturer":"/3//0","/interface/current-group-id":"/1024//7","/group/{groupId}/name":"/1025/{groupId}/0","/interface/scram/login":"/1024//40","/interface/scram/login-proof":"/1024//41","/device/available-power-source":"/3//6","/interface/cloud/service-name":"/1024//61","/target/uart/settings":"/1027//21","/variable/{variableId}/bundle/values":"/1029/{variableId}/7","/target/vcc":"/1027//7","/target/debug-access":"/1027//31","/interface/config-version":"/1024//10","/datalog/run":"/1031//0","/group/{groupId}/password":"/1025/{groupId}/2","/interface/scram/com-send-receive":"/1024//48","/variable/{variableId}/number-of-elements":"/1029/{variableId}/2","/single-packet-store/info":"/1024//80","/interface/cloud/login":"/3//2","/target/page-size":"/1027//10","/firmware/update-result":"/5//5","/interface/mqtt/relay/port":"/1024//51","/interface/network/gateway-ip":"/1024//31","/variable/{variableId}/format":"/1029/{variableId}/1","/target/reg-access":"/1027//32","/acl/{objectId}/owner":"/2/{objectId}/3","/interface/multi-commands":"/1024//89","/target/adp/status":"/1027//36","/target/connect":"/1027//3","/interface/login":"/1024//0","/firmware/crc-check":"/5//6","/acl/{objectId}/instance-id":"/2/{objectId}/1","/interface/app-name":"/1024//9","/datalog/dequeue-packet":"/1031//11","/device/factory-reset":"/3//5","/target/max-voltage":"/1027//9","/interface/mqtt/relay/net-key":"/1024//55","/target/protocol/list":"/1027//20","/firmware/state":"/5//3","/target/memaccess":"/1030//13","/interface/nfc/pairing-mode":"/1024//13","/interface/cloud/mqtt-period":"/1024//33","/interface/current-profile/id":"/1024//2","/device/reboot":"/3//4","/device/reset-last-error-code":"/3//12","/group/{groupId}/scram-user-salt":"/1025/{groupId}/16","/datalog/stop":"/1031//1","/interface/logout":"/1024//1","/target/transparent/read-bytes":"/1027//35","/group/{groupId}/alias":"/1025/{groupId}/5"},t.defaultRoutes={"put /1024//33":{bodyEncoder:"integer_uint32"},"get /1027//31":{},"get /1027//37":{bodyEncoder:"MemoryWriteInfo"},"put /1028/{bundleId}/0/{groupId}":{bodyEncoder:"ReadWriteRights"},"post /1027//3":{},"get /3//2":{returnTypeConverter:"string"},"get /1024//71":{returnTypeConverter:"Bytes",bodyEncoder:"Bytes"},"put /1024//25":{bodyEncoder:"string"},"post /1027//21":{bodyEncoder:"UartSettings"},"get /2/{objectId}/0":{returnTypeConverter:"integer_uint16"},"put /2/{objectId}/2":{},"put /1024//16":{bodyEncoder:"string"},"get /1024//30":{returnTypeConverter:"string_ipv4"},"put /1024//14":{bodyEncoder:"LowPowerOptimisationLevel"},"get /1027//20":{returnTypeConverter:"ListTargetProtocol"},"get /3//7":{returnTypeConverter:"integer_uint32"},"post /1031//4":{},"get /1024//29":{returnTypeConverter:"string"},"post /3//12":{},"put /1029/{variableId}/0":{bodyEncoder:"integer_uint32"},"get /1027//35":{returnTypeConverter:"Bytes",bodyEncoder:"integer_uint32"},"put /1029/{variableId}/4":{bodyEncoder:"Bytes"},"put /1024//12":{bodyEncoder:"string"},"get /1024//35":{returnTypeConverter:"string"},"get /1024//34":{returnTypeConverter:"integer_uint16"},"post /1024//83":{returnTypeConverter:"Bytes",bodyEncoder:"Bytes"},"get /1024//15":{returnTypeConverter:"NetworkMode"},"put /1024//55":{bodyEncoder:"string"},"get /1024//60":{returnTypeConverter:"string"},"get /2/{objectId}/3":{returnTypeConverter:"integer_uint16"},"get /1025/{groupId}/5":{returnTypeConverter:"integer_uint16"},"post /1027//32":{},"get /1024//80":{returnTypeConverter:"Bytes"},"get /1027//6":{returnTypeConverter:"string_version"},"put /1024//51":{bodyEncoder:"string"},"post /1025/{groupId}/2":{bodyEncoder:"string"},"put /1024//10":{bodyEncoder:"integer_uint32"},"post /5//0":{},"get /1024//26":{returnTypeConverter:"CloudConnectionMode"},"get /1027//8":{returnTypeConverter:"integer_uint16"},"get /1028/{bundleId}/2":{returnTypeConverter:"integer_uint32"},"get /3//0":{returnTypeConverter:"string"},"get /3//6":{returnTypeConverter:"AvailablePowerSource"},"get /1024//20":{returnTypeConverter:"AvailableFunction"},"put /1029/{variableId}/6":{bodyEncoder:"integer_uint32"},"put /1024//50":{bodyEncoder:"string"},"get /1024//61":{returnTypeConverter:"string"},"get /1029/{variableId}/2":{returnTypeConverter:"integer_uint8"},"get /1024//4":{returnTypeConverter:"integer_uint32"},"get /1027//38":{returnTypeConverter:"Bytes",bodyEncoder:"MemoryInfo"},"put /1024//13":{bodyEncoder:"NfcPairingMode"},"post /1024//82":{returnTypeConverter:"Bytes",bodyEncoder:"Bytes"},"put /1031//3":{bodyEncoder:"Bytes"},"put /1024//11":{bodyEncoder:"string"},"put /1027//2":{bodyEncoder:"TargetCoreType"},"get /1024//8":{returnTypeConverter:"string_version"},"put /1024//3":{bodyEncoder:"HostProtocol"},"put /1025/{groupId}/16":{bodyEncoder:"integer_uint32"},"put /1029/{variableId}/1":{bodyEncoder:"integer_uint8"},"get /1024//54":{returnTypeConverter:"string"},"put /1024//70":{bodyEncoder:"Bytes"},"put /1027//21":{bodyEncoder:"UartSettings"},"put /1025/{groupId}/4":{bodyEncoder:"integer_uint16"},"post /1027//39":{bodyEncoder:"Bytes"},"post /1031//1":{},"get /1024//23":{returnTypeConverter:"integer_uint16"},"get /1027//9":{returnTypeConverter:"integer_uint16"},"get /1029/{variableId}/4":{returnTypeConverter:"Bytes"},"get /1024//41":{returnTypeConverter:"Bytes",bodyEncoder:"Bytes"},"get /1024//48":{returnTypeConverter:"Bytes",bodyEncoder:"Bytes"},"get /1024//89":{returnTypeConverter:"MultiResponses",bodyEncoder:"MultiCommands"},"get /1029/{variableId}/0":{returnTypeConverter:"integer_uint32"},"post /1027//30":{},"get /1029/{variableId}/7":{returnTypeConverter:"integer_uint16"},"get /1024//17":{returnTypeConverter:"ListHostProtocol"},"get /1024//32":{returnTypeConverter:"string_ipv4mask"},"post /1024//0":{bodyEncoder:"LoginCredential"},"get /1024//10":{returnTypeConverter:"string_version"},"get /1031//10":{returnTypeConverter:"integer_uint16"},"get /1024//7":{returnTypeConverter:"integer_uint16"},"get /3//3":{returnTypeConverter:"string"},"get /1025/{groupId}/0":{returnTypeConverter:"string"},"post /1027//5":{},"get /1031//2":{returnTypeConverter:"DataLogOption"},"put /1024//61":{bodyEncoder:"string"},"put /1024//54":{bodyEncoder:"string"},"get /1029/{variableId}/6":{returnTypeConverter:"integer_uint16"},"post /3//5":{},"get /5//5":{returnTypeConverter:"FirmwareUpdateResult"},"get /1031//11":{returnTypeConverter:"SinglePacket"},"put /1024//26":{bodyEncoder:"CloudConnectionMode"},"post /3//4":{},"put /1027//8":{bodyEncoder:"integer_uint16"},"get /1024//31":{returnTypeConverter:"string_ipv4"},"get /1024//42":{},"post /1024//10":{},"get /1024//21":{returnTypeConverter:"ListHostProtocol"},"put /1029/{variableId}/2":{bodyEncoder:"integer_uint8"},"get /1027//7":{returnTypeConverter:"integer_uint16"},"post /1031//0":{},"put /1027//1":{bodyEncoder:"TargetProtocol"},"get /1024//55":{returnTypeConverter:"string"},"get /1029/{variableId}/1":{returnTypeConverter:"integer_uint8"},"post /5//6":{returnTypeConverter:"Bytes",bodyEncoder:"CrcCheckBody"},"get /1027//2":{returnTypeConverter:"TargetCoreType"},"get /1027//21":{returnTypeConverter:"UartSettings"},"put /1024//17":{bodyEncoder:"ListHostProtocol"},"get /1024//13":{returnTypeConverter:"NfcPairingMode"},"get /3//17":{returnTypeConverter:"string"},"put /1024//9":{bodyEncoder:"string"},"get /1029/{variableId}/3":{returnTypeConverter:"ReadWriteRights"},"put /1028/{bundleId}/2":{bodyEncoder:"integer_uint32"},"put /1027//10":{bodyEncoder:"integer_uint32"},"put /1024//8":{bodyEncoder:"integer_uint32"},"get /3//13":{returnTypeConverter:"string"},"get /1024//11":{returnTypeConverter:"string"},"get /1024//3":{returnTypeConverter:"HostProtocol"},"get /1025/{groupId}/16":{returnTypeConverter:"integer_uint32"},"put /1025/{groupId}/7":{bodyEncoder:"integer_uint32"},"put /1024//6":{bodyEncoder:"InterfaceLock"},"get /1024//70":{returnTypeConverter:"Bytes"},"put /1025/{groupId}/0":{bodyEncoder:"string"},"put /1031//2":{bodyEncoder:"DataLogOption"},"get /1024//16":{returnTypeConverter:"string"},"put /1024//30":{bodyEncoder:"string_ipv4"},"post /1024//5":{bodyEncoder:"Bytes"},"put /1027//9":{bodyEncoder:"integer_uint16"},"post /1027//4":{},"get /1024//49":{returnTypeConverter:"Bytes"},"post /1030//13":{bodyEncoder:"MemoryWriteInfo"},"get /1024//25":{returnTypeConverter:"string"},"post /1027//34":{returnTypeConverter:"Bytes",bodyEncoder:"Bytes"},"get /1024//33":{returnTypeConverter:"integer_uint32"},"get /1024//40":{returnTypeConverter:"ScramLoginResponseBody",bodyEncoder:"ScramLoginParams"},"get /1028/{tupId}":{},"post /3//11":{},"get /1024//47":{returnTypeConverter:"Bytes"},"get /1024//9":{returnTypeConverter:"string"},"put /1024//31":{bodyEncoder:"string_ipv4"},"get /3//11":{returnTypeConverter:"integer_uint32"},"put /1024//29":{bodyEncoder:"string"},"get /3//10":{returnTypeConverter:"integer_uint32"},"put /1024//32":{bodyEncoder:"string_ipv4mask"},"post /1029/{variableId}/5":{bodyEncoder:"Bytes"},"get /2/{objectId}/2":{returnTypeConverter:"ListAclEntry"},"post /1027//11":{},"post /1027//40":{bodyEncoder:"Bytes"},"get /1024//6":{returnTypeConverter:"InterfaceLock"},"get /1028/{bundleId}/1":{returnTypeConverter:"Bytes"},"get /1027//1":{returnTypeConverter:"TargetProtocol"},"get /1024//14":{returnTypeConverter:"LowPowerOptimisationLevel"},"get /1024//18":{returnTypeConverter:"string_version"},"get /1027//40":{returnTypeConverter:"Bytes"},"get /1027//10":{returnTypeConverter:"integer_uint32"},"post /1024//1":{},"get /1024//12":{returnTypeConverter:"string"},"put /1024//15":{bodyEncoder:"NetworkMode"},"get /1024//2":{returnTypeConverter:"integer_uint16"},"get /1025/{groupId}/4":{returnTypeConverter:"integer_uint16"},"get /3//1":{returnTypeConverter:"string"},"put /3//13":{},"get /1025/{groupId}/7":{returnTypeConverter:"integer_uint32"},"post /1024//81":{returnTypeConverter:"Bytes",bodyEncoder:"Bytes"},"post /5//2":{},"post /1027//31":{},"get /1030//13":{returnTypeConverter:"Bytes",bodyEncoder:"MemoryInfo"},"get /1024//50":{returnTypeConverter:"string"},"put /1025/{groupId}/5":{bodyEncoder:"integer_uint16"},"put /2/{objectId}/3":{bodyEncoder:"integer_uint32"},"get /1027//11":{returnTypeConverter:"TargetComStats"},"get /1024//22":{returnTypeConverter:"string_macaddress"},"get /1027//36":{returnTypeConverter:"Bytes"},"get /5//3":{returnTypeConverter:"FirmwareState"},"get /1024//51":{returnTypeConverter:"string"},"get /1027//32":{},"put /1027//6":{bodyEncoder:"integer_uint32"},"get /2/{objectId}/1":{returnTypeConverter:"integer_uint16"},"put /1024//34":{bodyEncoder:"integer_uint16"},"get /1027//34":{returnTypeConverter:"Bytes",bodyEncoder:"integer_uint16"}},t.defaultConverters={integer_int8:B.NumberConverter.int8Instance(),string_ipv4mask:u.Ipv4StringConverter.instance(),integer_uint16:B.NumberConverter.uint16Instance(),TargetCoreType:A.TargetCoreTypeConverter.instance(),string:w.StringConverter.instance(),HostProtocol:o.HostProtocolConverter.instance(),TargetProtocol:d.TargetProtocolConverter.instance(),UartSettings:v.UartSettingsConverter.instance(),integer_uint8:B.NumberConverter.uint8Instance(),float:M.FloatConverter.instance32(),FirmwareUpdateResult:E.FirmwareUpdateResultConverter.instance(),NfcPairingMode:h.NfcPairingModeConverter.instance(),ScramLoginParams:i.ScramLoginParamsConverter.instance(),ReadWriteRights:c.ReadWriteRightsConverter.instance(),FirmwareState:b.FirmwareStateConverter.instance(),AvailablePowerSource:a.AvailablePowerSourceConverter.instance(),AvailableFunction:C.AvailableFunctionConverter.instance(),string_ipv4:u.Ipv4StringConverter.instance(),integer_int32:B.NumberConverter.int32Instance(),LowPowerOptimisationLevel:T.LowPowerOptimisationLevelConverter.instance(),string_macaddress:I.MacAddressStringConverter.instance(),NetworkMode:f.NetworkModeConverter.instance(),ListHostProtocol:y.ListHostProtocolConverter.instance(),ListAclEntry:l.ListAclEntryConverter.instance(),string_version:w.StringConverter.instance(),MemoryInfo:_.MemoryInfoConverter.instance(),MemoryWriteInfo:p.MemoryWriteInfoConverter.instance(),CloudConnectionMode:P.CloudConnectionModeConverter.instance(),integer_uint32:B.NumberConverter.uint32Instance(),integer_int16:B.NumberConverter.int16Instance(),InterfaceLock:s.InterfaceLockConverter.instance(),DataLogOption:m.DataLogOptionConverter.instance(),ScramLoginResponseBody:R.ScramLoginResponseBodyConverter.instance(),LoginCredential:O.LoginCredentialConverter.instance(),ListTargetProtocol:S.ListTargetProtocolConverter.instance(),TargetComStats:g.TargetComStatsConverter.instance()}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5),o=r(8),i=function(){function e(){}return e.prototype.AclEntryConverter=function(){},e.prototype.encode=function(e){var t=0;t+=1;var r=n.ByteBuffer.create(t);return 1,r.put_boolean(e.read,1),r.put_boolean(e.write,2),r.put_boolean(e.execute,4),r.put_boolean(e.delete,8),r.put_boolean(e.create,16),r.data},e.prototype.decode=function(e){var t,r={};if(null==e||0==e.length)throw new Error("Invalid response length: "+e.length);return t=n.ByteBuffer.from(e).readNumber(1),r.read=o.BooleanConverter.decodeFromNumber(t,1),r.write=o.BooleanConverter.decodeFromNumber(t,2),r.execute=o.BooleanConverter.decodeFromNumber(t,4),r.delete=o.BooleanConverter.decodeFromNumber(t,8),r.create=o.BooleanConverter.decodeFromNumber(t,16),r},e.instance=function(){return null==e._instance&&(e._instance=new e),e._instance},e}();t.AclEntryConverter=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5),o=r(8),i=function(){function e(){}return e.prototype.AvailableFunctionConverter=function(){},e.prototype.encode=function(e){var t=0;t+=1;var r=n.ByteBuffer.create(t);return 1,r.put_boolean(e.dataLog,1),r.put_boolean(e.debug,1),r.data},e.prototype.decode=function(e){var t,r={};if(null==e||0==e.length)throw new Error("Invalid response length: "+e.length);return t=n.ByteBuffer.from(e).readNumber(1),r.dataLog=o.BooleanConverter.decodeFromNumber(t,1),r.debug=o.BooleanConverter.decodeFromNumber(t,1),r},e.instance=function(){return null==e._instance&&(e._instance=new e),e._instance},e}();t.AvailableFunctionConverter=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),o=function(){function e(){}return e.prototype.decode=function(t){return n.Converter.MultipleMaskConverter.decodeAll(t,e.mapping)},e.prototype.encode=function(t){return n.Converter.MultipleMaskConverter.encodeAll(t,e.mapping)},e.instance=function(){return e._instance||(e._instance=new e),e._instance},e.mapping={32:"AC_EXTERNAL_POWER",1:"DC_POWER",16:"S3P"},e}();t.AvailablePowerSourceConverter=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(77),o=r(7),i=r(78),a=r(79),s=r(80),c=r(57),u=r(81),p=r(164),f=function(){function e(){}return e.instance=function(){return e._instance||(e._instance=new e),e._instance},e.prototype.decode=function(t){if(!t)throw new Error("data should not be null");if(8*t.length<e.TOTAL_SIZE_IN_BITS)throw new Error("Invalid ctrl tram size: "+t.length+". Expected: "+e.TOTAL_SIZE_IN_BITS);var r={};t=(t=t.slice(0,e.TOTAL_SIZE_IN_BITS/8)).reverse(),console.log("Data to decode: "+o.FormatHelper.toHexString(t));var n={buffer:new p.BitBuffer(t)};return this.decodeCTR2(n,r),this.decodeCTR1(n,r),r},e.prototype.encode=function(t){var r=p.BitBuffer.create(e.TOTAL_SIZE_IN_BITS),n={buffer:r};return this.encodeCTR2(n,t),this.encodeCTR1(n,t),r.view().reverse()},e.prototype.decodeCTR1=function(t,r){t.buffer.forward(e.RFU_CTR1_LENGTH),this._decodePhysicalPort(t,r),this._decodeStopBit(t,r),this._decodeParity(t,r),this._decodeDataBitsLength(t,r),this._decodeHandshake(t,r),this._decodeTimeout(t,r)},e.prototype.encodeCTR1=function(t,r){console.log("encodeCTR1"),t.buffer.forward(e.RFU_CTR1_LENGTH),this._encodePhysicalPort(t,r),this._encodeStopBit(t,r),this._encodeParity(t,r),this._encodeDataBitsLength(t,r),this._encodeHandshake(t,r),this._encodeTimeout(t,r)},e.prototype.encodeCTR2=function(t,r){console.log("encodeCTR2 slv"),t.buffer.setBits(r.slv,e.SLV_LENGTH),console.log("encodeCTR2 rfu"),t.buffer.forward(e.RFU_CTR2_LENGTH),console.log("encodeCTR2 ofs"),t.buffer.setBits(r.ofs,e.OFS_LENGTH),console.log("encodeCTR2 baudrate"),t.buffer.setBits(r.baudRate,e.BAUD_RATE_LENGTH)},e.prototype._getUnsignedInt=function(e,t){return e.buffer.getUintX(t,!1)},e.prototype._decodeTimeout=function(t,r){var n=this._getUnsignedInt(t,e.TIMEOUT_LENGTH);r.timeout=n},e.prototype._decodeHandshake=function(t,r){var n=this._getUnsignedInt(t,e.FLW_HANDSHAKE_DELIMITER_LENGTH);r.handshakeDelimiter=c.UniqMaskConverter.decodeOneExact(n,a.UartSettingsHandshakeDelimiterConverter.mapping);var o=this._getUnsignedInt(t,e.FLW_HANDSHAKE_VALUE_LENGTH);console.log("Decoding handshake from "+o),r.handshake=c.UniqMaskConverter.decodeOneExact(o,i.UartSettingsHandshakeConverter.mapping)},e.prototype._decodeDataBitsLength=function(t,r){var n=this._getUnsignedInt(t,e.DATA_BITS_LENGTH_LENGTH);r.dataBitsLength=7+n,console.log("Decoded dataBitsLength: "+r.dataBitsLength+" (code="+n+")")},e.prototype._decodeParity=function(t,r){var o=this._getUnsignedInt(t,e.PARITY_LENGTH);r.bitParity=c.UniqMaskConverter.decodeOneExact(o,n.UartSettingsBitParityConverter.mapping),console.log("Decoded parity: "+r.bitParity+" (code="+o+")")},e.prototype._decodeStopBit=function(t,r){var n=this._getUnsignedInt(t,e.STOP_BIT_LENGTH);r.stopBit=c.UniqMaskConverter.decodeOneExact(n,s.UartSettingsStopBitConverter.mapping),console.log("Decoded stopBit: "+r.stopBit+" (code="+n+")")},e.prototype._decodePhysicalPort=function(t,r){var n=this._getUnsignedInt(t,e.PHYSICAL_PORT_LENGTH);r.physicalPort=c.UniqMaskConverter.decodeOneExact(n,u.UartSettingsPhysicalPortConverter.mapping),console.log("Decoded physical port: "+r.physicalPort+" (code="+n+")")},e.prototype.decodeCTR2=function(t,r){var n=this._getUnsignedInt(t,e.SLV_LENGTH);r.slv=n,console.log("Decoded slv: "+n),t.buffer.forward(e.RFU_CTR2_LENGTH);var o=this._getUnsignedInt(t,e.OFS_LENGTH);r.ofs=o,console.log("Decoded ofs: "+o);var i=this._getUnsignedInt(t,e.BAUD_RATE_LENGTH);r.baudRate=i,console.log("Decoded baudRate: "+i)},e.prototype._encodeHandshake=function(t,r){console.log("_encodeHandshake");var n=a.UartSettingsHandshakeDelimiterConverter.instance().encode(r.handshakeDelimiter);t.buffer.append(n,e.FLW_HANDSHAKE_DELIMITER_LENGTH);var o=i.UartSettingsHandshakeConverter.instance().encode(r.handshake);t.buffer.append(o,e.FLW_HANDSHAKE_VALUE_LENGTH)},e.prototype._encodeDataBitsLength=function(t,r){if(console.log("_encodeDataBitsLength"),r.dataBitsLength<7||r.dataBitsLength>9)throw new Error("Invalid size for data: "+r.dataBitsLength);t.buffer.setBits(r.dataBitsLength-7,e.DATA_BITS_LENGTH_LENGTH)},e.prototype._encodeParity=function(t,r){console.log("_encodeParity");var o=n.UartSettingsBitParityConverter.instance().encode(r.bitParity);t.buffer.append(o,e.PARITY_LENGTH)},e.prototype._encodeStopBit=function(t,r){console.log("_encodeStopBit");var n=s.UartSettingsStopBitConverter.instance().encode(r.stopBit);t.buffer.append(n,e.STOP_BIT_LENGTH)},e.prototype._encodePhysicalPort=function(t,r){console.log("_encodePhysicalPort");var n=u.UartSettingsPhysicalPortConverter.instance().encode(r.physicalPort);t.buffer.append(n,e.PHYSICAL_PORT_LENGTH)},e.prototype._encodeTimeout=function(t,r){console.log("_encodeTimeout "+r.timeout),t.buffer.setBits(r.timeout||0,e.TIMEOUT_LENGTH)},e.RFU_CTR1_LENGTH=4,e.PHYSICAL_PORT_LENGTH=4,e.STOP_BIT_LENGTH=2,e.PARITY_LENGTH=4,e.DATA_BITS_LENGTH_LENGTH=2,e.FLW_HANDSHAKE_VALUE_LENGTH=4,e.FLW_HANDSHAKE_DELIMITER_LENGTH=4,e.TIMEOUT_LENGTH=8,e.SLV_LENGTH=8,e.RFU_CTR2_LENGTH=3,e.OFS_LENGTH=1,e.BAUD_RATE_LENGTH=20,e.TOTAL_SIZE_IN_BITS=e.RFU_CTR1_LENGTH+e.PHYSICAL_PORT_LENGTH+e.STOP_BIT_LENGTH+e.PARITY_LENGTH+e.DATA_BITS_LENGTH_LENGTH+e.FLW_HANDSHAKE_VALUE_LENGTH+e.FLW_HANDSHAKE_DELIMITER_LENGTH+e.TIMEOUT_LENGTH+e.SLV_LENGTH+e.RFU_CTR2_LENGTH+e.OFS_LENGTH+e.BAUD_RATE_LENGTH,e}();t.UartSettingsConverter=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){this._leastSignificantBitFirst=!1,this._scratch=new DataView(new ArrayBuffer(8)),this._view=e,this._offset=0}return Object.defineProperty(e.prototype,"offset",{get:function(){return this._offset},enumerable:!0,configurable:!0}),e.minSizeToFitBits=function(e){return e/8+(e%8>0?1:0)},e.create=function(t){return new e(new Uint8Array(e.minSizeToFitBits(t)))},e.prototype.sizeInBits=function(){return 8*this._view.byteLength},e.prototype.view=function(){return this._view},e.prototype.seekTo=function(e){return this._offset=e,this},e.prototype.forward=function(e){return void 0===e&&(e=1),this._offset+=e,console.log("forward() Forward to bit "+this._offset),this},e.prototype._setBit=function(e){var t=1<<7-(7&this._offset);e?this._view[this._offset>>3]|=t:this._view[this._offset>>3]&=~t,console.log("_setBit "+this._offset+" to "+e+" (block "+(this._offset>>3)+"; mask="+t+")"),this._offset++},e.prototype.getUintX=function(e,t,r){return void 0===t&&(t=!1),console.log("getUintX"),this.getBits(e,t,r)},e.prototype.fromOffsetLessNumber=function(e){return this.getArrayBuffer(this._offset-e,Math.ceil(e/8))},e.prototype.getBits=function(e,t,r){var n=void 0===r?this._offset:r,o=8*this._view.length-n;if(console.log("getBits "+n+" to "+(n+e-1)+" (available="+o+"; signed="+t+") "+(void 0===r)),e>o)throw new Error("Cannot get "+e+" bit(s) from offset "+n+", "+o+" available");for(var i=0,a=0;a<e;a+=p){var s=e-a,c=7&n,u=this._view[n>>3],p=Math.min(s,8-c),f=255>>c&255,l=8-p-c,h=(u&(f&=255<<l))>>l;console.log("Mask will be "+f+" (i="+a+";stripRight="+l+";stripLeft="+c+";readBits="+h+"; read="+p+"; current byte index: "+(n>>3)+"; current byte value: "+u+"; remaining="+s+"; callOffset="+n+"/"+e+")"),i=i<<8|h,n+=p}return void 0===r&&this.forward(e),t?(32!==e&&i&1<<e-1&&(i|=-1^(1<<e)-1),i):(console.log("getBits Value read: "+i+" on "+e+" bits. offset is now "+this._offset),i>>>0)},e.prototype.append=function(e,t,r){void 0===r&&(r=!1),console.log("BitBuffer append "+e+" on "+t+" bits"),void 0===t&&(t=8*e.byteLength);for(var n=1+(t>>3),o=7&t,i=0;i<n-1;i++)this.setBits(e[i],8);this.setBits(e[n-1]>>(r?8-o:0),o)},e.prototype.setBits=function(e,t){for(var r=t-1;r>=0;r--)this._setBit(!!(e>>r&1))},e.prototype.getBoolean=function(e){return 0!==this.getBits(1,!1,e)},e.prototype.getInt8=function(e){return this.getBits(8,!0,e)},e.prototype.getUint8=function(e){return this.getBits(8,!1,e)},e.prototype.getInt16=function(e){return this.getBits(16,!0,e)},e.prototype.getUint16=function(e){return this.getBits(16,!1,e)},e.prototype.getInt32=function(e){return this.getBits(32,!0,e)},e.prototype.getUint32=function(e){return this.getBits(32,!1,e)>>>0},e.prototype.getFloat32=function(e){return this._scratch.setUint32(0,this.getUint32(e)),this._scratch.getFloat32(0)},e.prototype.getFloat64=function(e){return this._scratch.setUint32(0,this.getUint32(e)),this._scratch.setUint32(4,this.getUint32(e+32)),this._scratch.getFloat64(0)},e.prototype.setBoolean=function(e){this.setBits(e?1:0,1)},e.prototype.setUint8=function(e){this.setBits(e,8)},e.prototype.setUint16=function(e){this.setBits(e,16)},e.prototype.setUint32=function(e){this.setBits(e,32)},e.prototype.setFloat32=function(e){this._scratch.setFloat32(0,e),this.setBits(this._scratch.getUint32(0),32)},e.prototype.setFloat64=function(e){this._scratch.setFloat64(0,e),this.setBits(this._scratch.getUint32(0),32),this.setBits(this._scratch.getUint32(4),32)},e.prototype.getArrayBuffer=function(e,t){for(var r=new Uint8Array(t),n=0;n<t;n++)r[n]=this.getUint8(e+8*n);return r},e}();t.BitBuffer=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.instance=function(){return e._instance||(e._instance=new e),e._instance},e.prototype.decode=function(e){return e},e}();t.BytesConverter=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){this._itemConverter=e,this.options=t}return e.prototype.decode=function(e){for(var t=[],r=this.options.sizeOfItem,n=0;n<e.length;n+=r){var o=e.subarray(n,n+r),i=this._itemConverter.decode(o);t.push(i)}return t},e.prototype.encode=function(e){for(var t=new Uint8Array(this.options.sizeOfItem*e.length),r=0,n=0,o=e;n<o.length;n++){var i=o[n],a=this._itemConverter.encode(i);if(a.length>this.options.sizeOfItem)throw new Error("Encoded item size overflow: "+a.length+" (max is "+this.options.sizeOfItem+")");t.set(a,r),r+=this.options.sizeOfItem}return t},e}();t.ArrayConverter=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5),o=function(){function e(){}return e.prototype.decode=function(e){var t=n.ByteBuffer.from(e);return{address:t.readNumber(4),sizeInBytes:t.readNumber(4),functionCode:t.readNumber(1)}},e.prototype.encode=function(e){var t=n.ByteBuffer.create(9);return t.addNumber(e.address,4),t.addNumber(e.sizeInBytes,4),t.addNumber(e.functionCode,1),t.build()},e.instance=function(){return e._instance||(e._instance=new e),e._instance},e}();t.ModbusInfoConverter=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(56),o=r(2),i=r(62),a=function(){function e(){this._stringDecoder=n.StringConverter.instance(),this._passwordHasher=i.CryptoHelper.passwordHasher}return e.instance=function(){return e._instance||(e._instance=new e),e._instance},Object.defineProperty(e.prototype,"hasher",{get:function(){return this._passwordHasher},enumerable:!0,configurable:!0}),e.prototype.encode=function(t){var r,i=new Uint8Array(e.USERNAME_LENGTH+e.PASSWORD_LENGTH),a=t.username,s=t.password;console.log("CredentialConverter","Hashing password: "+t.hashPassword),t.hashPassword?(r=o.FormatHelper.hexStringToBuffer(this._passwordHasher.hash(s))).length>e.PASSWORD_LENGTH&&(r=r.subarray(0,e.PASSWORD_LENGTH)):r=n.StringConverter.instance().encode(s);var c=n.StringConverter.instance().encode(a);if(c.length>e.USERNAME_LENGTH)throw new Error("Username is too long. Max is "+e.USERNAME_LENGTH+" characters but given "+c.length);if(i.set(c),r.length>e.PASSWORD_LENGTH)throw new Error("Password is too long. Max is "+e.PASSWORD_LENGTH+" characters but given "+r.length);return i.set(r,e.USERNAME_LENGTH),i},e.prototype.decode=function(t){return{username:this._stringDecoder.decode(t.subarray(0,e.USERNAME_LENGTH)),password:this._stringDecoder.decode(t.subarray(e.USERNAME_LENGTH))}},e.USERNAME_LENGTH=16,e.PASSWORD_LENGTH=16,e}();t.LoginCredentialConverter=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),o=function(){function e(){}return e.prototype.decode=function(t){return n.Converter.UniqMaskConverter.decodeOneExact(t,e.mapping)},e.prototype.encode=function(t){return n.Converter.UniqMaskConverter.encodeOneAsBuffer(t,e.mapping)},e.instance=function(){return e._instance||(e._instance=new e),e._instance},e.mapping={0:"GENERIC",1:"IBM_BLUEMIX",2:"MICROSOFT_AZURE",4:"AMAZON_AWS"},e}();t.CloudConnectionModeConverter=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),o=function(){function e(){}return e.prototype.decode=function(t){return n.Converter.UniqMaskConverter.decodeOneExact(t,e.mapping)},e.prototype.encode=function(t){return n.Converter.UniqMaskConverter.encodeOneAsBuffer(t,e.mapping)},e.instance=function(){return e._instance||(e._instance=new e),e._instance},e.mapping={1:"M0_CORTEX",2:"M3_CORTEX"},e}();t.CoreTypeConverter=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5),o=r(8),i=function(){function e(){}return e.prototype.DataLogOptionConverter=function(){},e.prototype.encode=function(e){var t=0;t+=1,t+=1;var r=n.ByteBuffer.create(t);return r.put_boolean(e.qos,1),r.put_boolean(e.security,2),r.forward(1),r.put_boolean(e.autorun,1),r.put_boolean(e.rollingMode,2),r.put_boolean(e.logOnChange,4),r.data},e.prototype.decode=function(e){var t={};if(null==e||0==e.length)throw new Error("Invalid response length: "+e.length);var r,i=n.ByteBuffer.from(e);return r=i.readNumber(1),t.qos=o.BooleanConverter.decodeFromNumber(r,1),t.security=o.BooleanConverter.decodeFromNumber(r,2),r=i.readNumber(1),t.autorun=o.BooleanConverter.decodeFromNumber(r,1),t.rollingMode=o.BooleanConverter.decodeFromNumber(r,2),t.logOnChange=o.BooleanConverter.decodeFromNumber(r,4),t},e.instance=function(){return null==e._instance&&(e._instance=new e),e._instance},e}();t.DataLogOptionConverter=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),o=function(){function e(){}return e.prototype.decode=function(t){return n.Converter.UniqMaskConverter.decodeOneExact(t,e.mapping)},e.prototype.encode=function(t){return n.Converter.UniqMaskConverter.encodeOneAsBuffer(t,e.mapping)},e.instance=function(){return e._instance||(e._instance=new e),e._instance},e.mapping={1:"NORMAL",4:"UPDATED",2:"UPDATING"},e}();t.FirmwareStateConverter=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),o=function(){function e(){}return e.prototype.decode=function(t){return n.Converter.UniqMaskConverter.decodeOneExact(t,e.mapping)},e.prototype.encode=function(t){return n.Converter.UniqMaskConverter.encodeOneAsBuffer(t,e.mapping)},e.instance=function(){return e._instance||(e._instance=new e),e._instance},e.mapping={32:"UNSUPPORTED_PACKAGE_TYPE",64:"INVALID_URI",0:"DEFAULT_VALUE",1:"UPDATE_SUCCESSFUL",4:"OUT_OF_MEMORY",8:"CONNECTION_LOST",2:"NOT_ENOUGH_MEMORY",16:"CRC_CHECK_FAILURE"},e}();t.FirmwareUpdateResultConverter=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),o=function(){function e(){}return e.prototype.decode=function(t){return n.Converter.UniqMaskConverter.decodeOneExact(t,e.mapping)},e.prototype.encode=function(t){return n.Converter.UniqMaskConverter.encodeOneAsBuffer(t,e.mapping)},e.instance=function(){return e._instance||(e._instance=new e),e._instance},e.mapping={32:"WIFI",64:"BLE",1:"NFC",4:"GSM",8:"USB_RLINK",2:"BLUETOOTH",16:"USB_CMISIS_DAP"},e}();t.HostProtocolConverter=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5),o=r(8),i=function(){function e(){}return e.prototype.InterfaceLockConverter=function(){},e.prototype.encode=function(e){var t=0;t+=1,t+=1;var r=n.ByteBuffer.create(t);return r.forward(1),r.put_boolean(e.resourceFactory,1),r.put_boolean(e.resourceLogUid,2),r.put_boolean(e.factoryReset,4),r.put_boolean(e.hashPassword,8),r.put_boolean(e.scramActivated,16),r.data},e.prototype.decode=function(e){var t={};if(null==e||0==e.length)throw new Error("Invalid response length: "+e.length);var r,i=n.ByteBuffer.from(e);return i.readNumber(1),r=i.readNumber(1),t.resourceFactory=o.BooleanConverter.decodeFromNumber(r,1),t.resourceLogUid=o.BooleanConverter.decodeFromNumber(r,2),t.factoryReset=o.BooleanConverter.decodeFromNumber(r,4),t.hashPassword=o.BooleanConverter.decodeFromNumber(r,8),t.scramActivated=o.BooleanConverter.decodeFromNumber(r,16),t},e.instance=function(){return null==e._instance&&(e._instance=new e),e._instance},e}();t.InterfaceLockConverter=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(28),o=r(76),i=function(){function e(){this._arrayConverter=new n.ArrayConverter(o.AclEntryConverter.instance(),{sizeOfItem:1})}return e.prototype.decode=function(e){return this._arrayConverter.decode(e)},e.prototype.encode=function(e){return this._arrayConverter.encode(e)},e.instance=function(){return e._instance||(e._instance=new e),e._instance},e}();t.ListAclEntryConverter=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),o=function(){function e(){}return e.prototype.decode=function(t){return n.Converter.MultipleMaskConverter.decodeAll(t,e.mapping)},e.prototype.encode=function(t){return n.Converter.MultipleMaskConverter.encodeAll(t,e.mapping)},e.instance=function(){return e._instance||(e._instance=new e),e._instance},e.mapping={32:"WIFI",64:"BLE",1:"NFC",4:"GSM",8:"USB_RLINK",2:"BLUETOOTH",16:"USB_CMISIS_DAP"},e}();t.ListHostProtocolConverter=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),o=function(){function e(){}return e.prototype.decode=function(t){return n.Converter.MultipleMaskConverter.decodeAll(t,e.mapping)},e.prototype.encode=function(t){return n.Converter.MultipleMaskConverter.encodeAll(t,e.mapping)},e.instance=function(){return e._instance||(e._instance=new e),e._instance},e.mapping={32:"SERIAL_STANDARD",64:"SERIAL_STANDARD_SWD",1:"SWD",4:"JTAG",8:"MODBUS",128:"SERIAL_STANDARD_S3P",2:"S3P",16:"GPIO"},e}();t.ListTargetProtocolConverter=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),o=function(){function e(){}return e.prototype.decode=function(t){return n.Converter.UniqMaskConverter.decodeOneExact(t,e.mapping)},e.prototype.encode=function(t){return n.Converter.UniqMaskConverter.encodeOneAsBuffer(t,e.mapping)},e.instance=function(){return e._instance||(e._instance=new e),e._instance},e.mapping={0:"NO",2:"STANDBY",3:"SHUTDOWN"},e}();t.LowPowerOptimisationLevelConverter=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),o=function(){function e(){}return e.prototype.decode=function(t){return n.Converter.UniqMaskConverter.decodeOneExact(t,e.mapping)},e.prototype.encode=function(t){return n.Converter.UniqMaskConverter.encodeOneAsBuffer(t,e.mapping)},e.instance=function(){return e._instance||(e._instance=new e),e._instance},e.mapping={2:"INFRASTRUCTURE_CLOUD",0:"PEER_TO_PEER",1:"INFRASTRUCTURE_ONLY"},e}();t.NetworkModeConverter=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),o=function(){function e(){}return e.prototype.decode=function(t){return n.Converter.UniqMaskConverter.decodeOneExact(t,e.mapping)},e.prototype.encode=function(t){return n.Converter.UniqMaskConverter.encodeOneAsBuffer(t,e.mapping)},e.instance=function(){return e._instance||(e._instance=new e),e._instance},e.mapping={0:"NO",1:"MANDATORY",2:"MANDATORY_FOR_LOGIN"},e}();t.NfcPairingModeConverter=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5),o=r(8),i=function(){function e(){}return e.prototype.ReadWriteRightsConverter=function(){},e.prototype.encode=function(e){var t=0;t+=1;var r=n.ByteBuffer.create(t);return 1,r.put_boolean(e.read,1),r.put_boolean(e.write,2),r.data},e.prototype.decode=function(e){var t,r={};if(null==e||0==e.length)throw new Error("Invalid response length: "+e.length);return t=n.ByteBuffer.from(e).readNumber(1),r.read=o.BooleanConverter.decodeFromNumber(t,1),r.write=o.BooleanConverter.decodeFromNumber(t,2),r},e.instance=function(){return null==e._instance&&(e._instance=new e),e._instance},e}();t.ReadWriteRightsConverter=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5),o=function(){function e(){}return e.prototype.ScramLoginParamsConverter=function(){},e.prototype.encode=function(e){var t=0;t+=16,t+=4;var r=n.ByteBuffer.create(t);return r.put_string(e.username,16),r.put_number(e.clientNonce,4),console.log("encoded scram login: ",r),r.data},e.prototype.decode=function(e){var t={};if(null==e||0==e.length)throw new Error("Invalid response length: "+e.length);var r=n.ByteBuffer.from(e);return t.username=r.get_string(16),t.clientNonce=r.get_number(4),t},e.instance=function(){return null==e._instance&&(e._instance=new e),e._instance},e}();t.ScramLoginParamsConverter=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5),o=function(){function e(){}return e.prototype.ScramLoginResponseBodyConverter=function(){},e.prototype.encode=function(e){var t=0;t+=4,t+=4,t+=4;var r=n.ByteBuffer.create(t);return r.put_number(e.serverNonce,4),r.put_bytes(e.salt),r.put_number(e.iterationNumber,4),r.data},e.prototype.decode=function(e){var t={};if(null==e||0==e.length)throw new Error("Invalid response length: "+e.length);var r=n.ByteBuffer.from(e);return t.serverNonce=r.get_number(4),t.salt=r.get_bytes(4),t.iterationNumber=r.get_number(4),t},e.instance=function(){return null==e._instance&&(e._instance=new e),e._instance},e}();t.ScramLoginResponseBodyConverter=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5),o=function(){function e(){}return e.prototype.TargetComStatsConverter=function(){},e.prototype.encode=function(e){var t=0;t+=4,t+=4;var r=n.ByteBuffer.create(t);return r.put_number(e.nbFailCom,4),r.put_number(e.nbSuccessfulCom,4),r.data},e.prototype.decode=function(e){var t={};if(null==e||0==e.length)throw new Error("Invalid response length: "+e.length);var r=n.ByteBuffer.from(e);return t.nbFailCom=r.get_number(4),t.nbSuccessfulCom=r.get_number(4),t},e.instance=function(){return null==e._instance&&(e._instance=new e),e._instance},e}();t.TargetComStatsConverter=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),o=function(){function e(){}return e.prototype.decode=function(t){return n.Converter.UniqMaskConverter.decodeOneExact(t,e.mapping)},e.prototype.encode=function(t){return n.Converter.UniqMaskConverter.encodeOneAsBuffer(t,e.mapping)},e.instance=function(){return e._instance||(e._instance=new e),e._instance},e.mapping={0:"M0_CORTEX",1:"M1_CORTEX",2:"M2_CORTEX",3:"M3_CORTEX"},e}();t.TargetCoreTypeConverter=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),o=function(){function e(){}return e.prototype.decode=function(t){return n.Converter.UniqMaskConverter.decodeOneExact(t,e.mapping)},e.prototype.encode=function(t){return n.Converter.UniqMaskConverter.encodeOneAsBuffer(t,e.mapping)},e.instance=function(){return e._instance||(e._instance=new e),e._instance},e.mapping={0:"SWD",1:"S3P",2:"JTAG",3:"MODBUS",4:"GPIO",5:"SERIAL_STANDARD",6:"SERIAL_STANDARD_SWD",7:"SERIAL_STANDARD_S3P"},e}();t.TargetProtocolConverter=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(189);t.Api=n;var o=r(190);t.Impl=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(191)),n(r(192))},function(e,t,r){"use strict";(function(e){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(a,s)}c((n=n.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(14),a=r(3),s=function(){function t(e,t){this._server=e,this._params=t||{port:2e3},this._clients=[]}return Object.defineProperty(t.prototype,"server",{get:function(){return this._server},enumerable:!0,configurable:!0}),t.prototype.addClient=function(e){return this._clients.push(e),this},t.prototype.removeClient=function(e){var t=this._clients.indexOf(e);return t>=0&&(e.close(),console.log("Removing client "+e.getClientName()+"..."),delete this._clients[t]),this},t.prototype.start=function(){var e=this;return this._subscription=new i.Subject,this._server.connections().subscribe(function(t){return n(e,void 0,void 0,function(){var e,r=this;return o(this,function(n){switch(n.label){case 0:return e=t.getClientName(),console.info("[NEW_CLIENT] "+e),[4,t.ready()];case 1:return n.sent(),console.info("[NEW_CLIENT] "+e+" IS READY"),this.addClient(t),t.events().subscribe({next:function(n){switch(n.type){case"data":var o=r.messageToLog(n.payload);console.info("[MESSAGE] "+o+" from "+e),r.broadcastMessage(n.payload,t);break;case"error":console.error("[ERROR] "+e+" ",n.payload),r.removeClient(t);break;case"end":console.info("[CLIENTEND] "+e),r.removeClient(t)}}}),[2]}})})}),this._server.listen(this._params)},t.prototype.stop=function(){return n(this,void 0,void 0,function(){return o(this,function(e){switch(e.label){case 0:return this._clients.forEach(function(e){e.close()}),this._server?[4,this._server.stop()]:[3,2];case 1:e.sent(),e.label=2;case 2:return this._subscription&&this._subscription.complete(),[2]}})})},t.prototype.broadcastMessage=function(e,t){var r=this.messageToLog(e);console.info("[BROADCAST] "+r+" from "+t.getClientName()),0!=this._clients.length?this._clients.forEach(function(r){try{if(r===t)return void console.log("\t- Skip sender "+r.getClientName());r.isWritable()?(console.log("\t- Sent to "+r.getClientName()),r.write(e)):console.warn("Client "+r.getClientName()+" is not writable. Cannot send to it")}catch(e){console.error("Cannot broadcast to "+r.getClientName(),e)}}):console.warn("There is no client yet")},t.prototype.messageToLog=function(t){return"string"==typeof t?'"'+t+'"':t instanceof e?a.FormatHelper.toHexString(t):t},t}();t.RelayServer=s}).call(this,r(13).Buffer)},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(a,s)}c((n=n.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){this.logger=console,e&&this.setSourceProtocol(e),t&&this.setTargetProtocol(t)}return e.prototype.setSourceProtocol=function(e){return this.mSourceProtocol&&this.removeSourceProtocol(),this.mSourceProtocol=e,this},e.prototype.removeSourceProtocol=function(){return this._sourceProtocolSubscription&&(this._sourceProtocolSubscription.unsubscribe(),this._sourceProtocolSubscription=void 0),this.mSourceProtocol=void 0,this},e.prototype.setTargetProtocol=function(e){return this.mTargetProtocol=e,this},e.prototype.start=function(e){return n(this,void 0,void 0,function(){var t=this;return o(this,function(r){return[2,function(e,t){return new Promise(function(r,n){console.log("promiseTimout start with "+e+" milliseconds"),t(r,n),e>=0&&setTimeout(function(){n("Promise timed out after "+e+" ms")},e)})}(e&&e.timeout||-1,function(e,r){return n(t,void 0,void 0,function(){var t;return o(this,function(n){switch(n.label){case 0:if(n.trys.push([0,5,,6]),!this.mSourceProtocol)throw new Error("Missing source protocol");if(!this.mTargetProtocol)throw new Error("Missing target protocol");return this.mSourceProtocol.isConnected()?[3,2]:(this.logger.info("Connecting to source protocol..."),[4,this.mSourceProtocol.connect().toPromise()]);case 1:n.sent(),n.label=2;case 2:return this.mTargetProtocol.isConnected()?[3,4]:(this.logger.info("Connecting to target protocol..."),[4,this.mTargetProtocol.connect().toPromise()]);case 3:n.sent(),n.label=4;case 4:return this.logger.info("Source/Target are now connected. Listening to messages..."),this.listenToDataStream(),e(),[3,6];case 5:return t=n.sent(),r(t),[3,6];case 6:return[2]}})})})]})})},e.prototype.stop=function(){this.mTargetProtocol&&this.mTargetProtocol.isConnected()&&this.mSourceProtocol.disconnect(),this.mSourceProtocol&&this.mSourceProtocol.isConnected()&&this.mSourceProtocol.disconnect()},e.prototype.listenToDataStream=function(){var e=this;return new Promise(function(t,r){e._sourceProtocolSubscription=e.mSourceProtocol.receiveStream().subscribe({next:function(t){if(t)if(e.mTargetProtocol)try{e.mTargetProtocol.send(t).toPromise().then(function(t){e.mSourceProtocol.write(t)}).catch(function(t){e.logger.error("Source cannot transfer data to target due to error: "+t,t)})}catch(t){e.logger.error("Source cannot transfer data to target due to error: "+t,t)}else e.logger.error("Target protocol is null. Cannot redirect message to it");else e.logger.error("Received null event...")},error:function(e){console.error("Error occured "+e)},complete:function(){t()}})})},e.prototype.onStop=function(){return this},e.TAG="RelayEngine",e}();t.ComRelay=i}])});