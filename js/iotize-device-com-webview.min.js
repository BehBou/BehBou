!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("IoTizeDeviceClient.Protocol.Api"),require("rxjs"),require("IoTizeDeviceClient.Core"),require("IoTizeDeviceClient.Device")):"function"==typeof define&&define.amd?define([,"rxjs",,],t):"object"==typeof exports?exports.IoTizeDeviceComWebview=t(require("IoTizeDeviceClient.Protocol.Api"),require("rxjs"),require("IoTizeDeviceClient.Core"),require("IoTizeDeviceClient.Device")):e.IoTizeDeviceComWebview=t(e.IoTizeDeviceClient.Protocol.Api,e.rxjs,e.IoTizeDeviceClient.Core,e.IoTizeDeviceClient.Device)}(window,function(e,t,o,n){return function(e){var t={};function o(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}return o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=1)}([function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(2),r=o(3),i=o(4),c=function(){function e(){}return e.prototype.connect=function(e){return this.getConnectionState()===n.ConnectionState.CONNECTED?r.of(null):this._toObservableResult(WebViewDeviceComAdapter.connect())},e.prototype.disconnect=function(e){return this.getConnectionState()===n.ConnectionState.DISCONNECTED?r.of(null):this._toObservableResult(WebViewDeviceComAdapter.disconnect())},e.prototype.send=function(e,t){var o=WebViewDeviceComAdapter.send(i.FormatHelper.toHexString(e));return this._toObservableResult(o)},e.prototype.write=function(e){throw new Error("Method not implemented.")},e.prototype.read=function(){throw new Error("Method not implemented.")},e.prototype.getConnectionState=function(){var e=this._jsonStringToResult(WebViewDeviceComAdapter.getConnectionState());return n.ConnectionState[e]},e.prototype.isConnected=function(){return this._jsonStringToResult(WebViewDeviceComAdapter.isConnected())},e.prototype.receiveStream=function(){throw new Error("Method not implemented.")},e.prototype.onConnectionStateChange=function(){return this._connectionStateChange||(this._connectionStateChange=new r.Subject),this._connectionStateChange},e.prototype._jsonStringToResult=function(e){var t=JSON.parse(e);switch(t.type){case"error":throw new Error(t.payload.message);case"json":return t.payload;default:case"bytes":return i.FormatHelper.hexStringToBuffer(t.payload)}},e.prototype._toObservableResult=function(e){try{var t=this._jsonStringToResult(e);return r.of(t)}catch(e){return r.throwError(e)}},e}();t.WebViewComProtocol=c},function(e,t,o){"use strict";function n(e){for(var o in e)t.hasOwnProperty(o)||(t[o]=e[o])}Object.defineProperty(t,"__esModule",{value:!0}),n(o(0)),n(o(5))},function(t,o){t.exports=e},function(e,o){e.exports=t},function(e,t){e.exports=o},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(6),r=o(0);function i(){return"undefined"!=typeof WebViewDeviceComAdapter}t.isIoTizeWebView=i,t.getInjectedIoTizeDevice=function(){if(!i())throw new Error("Not running inside a webview");var e=n.IoTizeDevice.create();return e.connect(new r.WebViewComProtocol),e}},function(e,t){e.exports=n}])});